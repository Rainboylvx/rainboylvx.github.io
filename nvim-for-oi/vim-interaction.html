<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=cache-control content="max-age=0"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><meta http-equiv=expires content="Tue, 01 Jan 1980 1:00:00 GMT"><meta http-equiv=pragma content="no-cache"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png }><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#1b1b1b"><meta name=description content="vim交互"><script>(function(){const e=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.setAttribute("data-theme",e)})()</script><title>vim交互 | Rainboy's Blog</title><style>:root{--background:#ffffff}@media(prefers-color-scheme:dark){:root{--background:#1b1b1b}}html{background-color:var(--background)}body{background-color:var(--background)}</style><link rel=stylesheet type=text/css href=/style.min.4de9e3236bcb55312d0b2ff0fc62c694f607b9c0d95d0621f6c6dbacb7d6dbb5.css media=all><link rel=stylesheet href=/grid.css><link href="https://fonts.font.im/css?family=Roboto+Mono" rel=stylesheet><style>body,.heti,.heti--sans{font-family:roboto mono,monospace,times new roman,times,heti song,serif,apple color emoji,segoe ui emoji,segoe ui symbol}</style></head><body><nav><ul class=menu><li><a tabindex=-1 class=menu-link href=/><u>H</u>ome</a></li><li><a tabindex=-1 class=menu-link href=/tags><u>T</u>ags</a></li><li><span style=cursor:pointer id=theme-switcher class=menu-link type=button><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon h-4 w-4"><path d="M12 3a6 6 0 009 9 9 9 0 11-9-9z"/></svg></span></li></ul></nav><div id=single-header><h1>vim交互</h1><div id=single-meta><span class=datesub>2025-09-09 00:00</span>
<span id=tags>&nbsp;&nbsp;
<span><a href=https://hugo-dead-simple.netlify.com/tags/nvim.html>#nvim</a>
</span>&nbsp;</span></div></div><aside class="hidden lg:block toc" id=tableOfContentContainer><nav id=TableOfContents><ul><li><ul><li><a href=#方式一使用标准-vimui-api>方式一：使用标准 <code>vim.ui</code> API</a></li><li><a href=#方式二使用-dressingnvim-升级对话框外观>方式二：使用 <code>dressing.nvim</code> 升级对话框外观</a></li><li><a href=#方式三使用-nuinvim-构建完全自定义的对话框>方式三：使用 <code>nui.nvim</code> 构建完全自定义的对话框</a></li><li><a href=#总结与推荐>总结与推荐</a></li></ul></li></ul></nav></aside><main class="heti heti--classic"><p>Interaction</p><p><a href=https://neovim.io/doc/user/lua.html#vim.ui.input%28%29 target=_blank rel=noopener>https://neovim.io/doc/user/lua.html#vim.ui.input()</a></p><p>当然有！这是一个非常好的问题，也是 Neovim 区别于传统 Vim 的一大优势。Neovim 提供了多种创建和管理“对话框”或交互式 UI 的方式，从简单的命令行输入到功能强大的浮动窗口应有尽有。</p><p>由于 Neovim 是一个终端应用（TUI），它的“对话框”通常以<strong>浮动窗口</strong>或<strong>命令行提示</strong>的形式出现。</p><p>下面我将为你介绍三种由浅入深、最主流的实现方式：</p><ol><li><strong>标准 API (<code>vim.ui</code>)</strong>: 最简单、最标准的交互方式。</li><li><strong>美化插件 (<code>dressing.nvim</code>)</strong>: 让标准 API 的对话框变得非常漂亮。</li><li><strong>UI 库 (<code>nui.nvim</code>)</strong>: 完全从零开始构建你自己的、复杂的对话框。</li></ol><hr><h3 id=方式一使用标准-vimui-api>方式一：使用标准 <code>vim.ui</code> API</h3><p>Neovim 提供了一套标准的、可被插件覆盖的 UI 接口：<code>vim.ui.input()</code> 和 <code>vim.ui.select()</code>。这是编写交互功能的<strong>首选方式</strong>，因为它具有最好的兼容性。</p><h4 id=1-vimuiinput---获取用户文本输入>1. <code>vim.ui.input()</code> - 获取用户文本输入</h4><p>这个函数会弹出一个提示，让用户输入一段文本。</p><p><strong>示例：</strong> 创建一个命令，询问你的名字，然后打印欢迎信息。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=c1>-- 你可以把这个函数放在你的任意配置文件中</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=kr>function</span> <span class=nf>AskNameAndGreet</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=n>vim.ui</span><span class=p>.</span><span class=n>input</span><span class=p>({</span> <span class=n>prompt</span> <span class=o>=</span> <span class=s2>&#34;What is your name? &#34;</span> <span class=p>},</span> <span class=kr>function</span><span class=p>(</span><span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=kr>if</span> <span class=n>name</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>      <span class=n>vim.notify</span><span class=p>(</span><span class=s2>&#34;Hello, &#34;</span> <span class=o>..</span> <span class=n>name</span> <span class=o>..</span> <span class=s2>&#34;!&#34;</span><span class=p>,</span> <span class=n>vim.log</span><span class=p>.</span><span class=n>levels.INFO</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=kr>else</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>      <span class=n>vim.notify</span><span class=p>(</span><span class=s2>&#34;Greeting cancelled.&#34;</span><span class=p>,</span> <span class=n>vim.log</span><span class=p>.</span><span class=n>levels.WARN</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=c1>-- 创建一个用户命令来调用这个函数</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=n>vim.api</span><span class=p>.</span><span class=n>nvim_create_user_command</span><span class=p>(</span><span class=s2>&#34;Greet&#34;</span><span class=p>,</span> <span class=n>AskNameAndGreet</span><span class=p>,</span> <span class=p>{})</span>
</span></span></code></pre></div><p><strong>如何使用：</strong></p><ol><li>将上述代码添加到你的配置中（例如 <code>init.lua</code>）。</li><li>重启 Neovim。</li><li>在命令模式下输入 <code>:Greet</code> 并回车。</li></ol><p>默认情况下，这会在命令行显示一个简单的输入提示。</p><h4 id=2-vimuiselect---让用户从列表中选择>2. <code>vim.ui.select()</code> - 让用户从列表中选择</h4><p>这个函数会显示一个列表，让用户选择其中一项。</p><p><strong>示例：</strong> 创建一个命令，让你选择一个编程语言，然后告诉你你的选择。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=kr>function</span> <span class=nf>ChooseLanguage</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=kd>local</span> <span class=n>items</span> <span class=o>=</span> <span class=p>{</span> <span class=s2>&#34;C++&#34;</span><span class=p>,</span> <span class=s2>&#34;Rust&#34;</span><span class=p>,</span> <span class=s2>&#34;Lua&#34;</span><span class=p>,</span> <span class=s2>&#34;TypeScript&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=n>vim.ui</span><span class=p>.</span><span class=n>select</span><span class=p>(</span><span class=n>items</span><span class=p>,</span> <span class=p>{</span> <span class=n>prompt</span> <span class=o>=</span> <span class=s2>&#34;Choose your favorite language:&#34;</span> <span class=p>},</span> <span class=kr>function</span><span class=p>(</span><span class=n>choice</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=kr>if</span> <span class=n>choice</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>      <span class=n>vim.notify</span><span class=p>(</span><span class=s2>&#34;You chose: &#34;</span> <span class=o>..</span> <span class=n>choice</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=kr>else</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>      <span class=n>vim.notify</span><span class=p>(</span><span class=s2>&#34;Selection cancelled.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=n>vim.api</span><span class=p>.</span><span class=n>nvim_create_user_command</span><span class=p>(</span><span class=s2>&#34;ChooseLang&#34;</span><span class=p>,</span> <span class=n>ChooseLanguage</span><span class=p>,</span> <span class=p>{})</span>
</span></span></code></pre></div><p><strong>如何使用：</strong></p><ol><li>将代码加入配置并重启。</li><li>输入 <code>:ChooseLang</code> 并回车。</li></ol><p>默认情况下，这会在命令行显示带编号的选项列表。</p><blockquote><p><strong>重点</strong>：<code>vim.ui</code> 的美妙之处在于，它的外观是可以被其他插件“美化”的。接下来我们看如何做到。</p></blockquote><hr><h3 id=方式二使用-dressingnvim-升级对话框外观>方式二：使用 <code>dressing.nvim</code> 升级对话框外观</h3><p><code>dressing.nvim</code> 是一个“胶水”插件，它的唯一作用就是将 <code>vim.ui.input</code> 和 <code>vim.ui.select</code> 的请求，转发给其他更美观的 UI 插件，比如 <code>Telescope</code>、<code>fzf-lua</code> 或者它自己内置的漂亮浮动窗口。</p><p><strong>这是实现漂亮对话框最简单、最推荐的方式。</strong></p><p><strong>配置 (<code>lazy.nvim</code>):</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=c1>-- lua/plugins/dressing.lua</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=kr>return</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=s2>&#34;stevearc/dressing.nvim&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>  <span class=n>event</span> <span class=o>=</span> <span class=s2>&#34;VeryLazy&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=n>opts</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=c1>-- backend = { &#34;telescope&#34;, &#34;fzf_lua&#34;, &#34;fzf&#34;, &#34;builtin&#34;, &#34;nui&#34; }, -- 你可以指定后端的优先级</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=n>input</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>      <span class=c1>-- 使用内置的漂亮浮动窗口作为输入框</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>      <span class=n>backend</span> <span class=o>=</span> <span class=s2>&#34;builtin&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=n>select</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>      <span class=c1>-- 使用内置的浮动窗口作为选择器</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>      <span class=n>backend</span> <span class=o>=</span> <span class=s2>&#34;builtin&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>      <span class=c1>-- 如果你更喜欢 Telescope，可以这样设置：</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>      <span class=c1>-- backend = &#34;telescope&#34;,</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><strong>效果：</strong>
安装并配置好 <code>dressing.nvim</code> 后，你<strong>不需要修改任何代码</strong>。再次运行 <code>:Greet</code> 或 <code>:ChooseLang</code> 命令，你会发现原来的命令行提示变成了一个居中的、带边框的漂亮浮动窗口！</p><p><p class=imgp><img loading=lazy src=https://user-images.githubusercontent.com/506791/148731388-e218861c-8472-4d7a-b586-2a7bd4c8449c.png alt="Dressing.nvim
Example"></p></p><hr><h3 id=方式三使用-nuinvim-构建完全自定义的对话框>方式三：使用 <code>nui.nvim</code> 构建完全自定义的对话框</h3><p>当你需要构建一个非标准的、布局复杂的对话框时（例如，一个包含多个输入框和按钮的窗口），<code>nui.nvim</code> 就是你的终极武器。它是一个底层的 UI 组件库，让你像拼乐高一样组合出任意界面。</p><p><code>dressing.nvim</code> 的 <code>builtin</code> 后端就是基于 <code>nui.nvim</code> 构建的。</p><p><strong>示例：</strong> 创建一个简单的带边框和标题的浮动窗口。</p><p>这是一个更底层的 API，代码会相对复杂一些。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=kr>function</span> <span class=nf>ShowCustomDialog</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=kd>local</span> <span class=n>nui</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s2>&#34;nui&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=kd>local</span> <span class=n>Popup</span> <span class=o>=</span> <span class=n>nui.require</span><span class=p>(</span><span class=s2>&#34;nui.popup&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=kd>local</span> <span class=n>popup</span> <span class=o>=</span> <span class=n>Popup</span><span class=p>({</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=n>enter</span> <span class=o>=</span> <span class=kc>true</span><span class=p>,</span>        <span class=c1>-- 创建后立即进入</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=n>focusable</span> <span class=o>=</span> <span class=kc>true</span><span class=p>,</span>    <span class=c1>-- 可聚焦</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=n>border</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>      <span class=n>style</span> <span class=o>=</span> <span class=s2>&#34;rounded&#34;</span><span class=p>,</span> <span class=c1>-- 圆角边框</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>      <span class=n>text</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>        <span class=n>top</span> <span class=o>=</span> <span class=s2>&#34; My Custom Dialog &#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>        <span class=n>top_align</span> <span class=o>=</span> <span class=s2>&#34;center&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>      <span class=p>},</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>    <span class=n>position</span> <span class=o>=</span> <span class=s2>&#34;50%&#34;</span><span class=p>,</span>    <span class=c1>-- 水平居中</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=n>size</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>      <span class=n>width</span> <span class=o>=</span> <span class=s2>&#34;80%&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>      <span class=n>height</span> <span class=o>=</span> <span class=s2>&#34;60%&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>  <span class=p>})</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>
</span></span><span class=line><span class=ln>22</span><span class=cl>  <span class=c1>-- 挂载 UI 组件，使其显示出来</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>  <span class=n>popup</span><span class=p>:</span><span class=n>mount</span><span class=p>()</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>
</span></span><span class=line><span class=ln>25</span><span class=cl>  <span class=c1>-- 当窗口关闭时，卸载它以释放资源</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>  <span class=n>popup</span><span class=p>:</span><span class=n>on</span><span class=p>(</span><span class=s2>&#34;BufLeave&#34;</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>    <span class=n>popup</span><span class=p>:</span><span class=n>unmount</span><span class=p>()</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>  <span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>
</span></span><span class=line><span class=ln>31</span><span class=cl><span class=n>vim.api</span><span class=p>.</span><span class=n>nvim_create_user_command</span><span class=p>(</span><span class=s2>&#34;CustomDialog&#34;</span><span class=p>,</span> <span class=n>ShowCustomDialog</span><span class=p>,</span> <span class=p>{})</span>
</span></span></code></pre></div><p><strong>如何使用：</strong></p><ol><li>确保你已安装 <code>nui.nvim</code> (<code>dressing.nvim</code> 会自动安装它作为依赖）。</li><li>将代码加入配置并重启。</li><li>输入 <code>:CustomDialog</code> 即可看到一个空的、自定义样式的浮动窗口。你可以在此基础上添加更多组件。</li></ol><h3 id=总结与推荐>总结与推荐</h3><table><thead><tr><th style=text-align:left>方法</th><th style=text-align:left>优点</th><th style=text-align:left>缺点</th><th style=text-align:left>适用场景</th></tr></thead><tbody><tr><td style=text-align:left><strong><code>vim.ui</code> API</strong></td><td style=text-align:left><strong>标准、可移植、简单</strong></td><td style=text-align:left>默认外观简陋</td><td style=text-align:left><strong>编写所有交互逻辑的首选。</strong></td></tr><tr><td style=text-align:left><strong><code>dressing.nvim</code></strong></td><td style=text-align:left><strong>配置简单、效果立竿见影</strong></td><td style=text-align:left>依赖其他插件</td><td style=text-align:left><strong>让 <code>vim.ui</code> 变漂亮的“一劳永逸”方案。</strong></td></tr><tr><td style=text-align:left><strong><code>nui.nvim</code></strong></td><td style=text-align:left><strong>极其灵活，完全控制 UI</strong></td><td style=text-align:left>API 相对复杂，代码量大</td><td style=text-align:left>编写插件，或需要高度自定义的复杂对话框。</td></tr></tbody></table><p><strong>我的建议是：</strong></p><p>始终使用 <code>vim.ui.input</code> 和 <code>vim.ui.select</code> 来编写你的交互功能。然后，安装 <code>dressing.nvim</code> 来美化它们。这样你的代码既标准又能在任何配置了 <code>dressing.nvim</code> 的 Neovim 上获得漂亮的 UI。只有在 <code>dressing.nvim</code> 无法满足你复杂的布局需求时，才考虑直接使用 <code>nui.nvim</code>。</p><p><a href=https://blog.csdn.net/gitblog_00769/article/details/151891034 target=_blank rel=noopener>解放双手：snacks.nvim input模块语音输入全指南</a></p></main><br><footer><div class=footer-info><p>Copyright &copy; 2025 Rainboy. All rights reserved.
<span>| Last build: 2025-10-24 15:51:58</span></p></div><script defer>document.addEventListener("keydown",function(e){if(document.activeElement.isContentEditable)return!1;if(document.activeElement.tagName=="INPUT")return!1;if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=e.key;if(t==="h")e.preventDefault(),e.stopPropagation(),window.location.href="/";else if(t==="t")e.preventDefault(),e.stopPropagation(),window.location.href=`https://${location.hostname}/tags`;else if(t==="i"){e.preventDefault(),e.stopPropagation();const t=document.querySelectorAll("input");for(let e=0;e<t.length;e++)if(t[e].offsetParent!==null){t[e].selectionStart=t[e].selectionEnd=t[e].value.length,t[e].focus();break}}return!1})</script><script defer>function throttle(e,t){var n=Date.now();return function(){var s=Date.now();n+t-s<0&&(e(),n=s)}}function scrollHandler(){const e=Array.from(document.querySelectorAll("body h2, body h3"));function t(){for(var n,s,o,i=window.pageYOffset||document.documentElement.scrollTop,t=0;t<e.length;t++)s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n&&n.classList.remove("active-toc");for(t=e.length-1;t>=0;t--)if(o=e[t].offsetTop,i>o-75&&(s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n)){n.classList.add("active-toc");break}}window.addEventListener("scroll",throttle(t,200))}setTimeout(scrollHandler,100)</script><script defer>function addCopyButtonToCodeBlocks(){const e=document.querySelectorAll('code[class^="language-"]:not(.output):not([class*="language-console"])');e.forEach(e=>{const t=document.createElement("button");t.classList.add("copy-code-button"),t.innerHTML="copy",t.addEventListener("click",()=>{const s=e.querySelectorAll(".cl");let n="";s.forEach(e=>{n+=e.innerText}),navigator.clipboard.writeText(n),t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},1500)}),e.parentNode.before(t)})}setTimeout(function(){addCopyButtonToCodeBlocks()},100)</script><script defer src=/js/theme-switcher.js></script></footer></body></html>