<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=cache-control content="max-age=0"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><meta http-equiv=expires content="Tue, 01 Jan 1980 1:00:00 GMT"><meta http-equiv=pragma content="no-cache"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png }><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#1b1b1b"><meta name=description content="配置一个适合oi的nvim"><script>(function(){const e=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.setAttribute("data-theme",e)})()</script><title>配置一个适合oi的nvim | Rainboy's Blog</title><style>:root{--background:#ffffff}@media(prefers-color-scheme:dark){:root{--background:#1b1b1b}}html{background-color:var(--background)}body{background-color:var(--background)}</style><link rel=stylesheet type=text/css href=/style.min.4de9e3236bcb55312d0b2ff0fc62c694f607b9c0d95d0621f6c6dbacb7d6dbb5.css media=all><link rel=stylesheet href=/grid.css><link href="https://fonts.font.im/css?family=Roboto+Mono" rel=stylesheet><style>body,.heti,.heti--sans{font-family:roboto mono,monospace,times new roman,times,heti song,serif,apple color emoji,segoe ui emoji,segoe ui symbol}</style></head><body><nav><ul class=menu><li><a tabindex=-1 class=menu-link href=/><u>H</u>ome</a></li><li><a tabindex=-1 class=menu-link href=/tags><u>T</u>ags</a></li><li><span style=cursor:pointer id=theme-switcher class=menu-link type=button><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon h-4 w-4"><path d="M12 3a6 6 0 009 9 9 9 0 11-9-9z"/></svg></span></li></ul></nav><div id=single-header><h1>配置一个适合oi的nvim</h1><div id=single-meta><span class=datesub>2025-09-09 00:00</span>
<span id=tags>&nbsp;&nbsp;
<span><a href=https://hugo-dead-simple.netlify.com/tags/vim.html>#vim</a>
</span>&nbsp;</span></div></div><aside class="hidden lg:block toc" id=tableOfContentContainer><nav id=TableOfContents><ul><li><a href=#1-起因>1. 起因</a></li><li><a href=#2-lazynvim>2. lazy.nvim</a></li><li><a href=#3-主题>3. 主题</a></li><li><a href=#4-选项配置>4. 选项配置</a></li><li><a href=#按键配置>按键配置</a></li><li><a href=#插件>插件</a><ul><li><a href=#lualine>lualine</a></li><li><a href=#commentnvim-和-lang-cpplua>Comment.nvim 和 lang-cpp.lua</a></li><li><a href=#which-keynvim>which-key.nvim</a></li><li><a href=#1-marksnvim>1. marks.nvim</a></li><li><a href=#2-lsp>2. lsp</a></li><li><a href=#3-nvim-cmp>3. nvim-cmp</a></li><li><a href=#4-nvim-telescope>4. nvim-telescope</a></li><li><a href=#5-nvim-autopairs>5. nvim-autopairs</a></li><li><a href=#6-nvim-comment>6. nvim-comment</a></li><li><a href=#7-nvim-bufferline>7. nvim-bufferline</a></li><li><a href=#8-nvim-lualine>8. nvim-lualine</a></li><li><a href=#10-nvim-gitsigns>10. nvim-gitsigns</a></li><li><a href=#11-nvim-toggleterm>11. nvim-toggleterm</a></li><li><a href=#12-nvim-whichkey>12. nvim-whichkey</a></li><li><a href=#13-nvim-dap>13. nvim-dap</a></li><li><a href=#14-nvim-dap-ui>14. nvim-dap-ui</a></li><li><a href=#15-nvim-dap-virtual-text>15. nvim-dap-virtual-text</a></li><li><a href=#16-nvim-dap-python>16. nvim-dap-python</a></li><li><a href=#17-nvim-dap-go>17. nvim-dap-go</a></li><li><a href=#18-nvim-dap-ruby>18. nvim-dap-ruby</a></li><li><a href=#19-nvim-dap-vscode-js>19. nvim-dap-vscode-js</a></li><li><a href=#20-nvim-dap-ui>20. nvim-dap-ui</a></li><li><a href=#21-nvim-dap-virtual-text>21. nvim-dap-virtual-text</a></li><li><a href=#22-nvim-dap-python>22. nvim-dap-python</a></li><li><a href=#23-nvim-dap-go>23. nvim-dap-go</a></li><li><a href=#24-nvim-dap-ruby>24. nvim-dap-ruby</a></li><li><a href=#25-nvim-dap-vscode-js>25. nvim-dap-vscode-js</a></li><li><a href=#26-nvim-dap-ui>26. nvim-dap-ui</a></li><li><a href=#27-nvim-dap-virtual-text>27. nvim-dap-virtual-text</a></li><li><a href=#28-nvim-dap-python>28. nvim-dap-python</a></li><li><a href=#29-nvim-dap-go>29. nvim-dap-go</a></li><li><a href=#30-nvim-dap-ruby>30. nvim-dap-ruby</a></li><li><a href=#31-nvim-dap-vscode-js>31. nvim-dap-vscode-js</a></li><li><a href=#32-nvim-dap-ui>32. nvim-dap-ui</a></li><li><a href=#33-nvim-dap-virtual-text>33. nvim-dap-virtual-text</a></li><li><a href=#34-nvim-dap-python>34. nvim-dap-python</a></li><li><a href=#35-nvim-dap-go>35. nvim-dap-go</a></li><li><a href=#36-nvim-dap-ruby>36. nvim-dap-ruby</a></li><li><a href=#37-nvim-dap-vscode-js>37. nvim-dap-vscode-js</a></li><li><a href=#38-nvim-dap-ui>38. nvim-dap-ui</a></li><li><a href=#39-nvim-dap-virtual-text>39. nvim-dap-virtual-text</a></li><li><a href=#40-nvim-dap-python>40. nvim-dap-python</a></li><li><a href=#41-nvim-dap-go>41. nvim-dap-go</a></li><li><a href=#42-nvim-dap-ruby>42. nvim-dap-ruby</a></li><li><a href=#43-nvim-dap-vscode-js>43. nvim-dap-vscode-js</a></li><li><a href=#44-nvim-dap-ui>44. nvim-dap-ui</a></li><li><a href=#45-n>45. n</a></li></ul></li><li><a href=#5-参考>5. 参考</a></li></ul></nav></aside><main class="heti heti--classic"><h2 id=1-起因>1. 起因</h2><p>我的大部分代码编写已经转到vscode,只有写 OJ代码的使用的是vim(因为快). 现在我准备配置一个专用的nvim,精简一下配置.</p><h2 id=2-lazynvim>2. lazy.nvim</h2><p>这里我们使用<a href=https://lazy.folke.io/ target=_blank rel=noopener>lazy.nvim</a> 作为我们的插件管理器,因为国内的环境，我们配置一下github下载proxy</p><p><code>~/.config/nvim/lua/config/lazy.lua</code></p><link rel=stylesheet href=/css/vendors/admonitions.4fd9a0b8ec8899f2ca952048d255a569f433f77dfb3f52f5bc87e7d65cdce449.css integrity="sha256-T9mguOyImfLKlSBI0lWlafQz9337P1L1vIfn1lzc5Ek=" crossorigin=anonymous><details class="admonition code"><summary class=admonition-header><svg viewBox="0 0 640 512"><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8.0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8.0 45.3s32.8 12.5 45.3.0l112-112c12.5-12.5 12.5-32.8.0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3.0zm-306.7.0c-12.5-12.5-32.8-12.5-45.3.0l-112 112c-12.5 12.5-12.5 32.8.0 45.3l112 112c12.5 12.5 32.8 12.5 45.3.0s12.5-32.8.0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8.0-45.3z"/></svg>
<span>lazy.nvim 配置</span></summary><div class=admonition-content><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=c1>-- 初始化 lazy.nvim</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=kd>local</span> <span class=n>gitproxy</span> <span class=o>=</span> <span class=s2>&#34;https://gh-proxy.com/&#34;</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=kd>local</span> <span class=n>lazypath</span> <span class=o>=</span> <span class=n>vim.fn</span><span class=p>.</span><span class=n>stdpath</span><span class=p>(</span><span class=s2>&#34;data&#34;</span><span class=p>)</span> <span class=o>..</span> <span class=s2>&#34;/lazy/lazy.nvim&#34;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=kr>if</span> <span class=ow>not</span> <span class=p>(</span><span class=n>vim.uv</span> <span class=ow>or</span> <span class=n>vim.loop</span><span class=p>).</span><span class=n>fs_stat</span><span class=p>(</span><span class=n>lazypath</span><span class=p>)</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=kd>local</span> <span class=n>lazyrepo</span> <span class=o>=</span> <span class=n>gitproxy</span> <span class=o>..</span> <span class=s2>&#34;https://github.com/folke/lazy.nvim.git&#34;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>  <span class=kd>local</span> <span class=n>out</span> <span class=o>=</span> <span class=n>vim.fn</span><span class=p>.</span><span class=n>system</span><span class=p>({</span> <span class=s2>&#34;git&#34;</span><span class=p>,</span> <span class=s2>&#34;clone&#34;</span><span class=p>,</span> <span class=s2>&#34;--filter=blob:none&#34;</span><span class=p>,</span> <span class=s2>&#34;--branch=stable&#34;</span><span class=p>,</span> <span class=n>lazyrepo</span><span class=p>,</span> <span class=n>lazypath</span> <span class=p>})</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=kr>if</span> <span class=n>vim.v</span><span class=p>.</span><span class=n>shell_error</span> <span class=o>~=</span> <span class=mi>0</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=n>vim.api</span><span class=p>.</span><span class=n>nvim_echo</span><span class=p>({</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>      <span class=p>{</span> <span class=s2>&#34;Failed to clone lazy.nvim:</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>,</span> <span class=s2>&#34;ErrorMsg&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>      <span class=p>{</span> <span class=n>out</span><span class=p>,</span>                            <span class=s2>&#34;WarningMsg&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>      <span class=p>{</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>Press any key to exit...&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>    <span class=p>},</span> <span class=kc>true</span><span class=p>,</span> <span class=p>{})</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=n>vim.fn</span><span class=p>.</span><span class=n>getchar</span><span class=p>()</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=n>os.exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>  <span class=kr>end</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=n>vim.opt</span><span class=p>.</span><span class=n>rtp</span><span class=p>:</span><span class=n>prepend</span><span class=p>(</span><span class=n>lazypath</span><span class=p>)</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=c1>-- 在加载 lazy.nvim 之前确保设置 `mapleader` 和 `maplocalleader`，以确保映射正确。</span>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=c1>-- 这里也是设置其他选项 (vim.opt) 的好地方</span>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=n>vim.g</span><span class=p>.</span><span class=n>mapleader</span> <span class=o>=</span> <span class=s2>&#34; &#34;</span>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=n>vim.g</span><span class=p>.</span><span class=n>maplocalleader</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=se>\\</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>
</span></span><span class=line><span class=ln>24</span><span class=cl><span class=c1>-- 设置 lazy.nvim</span>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=n>require</span><span class=p>(</span><span class=s2>&#34;lazy&#34;</span><span class=p>).</span><span class=n>setup</span><span class=p>({</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>  <span class=c1>-- 不自动检查插件更新</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>  <span class=n>checker</span> <span class=o>=</span> <span class=p>{</span> <span class=n>enabled</span> <span class=o>=</span> <span class=kc>false</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>  <span class=c1>-- 在这里添加你的插件配置</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>  <span class=n>spec</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>    <span class=c1>-- same as: require(&#34;lazy&#34;).setup(&#34;plugins&#34;)</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>    <span class=c1>-- 从 lua/plugins 目录加载插件配置</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>    <span class=p>{</span> <span class=n>import</span> <span class=o>=</span> <span class=s2>&#34;plugins&#34;</span> <span class=p>}</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>
</span></span><span class=line><span class=ln>35</span><span class=cl>  <span class=n>git</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>    <span class=n>log</span> <span class=o>=</span> <span class=p>{</span> <span class=s2>&#34;-8&#34;</span> <span class=p>},</span> <span class=c1>-- 显示最近8次提交</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>    <span class=n>timeout</span> <span class=o>=</span> <span class=mi>120</span><span class=p>,</span>  <span class=c1>-- 终止超过2分钟的进程</span>
</span></span><span class=line><span class=ln>38</span><span class=cl>    <span class=n>url_format</span> <span class=o>=</span> <span class=n>gitproxy</span> <span class=o>..</span> <span class=s2>&#34;https://github.com/%s.git&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>39</span><span class=cl>    <span class=c1>-- lazy.nvim 需要 git &gt;=2.19.0。如果你想在旧版本中使用 lazy，</span>
</span></span><span class=line><span class=ln>40</span><span class=cl>    <span class=c1>-- 可以将下面设置为 false。这样应该可以工作，但不被支持并且会</span>
</span></span><span class=line><span class=ln>41</span><span class=cl>    <span class=c1>-- 大幅增加下载量。</span>
</span></span><span class=line><span class=ln>42</span><span class=cl>    <span class=n>filter</span> <span class=o>=</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=ln>43</span><span class=cl>    <span class=c1>-- 网络相关 git 操作 (clone, fetch, checkout) 的频率</span>
</span></span><span class=line><span class=ln>44</span><span class=cl>    <span class=n>throttle</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>45</span><span class=cl>      <span class=n>enabled</span> <span class=o>=</span> <span class=kc>false</span><span class=p>,</span> <span class=c1>-- 默认不启用</span>
</span></span><span class=line><span class=ln>46</span><span class=cl>      <span class=c1>-- 每5秒最多2个操作</span>
</span></span><span class=line><span class=ln>47</span><span class=cl>      <span class=n>rate</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=ln>48</span><span class=cl>      <span class=n>duration</span> <span class=o>=</span> <span class=mi>5</span> <span class=o>*</span> <span class=mi>1000</span><span class=p>,</span> <span class=c1>-- 以毫秒为单位</span>
</span></span><span class=line><span class=ln>49</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln>50</span><span class=cl>    <span class=c1>-- 在为插件再次运行 fetch 之前等待的秒数。</span>
</span></span><span class=line><span class=ln>51</span><span class=cl>    <span class=c1>-- 重复的更新/检查操作将不会再次运行，直到这个</span>
</span></span><span class=line><span class=ln>52</span><span class=cl>    <span class=c1>-- 冷却期过去。</span>
</span></span><span class=line><span class=ln>53</span><span class=cl>    <span class=n>cooldown</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span>
</span></span><span class=line><span class=ln>54</span><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=ln>55</span><span class=cl><span class=p>})</span></span></span></code></pre></div></div></details><h2 id=3-主题>3. 主题</h2><p>我喜欢<code>gruvbox</code>,这里使用<code>ellisonleao/gruvbox.nvim</code>,根据<a href=https://lazy.folke.io/usage/structuring target=_blank rel=noopener>lazy.nvim structure plugins</a> and <a href=https://lazy.folke.io/installation target=_blank rel=noopener>lazy.nvim Installation</a></p><blockquote><p>Any lua file in <code>~/.config/nvim/lua/plugins/*.lua</code> will be automatically merged in the main plugin spec</p></blockquote><p><code>~/.config/nvim/lua/config/lazy.lua</code> 中的 <code>spec</code> 字段配置如下:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln>1</span><span class=cl><span class=n>require</span><span class=p>(</span><span class=s2>&#34;lazy&#34;</span><span class=p>).</span><span class=n>setup</span><span class=p>({</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=n>spec</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>    <span class=c1>-- same as: require(&#34;lazy&#34;).setup(&#34;plugins&#34;)</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>    <span class=c1>-- 从 lua/plugins 目录加载插件配置</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>    <span class=p>{</span> <span class=n>import</span> <span class=o>=</span> <span class=s2>&#34;plugins&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>6</span><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p><code>~/.config/nvim/lua/plugins/gruvbox.lua</code> 写入如下:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln>1</span><span class=cl><span class=kr>return</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>    <span class=s2>&#34;ellisonleao/gruvbox.nvim&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>    <span class=n>priority</span> <span class=o>=</span> <span class=mi>1000</span><span class=p>,</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>    <span class=n>config</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>        <span class=n>vim.cmd</span><span class=p>.</span><span class=n>colorscheme</span><span class=p>(</span><span class=s2>&#34;gruvbox&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>6</span><span class=cl>    <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=4-选项配置>4. 选项配置</h2><p>选项配置</p><p>主要用到的就是 <code>vim.g</code>、<code>vim.opt</code>、<code>vim.cmd</code> 等，我制造了一个快速参照对比的表格</p><table><thead><tr><th>In <code>Vim</code></th><th>In <code>nvim</code></th><th>Note</th></tr></thead><tbody><tr><td><code>let g:foo = bar</code></td><td><code>vim.g.foo = bar</code></td><td></td></tr><tr><td><code>set foo = bar</code></td><td><code>vim.opt.foo = bar</code></td><td><code>set foo</code> = <code>vim.opt.foo = true</code></td></tr><tr><td><code>some_vimscript</code></td><td><code>vim.cmd(some_vimscript)</code></td><td></td></tr></tbody></table><h2 id=按键配置>按键配置</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=ln> 1</span><span class=cl><span class=o>--</span> <span class=n>define</span> <span class=n>common</span> <span class=n>options</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=n>local</span> <span class=n>opts</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>    <span class=n>noremap</span> <span class=o>=</span> <span class=nb>true</span><span class=p>,</span>      <span class=o>--</span> <span class=n>non</span><span class=o>-</span><span class=n>recursive</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=n>silent</span> <span class=o>=</span> <span class=nb>true</span><span class=p>,</span>       <span class=o>--</span> <span class=k>do</span> <span class=n>not</span> <span class=n>show</span> <span class=n>message</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=o>-----------------</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=o>--</span> <span class=n>Normal</span> <span class=n>mode</span> <span class=o>--</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=o>-----------------</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=o>--</span> <span class=nl>Hint</span><span class=p>:</span> <span class=n>see</span> <span class=err>`</span><span class=o>:</span><span class=n>h</span> <span class=n>vim</span><span class=p>.</span><span class=n>map</span><span class=p>.</span><span class=nf>set</span><span class=p>()</span><span class=err>`</span>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=o>--</span> <span class=n>Better</span> <span class=n>window</span> <span class=n>navigation</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;n&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>h</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>w</span><span class=o>&gt;</span><span class=n>h</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;n&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>j</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>w</span><span class=o>&gt;</span><span class=n>j</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;n&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>k</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>w</span><span class=o>&gt;</span><span class=n>k</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;n&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>l</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>w</span><span class=o>&gt;</span><span class=n>l</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=o>--</span> <span class=n>Resize</span> <span class=n>with</span> <span class=n>arrows</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=o>--</span> <span class=nl>delta</span><span class=p>:</span> <span class=mi>2</span> <span class=n>lines</span>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;n&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>Up</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>:</span><span class=n>resize</span> <span class=o>-</span><span class=mi>2</span><span class=o>&lt;</span><span class=n>CR</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;n&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>Down</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>:</span><span class=n>resize</span> <span class=o>+</span><span class=mi>2</span><span class=o>&lt;</span><span class=n>CR</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;n&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>Left</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>:</span><span class=n>vertical</span> <span class=n>resize</span> <span class=o>-</span><span class=mi>2</span><span class=o>&lt;</span><span class=n>CR</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span><span class=line><span class=ln>23</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;n&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>C</span><span class=o>-</span><span class=n>Right</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>:</span><span class=n>vertical</span> <span class=n>resize</span> <span class=o>+</span><span class=mi>2</span><span class=o>&lt;</span><span class=n>CR</span><span class=o>&gt;</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=o>-----------------</span>
</span></span><span class=line><span class=ln>26</span><span class=cl><span class=o>--</span> <span class=n>Visual</span> <span class=n>mode</span> <span class=o>--</span>
</span></span><span class=line><span class=ln>27</span><span class=cl><span class=o>-----------------</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=o>--</span> <span class=nl>Hint</span><span class=p>:</span> <span class=n>start</span> <span class=n>visual</span> <span class=n>mode</span> <span class=n>with</span> <span class=n>the</span> <span class=n>same</span> <span class=n>area</span> <span class=n>as</span> <span class=n>the</span> <span class=n>previous</span> <span class=n>area</span> <span class=n>and</span> <span class=n>the</span> <span class=n>same</span> <span class=n>mode</span>
</span></span><span class=line><span class=ln>30</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;v&#39;</span><span class=p>,</span> <span class=sc>&#39;&lt;&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&lt;</span><span class=n>gv</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span><span class=line><span class=ln>31</span><span class=cl><span class=n>vim</span><span class=p>.</span><span class=n>keymap</span><span class=p>.</span><span class=nf>set</span><span class=p>(</span><span class=sc>&#39;v&#39;</span><span class=p>,</span> <span class=sc>&#39;&gt;&#39;</span><span class=p>,</span> <span class=err>&#39;</span><span class=o>&gt;</span><span class=n>gv</span><span class=err>&#39;</span><span class=p>,</span> <span class=n>opts</span><span class=p>)</span>
</span></span></code></pre></div><h2 id=插件>插件</h2><h3 id=lualine>lualine</h3><p><a href=https://github.com/nvim-lualine/lualine.nvim target=_blank rel=noopener>lualine.nvim</a>是一个状态栏插件</p><p><code>lua/plugins/lualine.lua</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=kr>return</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=s2>&#34;nvim-lualine/lualine.nvim&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>    <span class=n>dependencies</span> <span class=o>=</span> <span class=p>{</span> <span class=s2>&#34;nvim-tree/nvim-web-devicons&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=n>config</span> <span class=o>=</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>        <span class=n>require</span><span class=p>(</span><span class=s2>&#34;lualine&#34;</span><span class=p>).</span><span class=n>setup</span><span class=p>({</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>            <span class=n>options</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>                <span class=n>theme</span> <span class=o>=</span> <span class=s2>&#34;gruvbox&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>        <span class=p>})</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=kr>end</span><span class=p>,</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>配置</p><h3 id=commentnvim-和-lang-cpplua>Comment.nvim 和 lang-cpp.lua</h3><h3 id=which-keynvim>which-key.nvim</h3><blockquote><p>Create key bindings that stick. WhichKey helps you remember your Neovim keymaps, by showing available keybindings in a popup as you type.</p></blockquote><p>简而言之就是我们可以使用这个插件,来提示我们软件的快捷键是什么？</p><p>具体使用参考<a href=/nvim-for-oi/which-key.html>which-key.nvim 使用</a>,最佳实践:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=c1>-- 在你的 plugins/gitsigns.lua 文件中</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=kr>return</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=s2>&#34;lewis6991/gitsigns.nvim&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>  <span class=c1>-- 其他配置...</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=n>keys</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=c1>-- ↓↓↓ 这就是那个特殊的“显式分组条目” ↓↓↓</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>      <span class=s2>&#34;&lt;leader&gt;g&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>      <span class=n>group</span> <span class=o>=</span> <span class=s2>&#34;Git&#34;</span><span class=p>,</span> <span class=c1>-- 子菜单的标题</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>      <span class=n>desc</span> <span class=o>=</span> <span class=s2>&#34;Git (Gitsigns)&#34;</span><span class=p>,</span> <span class=c1>-- 在&lt;leader&gt;菜单中显示的描述</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>      <span class=n>icon</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=c1>-- Nerd Font 图标 (可选)</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>      <span class=c1>-- 注意: 这里没有第二个元素 (rhs 命令)</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    
</span></span><span class=line><span class=ln>15</span><span class=cl>    <span class=c1>-- ↓↓↓ 下面是这个分组里的具体键位 ↓↓↓</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=p>{</span> <span class=s2>&#34;&lt;leader&gt;gj&#34;</span><span class=p>,</span> <span class=s2>&#34;&lt;cmd&gt;Gitsigns next_hunk&lt;cr&gt;&#34;</span><span class=p>,</span> <span class=n>desc</span> <span class=o>=</span> <span class=s2>&#34;Next Hunk&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>    <span class=p>{</span> <span class=s2>&#34;&lt;leader&gt;gk&#34;</span><span class=p>,</span> <span class=s2>&#34;&lt;cmd&gt;Gitsigns prev_hunk&lt;cr&gt;&#34;</span><span class=p>,</span> <span class=n>desc</span> <span class=o>=</span> <span class=s2>&#34;Previous Hunk&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>    <span class=p>{</span> <span class=s2>&#34;&lt;leader&gt;gp&#34;</span><span class=p>,</span> <span class=s2>&#34;&lt;cmd&gt;Gitsigns preview_hunk&lt;cr&gt;&#34;</span><span class=p>,</span> <span class=n>desc</span> <span class=o>=</span> <span class=s2>&#34;Preview Hunk&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>    <span class=p>{</span> <span class=s2>&#34;&lt;leader&gt;gs&#34;</span><span class=p>,</span> <span class=s2>&#34;&lt;cmd&gt;Gitsigns stage_hunk&lt;cr&gt;&#34;</span><span class=p>,</span> <span class=n>desc</span> <span class=o>=</span> <span class=s2>&#34;Stage Hunk&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>    <span class=p>{</span> <span class=s2>&#34;&lt;leader&gt;gu&#34;</span><span class=p>,</span> <span class=s2>&#34;&lt;cmd&gt;Gitsigns undo_stage_hunk&lt;cr&gt;&#34;</span><span class=p>,</span> <span class=n>desc</span> <span class=o>=</span> <span class=s2>&#34;Undo Stage&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>    <span class=p>{</span> <span class=s2>&#34;&lt;leader&gt;gr&#34;</span><span class=p>,</span> <span class=s2>&#34;&lt;cmd&gt;Gitsigns reset_hunk&lt;cr&gt;&#34;</span><span class=p>,</span> <span class=n>desc</span> <span class=o>=</span> <span class=s2>&#34;Reset Hunk&#34;</span> <span class=p>},</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=ln>23</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=1-marksnvim>1. marks.nvim</h3><p>文件内标记 (Marks)</p><ul><li><code>mx</code> 设置标记 x (x 为任意字母 a-z)</li><li><code>m,</code> 设置下一个可用的小写字母标记</li><li><code>m;</code> 在当前行上切换标记 (如果当前行没有标记，则添加一个；如果有，则删除它)</li><li><code>dmx</code> 删除标记 x</li><li><code>dm-</code> 删除当前行上的所有标记</li><li><code>dm&lt;space></code> 删除当前缓冲区（文件）中的所有标记</li><li><code>m]</code> 跳转到下一个标记</li><li><code>m[</code> 跳转到上一个标记</li></ul><p>m: 预览标记。系统会提示您输入要预览的特定标记；如果直接按 回车键，则会预览下一个标记。</p><p>跨文件书签 (Bookmarks)</p><ul><li><code>m[0-9]</code> 添加一个书签到书签组 [0-9] 中 (例如 m1 会在第1组添加一个书签)</li><li><code>dm[0-9]</code> 删除书签组 [0-9] 中的所有书签</li><li><code>m}</code> 跳转到下一个同类型的书签 (类型与光标下的书签相同)。此功能可跨缓冲区（文件）工作。</li><li><code>m{</code> 跳转到上一个同类型的书签 (类型与光标下的书签相同)。此功能可跨缓冲区（文件）工作。</li><li><code>dm=</code> 删除光标所在位置的书签</li></ul><p>配合 <code>whichkey.nvim</code>的<code>'</code> or <code>`</code> 使用,实现快速的跳转</p><h3 id=2-lsp>2. lsp</h3><p>从 Neovim v0.11 开始引入了 <code>vim.lsp.config</code> 和 <code>vim.lsp.enable</code> 这 2 个 API 对 LSP 进行配置，这下再也不用安装 nvim-lspconfig 了。<del>但我们可能还是需要一个 LSP Registry 用来方便地下载 LSP，比如 mason.nvim</del>(这里我选择手动下载clangd)</p><ol><li>首先看一下 <a href=https://neovim.io/doc/user/lsp.html target=_blank rel=noopener>nvim官方lsp 文档</a></li></ol><p>TODO 简单配置如下</p><p>实现功能: 实时错误显示<p class=imgp><img loading=lazy src=./images/lsp-error.png alt></p></p><h3 id=3-nvim-cmp>3. nvim-cmp</h3><p>这里使用经典nvim-cmp</p><ul><li><a href=https://github.com/hrsh7th/nvim-cmp/ target=_blank rel=noopener>nvim-cmp gihub 地址</a></li><li><a href=https://www.lazyvim.org/extras/coding/nvim-cmp target=_blank rel=noopener>LazyVim nvim-cmp 配置</a></li></ul><h3 id=4-nvim-telescope>4. nvim-telescope</h3><h3 id=5-nvim-autopairs>5. nvim-autopairs</h3><h3 id=6-nvim-comment>6. nvim-comment</h3><h3 id=7-nvim-bufferline>7. nvim-bufferline</h3><h3 id=8-nvim-lualine>8. nvim-lualine</h3><h3 id=10-nvim-gitsigns>10. nvim-gitsigns</h3><h3 id=11-nvim-toggleterm>11. nvim-toggleterm</h3><h3 id=12-nvim-whichkey>12. nvim-whichkey</h3><h3 id=13-nvim-dap>13. nvim-dap</h3><h3 id=14-nvim-dap-ui>14. nvim-dap-ui</h3><h3 id=15-nvim-dap-virtual-text>15. nvim-dap-virtual-text</h3><h3 id=16-nvim-dap-python>16. nvim-dap-python</h3><h3 id=17-nvim-dap-go>17. nvim-dap-go</h3><h3 id=18-nvim-dap-ruby>18. nvim-dap-ruby</h3><h3 id=19-nvim-dap-vscode-js>19. nvim-dap-vscode-js</h3><h3 id=20-nvim-dap-ui>20. nvim-dap-ui</h3><h3 id=21-nvim-dap-virtual-text>21. nvim-dap-virtual-text</h3><h3 id=22-nvim-dap-python>22. nvim-dap-python</h3><h3 id=23-nvim-dap-go>23. nvim-dap-go</h3><h3 id=24-nvim-dap-ruby>24. nvim-dap-ruby</h3><h3 id=25-nvim-dap-vscode-js>25. nvim-dap-vscode-js</h3><h3 id=26-nvim-dap-ui>26. nvim-dap-ui</h3><h3 id=27-nvim-dap-virtual-text>27. nvim-dap-virtual-text</h3><h3 id=28-nvim-dap-python>28. nvim-dap-python</h3><h3 id=29-nvim-dap-go>29. nvim-dap-go</h3><h3 id=30-nvim-dap-ruby>30. nvim-dap-ruby</h3><h3 id=31-nvim-dap-vscode-js>31. nvim-dap-vscode-js</h3><h3 id=32-nvim-dap-ui>32. nvim-dap-ui</h3><h3 id=33-nvim-dap-virtual-text>33. nvim-dap-virtual-text</h3><h3 id=34-nvim-dap-python>34. nvim-dap-python</h3><h3 id=35-nvim-dap-go>35. nvim-dap-go</h3><h3 id=36-nvim-dap-ruby>36. nvim-dap-ruby</h3><h3 id=37-nvim-dap-vscode-js>37. nvim-dap-vscode-js</h3><h3 id=38-nvim-dap-ui>38. nvim-dap-ui</h3><h3 id=39-nvim-dap-virtual-text>39. nvim-dap-virtual-text</h3><h3 id=40-nvim-dap-python>40. nvim-dap-python</h3><h3 id=41-nvim-dap-go>41. nvim-dap-go</h3><h3 id=42-nvim-dap-ruby>42. nvim-dap-ruby</h3><h3 id=43-nvim-dap-vscode-js>43. nvim-dap-vscode-js</h3><h3 id=44-nvim-dap-ui>44. nvim-dap-ui</h3><h3 id=45-n>45. n</h3><h2 id=5-参考>5. 参考</h2><ul><li><a href=https://martinlwx.github.io/zh-cn/config-neovim-from-scratch/ target=_blank rel=noopener>从零开始配置 Neovim(Nvim)</a></li></ul></main><br><footer><div class=footer-info><p>Copyright &copy; 2025 Rainboy. All rights reserved.
<span>| Last build: 2025-11-09 22:54:41</span></p></div><script defer>document.addEventListener("keydown",function(e){if(document.activeElement.isContentEditable)return!1;if(document.activeElement.tagName=="INPUT")return!1;if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=e.key;if(t==="h")e.preventDefault(),e.stopPropagation(),window.location.href="/";else if(t==="t")e.preventDefault(),e.stopPropagation(),window.location.href=`https://${location.hostname}/tags`;else if(t==="i"){e.preventDefault(),e.stopPropagation();const t=document.querySelectorAll("input");for(let e=0;e<t.length;e++)if(t[e].offsetParent!==null){t[e].selectionStart=t[e].selectionEnd=t[e].value.length,t[e].focus();break}}return!1})</script><script defer>function throttle(e,t){var n=Date.now();return function(){var s=Date.now();n+t-s<0&&(e(),n=s)}}function scrollHandler(){const e=Array.from(document.querySelectorAll("body h2, body h3"));function t(){for(var n,s,o,i=window.pageYOffset||document.documentElement.scrollTop,t=0;t<e.length;t++)s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n&&n.classList.remove("active-toc");for(t=e.length-1;t>=0;t--)if(o=e[t].offsetTop,i>o-75&&(s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n)){n.classList.add("active-toc");break}}window.addEventListener("scroll",throttle(t,200))}setTimeout(scrollHandler,100)</script><script defer>function addCopyButtonToCodeBlocks(){const e=document.querySelectorAll('code[class^="language-"]:not(.output):not([class*="language-console"])');e.forEach(e=>{const t=document.createElement("button");t.classList.add("copy-code-button"),t.innerHTML="copy",t.addEventListener("click",()=>{const s=e.querySelectorAll(".cl");let n="";s.forEach(e=>{n+=e.innerText}),navigator.clipboard.writeText(n),t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},1500)}),e.parentNode.before(t)})}setTimeout(function(){addCopyButtonToCodeBlocks()},100)</script><script defer src=/js/theme-switcher.js></script></footer></body></html>