<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=cache-control content="max-age=0"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><meta http-equiv=expires content="Tue, 01 Jan 1980 1:00:00 GMT"><meta http-equiv=pragma content="no-cache"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png }><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#1b1b1b"><meta name=description content="å®Œç¾å®ç° Hugo åšå®¢æš—é»‘æ¨¡å¼åˆ‡æ¢ï¼šä»åŸç†åˆ°å®è·µ"><script>(function(){const e=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.setAttribute("data-theme",e)})()</script><title>å®Œç¾å®ç° Hugo åšå®¢æš—é»‘æ¨¡å¼åˆ‡æ¢ï¼šä»åŸç†åˆ°å®è·µ | Rainboy's Blog</title><style>:root{--background:#ffffff}@media(prefers-color-scheme:dark){:root{--background:#1b1b1b}}html{background-color:var(--background)}body{background-color:var(--background)}</style><link rel=stylesheet type=text/css href=/style.min.20930b28bccdfeef9630b3bf7e743593efc6984312602656fd25572182cb9c89.css media=all><link rel=stylesheet href=/grid.css></head><body><nav><ul class=menu><li><a tabindex=-1 class=menu-link href=/><u>H</u>ome</a></li><li><a tabindex=-1 class=menu-link href=/tags><u>T</u>ags</a></li><li><span style=cursor:pointer id=theme-switcher class=menu-link type=button>ğŸŒ™</span></li></ul></nav><div id=single-header><h1>å®Œç¾å®ç° Hugo åšå®¢æš—é»‘æ¨¡å¼åˆ‡æ¢ï¼šä»åŸç†åˆ°å®è·µ</h1><div id=single-meta><span class=datesub>2025-09-09</span>
<span id=tags>&nbsp;&nbsp;
<span><a href=https://hugo-dead-simple.netlify.com/tags/hugo/>#hugo</a>
</span>&nbsp; <span><a href=https://hugo-dead-simple.netlify.com/tags/web%E5%BC%80%E5%8F%91/>#web%E5%BC%80%E5%8F%91</a>
</span>&nbsp; <span><a href=https://hugo-dead-simple.netlify.com/tags/javascript/>#javascript</a>
</span>&nbsp; <span><a href=https://hugo-dead-simple.netlify.com/tags/css/>#css</a>
</span>&nbsp;</span></div></div><aside class="hidden lg:block toc" id=tableOfContentContainer><nav id=TableOfContents><ul><li><a href=#æœ€ç»ˆæ•ˆæœ>æœ€ç»ˆæ•ˆæœ</a></li><li><a href=#æ ¸å¿ƒå®ç°åŸç†>æ ¸å¿ƒå®ç°åŸç†</a></li><li><a href=#æ¼äººçš„é—ªçƒé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ>æ¼äººçš„â€œé—ªçƒâ€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</a></li><li><a href=#åˆ†æ­¥å®ç°æŒ‡å—>åˆ†æ­¥å®ç°æŒ‡å—</a><ul><li><a href=#ç¬¬-1-æ­¥åœ¨-headerhtml-ä¸­æ·»åŠ æ ¸å¿ƒè„šæœ¬å’Œåˆ‡æ¢æŒ‰é’®>ç¬¬ 1 æ­¥ï¼šåœ¨ <code>header.html</code> ä¸­æ·»åŠ æ ¸å¿ƒè„šæœ¬å’Œåˆ‡æ¢æŒ‰é’®</a></li><li><a href=#ç¬¬-2-æ­¥åˆ›å»ºå¤„ç†æŒ‰é’®äº¤äº’çš„-javascript>ç¬¬ 2 æ­¥ï¼šåˆ›å»ºå¤„ç†æŒ‰é’®äº¤äº’çš„ JavaScript</a></li><li><a href=#ç¬¬-3-æ­¥é…ç½®-css-é¢œè‰²å˜é‡>ç¬¬ 3 æ­¥ï¼šé…ç½® CSS é¢œè‰²å˜é‡</a></li></ul></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li><li><a href=#data-theme-è‡ªå®šä¹‰å±æ€§åŸç†>data-theme è‡ªå®šä¹‰å±æ€§åŸç†</a></li><li><a href=#ä»£ç è§£æ>ä»£ç è§£æ</a><ul><li><a href=#1-root--å…¨å±€é»˜è®¤å˜é‡>1. <code>:root</code> â€” å…¨å±€é»˜è®¤å˜é‡</a></li><li><a href=#2-data-themelight--æµ…è‰²ä¸»é¢˜>2. <code>[data-theme='light']</code> â€” æµ…è‰²ä¸»é¢˜</a></li><li><a href=#3-data-themedark--æ·±è‰²ä¸»é¢˜>3. <code>[data-theme='dark']</code> â€” æ·±è‰²ä¸»é¢˜</a></li></ul></li><li><a href=#data-theme-çš„å·¥ä½œåŸç†><code>data-theme</code> çš„å·¥ä½œåŸç†</a><ul><li><a href=#æ€»ç»“-1>æ€»ç»“</a></li></ul></li></ul></nav></aside><main><p>åœ¨å½“ä»Šçš„ç”¨æˆ·ä½“éªŒè®¾è®¡ä¸­ï¼Œæä¾›æš—é»‘æ¨¡å¼ï¼ˆDark Modeï¼‰å‡ ä¹å·²æˆä¸ºæ ‡é…ã€‚å®ƒä¸ä»…èƒ½å‡å°‘çœ¼éƒ¨ç–²åŠ³ï¼Œåœ¨ä½å…‰ç¯å¢ƒä¸‹ä¹Ÿæ›´åŠ èˆ’é€‚ã€‚æœ¬æ–‡å°†è¯¦ç»†è®°å½•å¦‚ä½•ä¸ºä¸€ä¸ª Hugo ç½‘ç«™ï¼ˆå®é™…ä¸Šé€‚ç”¨äºä»»ä½•é™æ€ç½‘ç«™ï¼‰æ·»åŠ ä¸€ä¸ªåŠŸèƒ½å®Œå–„ã€ä½“éªŒæµç•…çš„ä¸»é¢˜åˆ‡æ¢å™¨ã€‚</p><p>æˆ‘ä»¬å°†è§£å†³ä¸€ä¸ªå¸¸è§ç—›ç‚¹ï¼š<strong>é¡µé¢åˆ·æ–°æ—¶çš„â€œé—ªçƒâ€é—®é¢˜</strong>ï¼Œå¹¶æœ€ç»ˆå®ç°ä¸€ä¸ªå ªç§°å®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚</p><h2 id=æœ€ç»ˆæ•ˆæœ>æœ€ç»ˆæ•ˆæœ</h2><ul><li>ä¸€ä¸ªä½äºå¯¼èˆªæ çš„æŒ‰é’®ï¼Œç”¨äºåœ¨æµ…è‰²ï¼ˆLightï¼‰å’Œæ·±è‰²ï¼ˆDarkï¼‰ä¸»é¢˜é—´åˆ‡æ¢ã€‚</li><li>ç”¨æˆ·çš„é€‰æ‹©ä¼šè¢«æµè§ˆå™¨è®°ä½ï¼Œä¸‹æ¬¡è®¿é—®æ—¶è‡ªåŠ¨åº”ç”¨ã€‚</li><li>å¦‚æœç”¨æˆ·é¦–æ¬¡è®¿é—®ï¼Œåˆ™ä¼šæ ¹æ®å…¶æ“ä½œç³»ç»Ÿçš„åå¥½è‡ªåŠ¨é€‰æ‹©ä¸»é¢˜ã€‚</li><li><strong>æœ€é‡è¦çš„ï¼šé¡µé¢åœ¨åŠ è½½å’Œåˆ·æ–°æ—¶ç»ä¸ä¼šå‡ºç°æ¼äººçš„é¢œè‰²é—ªçƒã€‚</strong></li></ul><h2 id=æ ¸å¿ƒå®ç°åŸç†>æ ¸å¿ƒå®ç°åŸç†</h2><p>æˆ‘ä»¬çš„ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ä¸»è¦ä¾èµ–ä¸¤å¤§ç°ä»£ Web æŠ€æœ¯çš„ç»“åˆï¼š</p><ol><li><strong>CSS è‡ªå®šä¹‰å±æ€§ (CSS Variables)</strong></li><li><strong>é€šè¿‡ JavaScript æ“ä½œ HTML æ ‡ç­¾çš„ <code>data-*</code> å±æ€§</strong></li></ol><p>åŸºæœ¬æ€è·¯æ˜¯ï¼šæˆ‘ä»¬åœ¨ CSS ä¸­å®šä¹‰ä¸¤å¥—é¢œè‰²å˜é‡ï¼Œä¸€å¥—ç”¨äºæµ…è‰²ä¸»é¢˜ï¼Œå¦ä¸€å¥—ç”¨äºæ·±è‰²ä¸»é¢˜ã€‚ç„¶åï¼Œé€šè¿‡ JavaScript åŠ¨æ€åœ°åœ¨ <code>&lt;html></code> æ ¹å…ƒç´ ä¸Šåˆ‡æ¢ä¸€ä¸ª <code>data-theme</code> å±æ€§ï¼ˆä¾‹å¦‚ï¼Œ<code>data-theme="light"</code> æˆ– <code>data-theme="dark"</code>ï¼‰ã€‚CSS ä¼šæ ¹æ®è¿™ä¸ªå±æ€§çš„å€¼ï¼Œè‡ªåŠ¨åº”ç”¨å¯¹åº”çš„é¢œè‰²å˜é‡é›†ï¼Œä»è€Œå®ç°æ•´ä¸ªç½‘ç«™çš„é¢œè‰²åˆ‡æ¢ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln> 1</span><span class=cl><span class=c>/* åŸºç¡€/æµ…è‰²ä¸»é¢˜å˜é‡ */</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=p>:</span><span class=nd>root</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=nv>--background</span><span class=p>:</span> <span class=mh>#ffffff</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>  <span class=nv>--text</span><span class=p>:</span> <span class=mh>#000000</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=nv>--link</span><span class=p>:</span> <span class=mh>#3366cc</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>  <span class=c>/* ... å…¶ä»–é¢œè‰²å˜é‡ */</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=c>/* æ·±è‰²ä¸»é¢˜å˜é‡ */</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s1>&#39;dark&#39;</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>  <span class=nv>--background</span><span class=p>:</span> <span class=mh>#1b1b1b</span><span class=p>;</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>  <span class=nv>--text</span><span class=p>:</span> <span class=mh>#d8d8d8</span><span class=p>;</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>  <span class=nv>--link</span><span class=p>:</span> <span class=mh>#88a9e9</span><span class=p>;</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>  <span class=c>/* ... å…¶ä»–é¢œè‰²å˜é‡ */</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=c>/* åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å˜é‡ */</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=nt>body</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>background</span><span class=p>);</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>  <span class=k>color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>text</span><span class=p>);</span>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>
</span></span><span class=line><span class=ln>23</span><span class=cl><span class=nt>a</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>  <span class=k>color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>link</span><span class=p>);</span>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>è¿™ç§æ–¹æ³•çš„ä¼˜åŠ¿åœ¨äºï¼Œæˆ‘ä»¬æ— éœ€åŠ è½½ä¸åŒçš„ CSS æ–‡ä»¶ï¼Œåªéœ€æ”¹å˜ä¸€ä¸ªå±æ€§ï¼Œå°±èƒ½é«˜æ•ˆåœ°é‡ç»˜æ•´ä¸ªé¡µé¢çš„é¢œè‰²ï¼Œéå¸¸çµæ´»ä¸”æ€§èƒ½ä¼˜ç§€ã€‚</p><h2 id=æ¼äººçš„é—ªçƒé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ>æ¼äººçš„â€œé—ªçƒâ€é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2><p>å¾ˆå¤šä¸»é¢˜åˆ‡æ¢æ–¹æ¡ˆéƒ½å­˜åœ¨ä¸€ä¸ªé€šç—…ï¼šå½“ç”¨æˆ·é€‰æ‹©æ·±è‰²æ¨¡å¼å¹¶åˆ·æ–°é¡µé¢æ—¶ï¼Œé¡µé¢ä¼šå…ˆä»¥é»˜è®¤çš„æµ…è‰²æ¨¡å¼çŸ­æš‚æ˜¾ç¤ºï¼Œç„¶åâ€œé—ªçƒâ€ä¸€ä¸‹å†å˜æˆæ·±è‰²ã€‚</p><p><strong>é—ªçƒåŸå› </strong>ï¼šè¿™æ˜¯å› ä¸ºè´Ÿè´£åˆ‡æ¢ä¸»é¢˜çš„ JavaScript è„šæœ¬é€šå¸¸æ”¾åœ¨ <code>&lt;body></code> åº•éƒ¨åŠ è½½ã€‚æµè§ˆå™¨ä¼šå…ˆæŒ‰ç…§ CSS çš„é»˜è®¤è®¾ç½®ï¼ˆé€šå¸¸æ˜¯æµ…è‰²ä¸»é¢˜ï¼‰æ¸²æŸ“é¡µé¢ï¼Œç­‰ JS åŠ è½½å¹¶æ‰§è¡Œåï¼Œæ‰æŠŠä¸»é¢˜åˆ‡æ¢è¿‡æ¥ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±é€ æˆäº†é—ªçƒã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç­”æ¡ˆæ˜¯<strong>åœ¨æµè§ˆå™¨æ¸²æŸ“ <code>&lt;body></code> ä¹‹å‰å°±ç¡®å®šå¥½ä¸»é¢˜</strong>ã€‚æˆ‘ä»¬å°†ä¸€å°æ®µå…³é”®çš„ JavaScript ä»£ç ä½œä¸ºå†…è”è„šæœ¬ç›´æ¥æ”¾åœ¨ <code>&lt;head></code> æ ‡ç­¾ä¸­ã€‚</p><p>è¿™æ®µè„šæœ¬çš„ä»»åŠ¡éå¸¸çº¯ç²¹ï¼š</p><ol><li>æ£€æŸ¥ <code>localStorage</code> ä¸­æ˜¯å¦æœ‰ç”¨æˆ·ä¹‹å‰ä¿å­˜çš„ä¸»é¢˜åå¥½ã€‚</li><li>å¦‚æœæ²¡æœ‰ï¼Œåˆ™æ£€æŸ¥ç”¨æˆ·çš„æ“ä½œç³»ç»Ÿæ˜¯å¦åå¥½æ·±è‰²æ¨¡å¼ã€‚</li><li>æ ¹æ®ç»“æœï¼Œç«‹å³åœ¨ <code>&lt;html></code> æ ‡ç­¾ä¸Šè®¾ç½® <code>data-theme</code> å±æ€§ã€‚</li></ol><p>å› ä¸ºè¿™æ®µè„šæœ¬åœ¨ <code>&lt;head></code> ä¸­ï¼Œå®ƒä¼šæ¯”é¡µé¢çš„ä»»ä½•å¯è§å…ƒç´ ï¼ˆ<code>&lt;body></code> å†…çš„å†…å®¹ï¼‰éƒ½å…ˆæ‰§è¡Œï¼Œä»è€Œç¡®ä¿äº†æµè§ˆå™¨åœ¨â€œç¬¬ä¸€å¸§â€æ¸²æŸ“æ—¶å°±ä½¿ç”¨äº†æ­£ç¡®çš„ä¸»é¢˜ï¼Œå½»åº•æ¶ˆé™¤äº†é—ªçƒã€‚</p><h2 id=åˆ†æ­¥å®ç°æŒ‡å—>åˆ†æ­¥å®ç°æŒ‡å—</h2><h3 id=ç¬¬-1-æ­¥åœ¨-headerhtml-ä¸­æ·»åŠ æ ¸å¿ƒè„šæœ¬å’Œåˆ‡æ¢æŒ‰é’®>ç¬¬ 1 æ­¥ï¼šåœ¨ <code>header.html</code> ä¸­æ·»åŠ æ ¸å¿ƒè„šæœ¬å’Œåˆ‡æ¢æŒ‰é’®</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°†å®ç°æ— é—ªçƒåˆ‡æ¢çš„æ ¸å¿ƒè„šæœ¬å’ŒæŒ‰é’®æ·»åŠ åˆ°ä¸»é¢˜çš„ <code>header.html</code> ä¸­ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=ln> 1</span><span class=cl>// filepath: layouts/partials/header.html
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    {{/* ... å…¶ä»– head å†…å®¹ ... */}}
</span></span><span class=line><span class=ln> 5</span><span class=cl>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    {{/* æ ¸å¿ƒï¼šé˜²æ­¢é—ªçƒçš„å†…è”è„šæœ¬ */}}
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>      <span class=c1>// åœ¨é¡µé¢åŠ è½½æˆ–åˆ‡æ¢ä¸»é¢˜æ—¶ï¼Œæ­¤è„šæœ¬åº”å†…è”åœ¨ &lt;head&gt; ä¸­ä»¥é¿å… FOUC (Flash of Unstyled Content)
</span></span></span><span class=line><span class=ln> 9</span><span class=cl><span class=c1></span>      <span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>        <span class=kr>const</span> <span class=nx>theme</span> <span class=o>=</span> <span class=nx>localStorage</span><span class=p>.</span><span class=nx>getItem</span><span class=p>(</span><span class=s1>&#39;theme&#39;</span><span class=p>)</span> <span class=o>||</span> <span class=p>(</span><span class=nb>window</span><span class=p>.</span><span class=nx>matchMedia</span><span class=p>(</span><span class=s1>&#39;(prefers-color-scheme: dark)&#39;</span><span class=p>).</span><span class=nx>matches</span> <span class=o>?</span> <span class=s1>&#39;dark&#39;</span> <span class=o>:</span> <span class=s1>&#39;light&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>        <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>setAttribute</span><span class=p>(</span><span class=s1>&#39;data-theme&#39;</span><span class=p>,</span> <span class=nx>theme</span><span class=p>);</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>      <span class=p>})();</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>
</span></span><span class=line><span class=ln>15</span><span class=cl>    {{/* ... å…¶ä»– head å†…å®¹ï¼Œå¦‚ CSS é“¾æ¥ç­‰ ... */}}
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>    <span class=p>&lt;</span><span class=nt>nav</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>      <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;menu&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>        {{/* ... å…¶ä»–èœå•é¡¹ ... */}}
</span></span><span class=line><span class=ln>22</span><span class=cl>        <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;/posts&#34;</span><span class=p>&gt;</span>æ–‡ç« <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>        {{/* ä¸»é¢˜åˆ‡æ¢æŒ‰é’® */}}
</span></span><span class=line><span class=ln>24</span><span class=cl>        <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;&lt;</span><span class=nt>button</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;theme-switcher&#34;</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;menu-link&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;button&#34;</span><span class=p>&gt;</span>ğŸŒ—<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>      <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>    <span class=p>&lt;/</span><span class=nt>nav</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>    {{/* ... */}}
</span></span></code></pre></div><h3 id=ç¬¬-2-æ­¥åˆ›å»ºå¤„ç†æŒ‰é’®äº¤äº’çš„-javascript>ç¬¬ 2 æ­¥ï¼šåˆ›å»ºå¤„ç†æŒ‰é’®äº¤äº’çš„ JavaScript</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ JS æ–‡ä»¶æ¥å¤„ç†æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ã€‚è¿™ä¸ªè„šæœ¬å¯ä»¥æ”¾åœ¨ <code>&lt;body></code> åº•éƒ¨åŠ è½½ï¼Œå› ä¸ºå®ƒä¸è´Ÿè´£åˆå§‹ä¸»é¢˜çš„è®¾å®šï¼Œåªè´Ÿè´£å“åº”ç”¨æˆ·æ“ä½œã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=ln> 1</span><span class=cl><span class=c1>// filepath: static/js/theme-switcher.js
</span></span></span><span class=line><span class=ln> 2</span><span class=cl><span class=c1></span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>  <span class=kr>const</span> <span class=nx>themeSwitcher</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s1>&#39;theme-switcher&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>themeSwitcher</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=c1>// é¡µé¢åŠ è½½æ—¶ï¼Œæ ¹æ®å½“å‰ä¸»é¢˜è®¾ç½®æŒ‰é’®å›¾æ ‡
</span></span></span><span class=line><span class=ln>10</span><span class=cl><span class=c1></span>  <span class=kd>let</span> <span class=nx>currentTheme</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>getAttribute</span><span class=p>(</span><span class=s1>&#39;data-theme&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>  <span class=nx>themeSwitcher</span><span class=p>.</span><span class=nx>textContent</span> <span class=o>=</span> <span class=nx>currentTheme</span> <span class=o>===</span> <span class=s1>&#39;dark&#39;</span> <span class=o>?</span> <span class=s1>&#39;â˜€ï¸&#39;</span> <span class=o>:</span> <span class=s1>&#39;ğŸŒ—&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl>  <span class=c1>// ç›‘å¬æŒ‰é’®ç‚¹å‡»äº‹ä»¶
</span></span></span><span class=line><span class=ln>14</span><span class=cl><span class=c1></span>  <span class=nx>themeSwitcher</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>    <span class=c1>// åˆ‡æ¢ä¸»é¢˜
</span></span></span><span class=line><span class=ln>16</span><span class=cl><span class=c1></span>    <span class=nx>currentTheme</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>getAttribute</span><span class=p>(</span><span class=s1>&#39;data-theme&#39;</span><span class=p>)</span> <span class=o>===</span> <span class=s1>&#39;dark&#39;</span> <span class=o>?</span> <span class=s1>&#39;light&#39;</span> <span class=o>:</span> <span class=s1>&#39;dark&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>    <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>.</span><span class=nx>setAttribute</span><span class=p>(</span><span class=s1>&#39;data-theme&#39;</span><span class=p>,</span> <span class=nx>currentTheme</span><span class=p>);</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>
</span></span><span class=line><span class=ln>19</span><span class=cl>    <span class=c1>// å°†ç”¨æˆ·çš„é€‰æ‹©å­˜å…¥ localStorage
</span></span></span><span class=line><span class=ln>20</span><span class=cl><span class=c1></span>    <span class=nx>localStorage</span><span class=p>.</span><span class=nx>setItem</span><span class=p>(</span><span class=s1>&#39;theme&#39;</span><span class=p>,</span> <span class=nx>currentTheme</span><span class=p>);</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>
</span></span><span class=line><span class=ln>22</span><span class=cl>    <span class=c1>// æ›´æ–°æŒ‰é’®å›¾æ ‡
</span></span></span><span class=line><span class=ln>23</span><span class=cl><span class=c1></span>    <span class=nx>themeSwitcher</span><span class=p>.</span><span class=nx>textContent</span> <span class=o>=</span> <span class=nx>currentTheme</span> <span class=o>===</span> <span class=s1>&#39;dark&#39;</span> <span class=o>?</span> <span class=s1>&#39;â˜€ï¸&#39;</span> <span class=o>:</span> <span class=s1>&#39;ğŸŒ—&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=p>})();</span>
</span></span></code></pre></div><p>åˆ«å¿˜äº†åœ¨ <code>footer_scripts.html</code> æˆ–ç±»ä¼¼çš„åœ°æ–¹å¼•å…¥è¿™ä¸ªè„šæœ¬ï¼š
<code>&lt;script src="{{ "js/theme-switcher.js" | relURL }}">&lt;/script></code></p><h3 id=ç¬¬-3-æ­¥é…ç½®-css-é¢œè‰²å˜é‡>ç¬¬ 3 æ­¥ï¼šé…ç½® CSS é¢œè‰²å˜é‡</h3><p>æœ€åï¼Œä¹Ÿæ˜¯æœ€å…³é”®çš„ä¸€æ­¥ï¼Œæ˜¯é…ç½®å¥½æˆ‘ä»¬çš„ CSS æ–‡ä»¶ï¼Œè®©å®ƒèƒ½å¤Ÿå“åº” <code>data-theme</code> å±æ€§çš„å˜åŒ–ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln> 1</span><span class=cl><span class=c>/* filepath: assets/css/main.css */</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=c>/* é»˜è®¤/æµ…è‰²ä¸»é¢˜å˜é‡ */</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=p>:</span><span class=nd>root</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  <span class=nv>--background</span><span class=p>:</span> <span class=mh>#ffffff</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>  <span class=nv>--text</span><span class=p>:</span> <span class=kc>black</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=nv>--link</span><span class=p>:</span> <span class=mh>#3366cc</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=nv>--card-background</span><span class=p>:</span> <span class=mh>#f9f9f9</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=c>/* ... æ›´å¤šé¢œè‰² */</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=c>/* å½“ data-theme=&#39;light&#39; æ—¶åº”ç”¨çš„å˜é‡ï¼ˆå¯é€‰ï¼Œç”¨äºæ˜ç¡®æŒ‡å®šï¼‰ */</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s1>&#39;light&#39;</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>  <span class=nv>--background</span><span class=p>:</span> <span class=mh>#ffffff</span><span class=p>;</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>  <span class=nv>--text</span><span class=p>:</span> <span class=kc>black</span><span class=p>;</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>  <span class=nv>--link</span><span class=p>:</span> <span class=mh>#3366cc</span><span class=p>;</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>  <span class=nv>--card-background</span><span class=p>:</span> <span class=mh>#f9f9f9</span><span class=p>;</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>  <span class=c>/* ... */</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=c>/* å½“ data-theme=&#39;dark&#39; æ—¶åº”ç”¨çš„å˜é‡ */</span>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s1>&#39;dark&#39;</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>  <span class=nv>--background</span><span class=p>:</span> <span class=mh>#1b1b1b</span><span class=p>;</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>  <span class=nv>--text</span><span class=p>:</span> <span class=mh>#d8d8d8</span><span class=p>;</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>  <span class=nv>--link</span><span class=p>:</span> <span class=mh>#88a9e9</span><span class=p>;</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>  <span class=nv>--card-background</span><span class=p>:</span> <span class=mh>#272727</span><span class=p>;</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>  <span class=c>/* ... æ›´å¤šé¢œè‰² */</span>
</span></span><span class=line><span class=ln>28</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>
</span></span><span class=line><span class=ln>30</span><span class=cl><span class=c>/* ... ä¹‹åçš„ CSS è§„åˆ™å…¨éƒ¨ä½¿ç”¨ var() æ¥å¼•ç”¨é¢œè‰² ... */</span>
</span></span><span class=line><span class=ln>31</span><span class=cl><span class=nt>body</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>background</span><span class=p>);</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>  <span class=k>color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>text</span><span class=p>);</span>
</span></span><span class=line><span class=ln>34</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>35</span><span class=cl>
</span></span><span class=line><span class=ln>36</span><span class=cl><span class=p>.</span><span class=nc>subcategory-card</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>card</span><span class=o>-</span><span class=n>background</span><span class=p>);</span>
</span></span><span class=line><span class=ln>38</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=æ€»ç»“>æ€»ç»“</h2><p>é€šè¿‡å°†<strong>ä¸»é¢˜å†³ç­–é€»è¾‘å‰ç½®åˆ° <code>&lt;head></code></strong> å¹¶ç»“åˆ <strong>CSS å˜é‡</strong>ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªå¥å£®ã€é«˜æ•ˆä¸”ç”¨æˆ·ä½“éªŒæä½³çš„ä¸»é¢˜åˆ‡æ¢ç³»ç»Ÿã€‚è¿™ä¸ªæ–¹æ¡ˆä¸ä»…è§£å†³äº†æ¼äººçš„â€œé—ªçƒâ€é—®é¢˜ï¼Œå…¶æ¨¡å—åŒ–çš„ç»“æ„ä¹Ÿä½¿å¾—æœªæ¥çš„æ ·å¼ç»´æŠ¤å’Œæ‰©å±•å˜å¾—å¼‚å¸¸ç®€å•ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼</p><h2 id=data-theme-è‡ªå®šä¹‰å±æ€§åŸç†>data-theme è‡ªå®šä¹‰å±æ€§åŸç†</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln> 1</span><span class=cl><span class=p>:</span><span class=nd>root</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>Â  <span class=nv>--complimentary</span><span class=p>:</span> <span class=mh>#815205</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>Â  <span class=nv>--text</span><span class=p>:</span> <span class=kc>black</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>Â  <span class=nv>--code</span><span class=p>:</span> <span class=kc>black</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>Â  <span class=nv>--accent-color</span><span class=p>:</span> <span class=mh>#00aaff</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>Â  <span class=nv>--accent-color-light</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>170</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>);</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>Â  <span class=nv>--card-background</span><span class=p>:</span> <span class=mh>#cccccc</span><span class=mi>5</span><span class=n>f</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>Â  <span class=nv>--card-background-hover</span><span class=p>:</span> <span class=mh>#6e6b6b</span><span class=n>ff</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>Â  <span class=nv>--card-text-color</span><span class=p>:</span> <span class=mh>#100101</span><span class=n>ff</span><span class=p>;</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>Â  <span class=nv>--shadow-color</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.1</span><span class=p>);</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>Â  <span class=nv>--text-dim</span><span class=p>:</span> <span class=mh>#444</span><span class=p>;</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>Â  <span class=nv>--link</span><span class=p>:</span> <span class=mh>#3366cc</span><span class=p>;</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>Â  <span class=nv>--link-visited</span><span class=p>:</span> <span class=mh>#795cb2</span><span class=p>;</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>Â  <span class=nv>--code-background</span><span class=p>:</span> <span class=mh>#f3f5f7</span><span class=p>;</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>Â  <span class=nv>--code-border</span><span class=p>:</span> <span class=mh>#eaecf0</span><span class=p>;</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>Â  <span class=nv>--code-border</span><span class=p>:</span> <span class=kc>transparent</span><span class=p>;</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>Â  <span class=nv>--code-hl</span><span class=p>:</span> <span class=mh>#e6e6e6</span><span class=p>;</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>Â  <span class=nv>--border-general</span><span class=p>:</span> <span class=mh>#cccfd4</span><span class=p>;</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>Â  <span class=nv>--table-th</span><span class=p>:</span> <span class=mh>#e1e5ea</span><span class=p>;</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>Â  <span class=nv>--table-tr</span><span class=p>:</span> <span class=mh>#edeff2</span><span class=p>;</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>Â  <span class=nv>--toc-background</span><span class=p>:</span> <span class=mh>#f9f9f9</span><span class=p>;</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>Â  <span class=nv>--toc-border</span><span class=p>:</span> <span class=mh>#aaa</span><span class=p>;</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>Â  <span class=nv>--output-background</span><span class=p>:</span> <span class=mh>#d5dbe3</span><span class=p>;</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>Â  <span class=nv>--output-foreground</span><span class=p>:</span> <span class=mh>#805105</span><span class=p>;</span>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>
</span></span><span class=line><span class=ln>27</span><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s1>&#39;light&#39;</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>Â  <span class=nv>--background</span><span class=p>:</span> <span class=mh>#ffffff</span><span class=p>;</span>
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>
</span></span><span class=line><span class=ln>31</span><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s1>&#39;dark&#39;</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>Â  <span class=nv>--background</span><span class=p>:</span> <span class=mh>#1b1b1b</span><span class=p>;</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>Â  <span class=nv>--text</span><span class=p>:</span> <span class=mh>#d8d8d8</span><span class=p>;</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>Â  <span class=nv>--code</span><span class=p>:</span> <span class=mh>#cbcbcb</span><span class=p>;</span>
</span></span><span class=line><span class=ln>35</span><span class=cl>Â  <span class=nv>--accent-color</span><span class=p>:</span> <span class=mh>#00aaff</span><span class=p>;</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>Â  <span class=nv>--accent-color-light</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>170</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>);</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>Â  <span class=nv>--card-background</span><span class=p>:</span> <span class=mh>#272727</span><span class=p>;</span>
</span></span><span class=line><span class=ln>38</span><span class=cl>Â  <span class=nv>--card-background-hover</span><span class=p>:</span> <span class=mh>#444</span><span class=p>;</span>
</span></span><span class=line><span class=ln>39</span><span class=cl>Â  <span class=nv>--card-text-color</span><span class=p>:</span> <span class=mh>#d8d8d8</span><span class=p>;</span>
</span></span><span class=line><span class=ln>40</span><span class=cl>Â  <span class=nv>--shadow-color</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.3</span><span class=p>);</span>
</span></span><span class=line><span class=ln>41</span><span class=cl>Â  <span class=nv>--text-dim</span><span class=p>:</span> <span class=mh>#a7a7a7</span><span class=p>;</span>
</span></span><span class=line><span class=ln>42</span><span class=cl>Â  <span class=nv>--link</span><span class=p>:</span> <span class=mh>#88a9e9</span><span class=p>;</span>
</span></span><span class=line><span class=ln>43</span><span class=cl>Â  <span class=nv>--link-visited</span><span class=p>:</span> <span class=mh>#a390ca</span><span class=p>;</span>
</span></span><span class=line><span class=ln>44</span><span class=cl>Â  <span class=nv>--code-background</span><span class=p>:</span> <span class=mh>#272727</span><span class=p>;</span>
</span></span><span class=line><span class=ln>45</span><span class=cl>Â  <span class=nv>--code-border</span><span class=p>:</span> <span class=kc>transparent</span><span class=p>;</span>
</span></span><span class=line><span class=ln>46</span><span class=cl>Â  <span class=nv>--code-hl</span><span class=p>:</span> <span class=mh>#5a5a5a</span><span class=p>;</span>
</span></span><span class=line><span class=ln>47</span><span class=cl>Â  <span class=nv>--border-general</span><span class=p>:</span> <span class=mh>#495057</span><span class=p>;</span>
</span></span><span class=line><span class=ln>48</span><span class=cl>Â  <span class=nv>--table-th</span><span class=p>:</span> <span class=mh>#414141</span><span class=p>;</span>
</span></span><span class=line><span class=ln>49</span><span class=cl>Â  <span class=nv>--table-tr</span><span class=p>:</span> <span class=mh>#343434</span><span class=p>;</span>
</span></span><span class=line><span class=ln>50</span><span class=cl>Â  <span class=nv>--toc-background</span><span class=p>:</span> <span class=mh>#343434</span><span class=p>;</span>
</span></span><span class=line><span class=ln>51</span><span class=cl>Â  <span class=nv>--toc-border</span><span class=p>:</span> <span class=mh>#495057</span><span class=p>;</span>
</span></span><span class=line><span class=ln>52</span><span class=cl>Â  <span class=nv>--output-background</span><span class=p>:</span> <span class=mh>#020202</span><span class=p>;</span>
</span></span><span class=line><span class=ln>53</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>å‘æˆ‘è§£é‡Šä¸Šé¢çš„ä»£ç ,å¹¶å‘æˆ‘è§£é‡Š <code>data-theme</code>çš„åŸç†</p><p>å½“ç„¶ï¼Œæˆ‘å¾ˆä¹æ„ä¸ºä½ è§£é‡Šè¿™æ®µä»£ç ä»¥åŠ <code>data-theme</code> çš„å·¥ä½œåŸç†ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œè¿™æ®µ CSS ä»£ç ä½¿ç”¨ <strong>CSS å˜é‡</strong>ï¼ˆä¹Ÿå«è‡ªå®šä¹‰å±æ€§ï¼‰å’Œ <strong><code>data-</code> å±æ€§</strong>æ¥åˆ›å»ºä¸€å¥—çµæ´»çš„ä¸»é¢˜ç³»ç»Ÿï¼Œå¯ä»¥è½»æ¾åœ°åœ¨æµ…è‰²æ¨¡å¼ (light mode) å’Œæ·±è‰²æ¨¡å¼ (dark mode) ä¹‹é—´åˆ‡æ¢ã€‚</p><hr><h2 id=ä»£ç è§£æ>ä»£ç è§£æ</h2><p>è¿™æ®µä»£ç ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><h3 id=1-root--å…¨å±€é»˜è®¤å˜é‡>1. <code>:root</code> â€” å…¨å±€é»˜è®¤å˜é‡</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln>1</span><span class=cl><span class=p>:</span><span class=nd>root</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>Â  <span class=nv>--complimentary</span><span class=p>:</span> <span class=mh>#815205</span><span class=p>;</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>Â  <span class=nv>--text</span><span class=p>:</span> <span class=kc>black</span><span class=p>;</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>  <span class=c>/* ... å…¶ä»–å˜é‡ ... */</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li><strong><code>:root</code> é€‰æ‹©å™¨</strong>ï¼šè¿™ä¸ªé€‰æ‹©å™¨æŒ‡å‘æ–‡æ¡£çš„æ ¹å…ƒç´ ï¼Œåœ¨ HTML ä¸­å°±æ˜¯ <code>&lt;html></code> æ ‡ç­¾ã€‚åœ¨è¿™é‡Œå®šä¹‰çš„å˜é‡æ˜¯<strong>å…¨å±€çš„</strong>ï¼Œå¯ä»¥åœ¨æ•´ä¸ªé¡µé¢çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚</li><li><strong>CSS å˜é‡ (Custom Properties)</strong>ï¼šä»¥ <code>--</code> å¼€å¤´çš„éƒ½æ˜¯ CSS å˜é‡ã€‚ä½ å¯ä»¥æŠŠå®ƒä»¬çœ‹ä½œæ˜¯å€¼çš„â€œå ä½ç¬¦â€ã€‚ä¾‹å¦‚ï¼Œ<code>--text: black;</code> å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>text</code> çš„å˜é‡ï¼Œå®ƒçš„å€¼æ˜¯é»‘è‰²ã€‚</li><li><strong>ä½œç”¨</strong>ï¼šè¿™ä¸ªéƒ¨åˆ†å®šä¹‰äº†ç½‘ç«™çš„<strong>é»˜è®¤ä¸»é¢˜</strong>ï¼Œæˆ–è€…è¯´æ˜¯â€œåŸºç¡€â€é¢œè‰²ã€‚å½“æ²¡æœ‰æŒ‡å®šç‰¹å®šä¸»é¢˜æ—¶ï¼Œç½‘ç«™å°±ä¼šä½¿ç”¨è¿™äº›é¢œè‰²ã€‚</li></ul><h3 id=2-data-themelight--æµ…è‰²ä¸»é¢˜>2. <code>[data-theme='light']</code> â€” æµ…è‰²ä¸»é¢˜</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln>1</span><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s1>&#39;light&#39;</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>Â  <span class=nv>--background</span><span class=p>:</span> <span class=mh>#ffffff</span><span class=p>;</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li><strong><code>[data-theme='light']</code></strong>ï¼šè¿™æ˜¯ä¸€ä¸ª<strong>å±æ€§é€‰æ‹©å™¨</strong>ã€‚å®ƒçš„æ„æ€æ˜¯ï¼šâ€œé€‰æ‹©ä»»ä½•å¸¦æœ‰ <code>data-theme</code> å±æ€§å¹¶ä¸”è¯¥å±æ€§çš„å€¼ä¸º <code>light</code> çš„å…ƒç´ â€ã€‚</li><li><strong>ä½œç”¨</strong>ï¼šå½“ <code>&lt;html></code> æˆ– <code>&lt;body></code> æ ‡ç­¾è¢«è®¾ç½®ä¸º <code>&lt;html data-theme="light"></code> æ—¶ï¼Œè¿™ä¸ªè§„åˆ™å°±ä¼šç”Ÿæ•ˆã€‚å®ƒå®šä¹‰äº†æµ…è‰²ä¸»é¢˜ä¸‹çš„ç‰¹å®šå˜é‡ã€‚åœ¨è¿™é‡Œï¼Œå®ƒåªå®šä¹‰äº† <code>--background</code> ä¸ºç™½è‰² (<code>#ffffff</code>)ã€‚å…¶ä»–æ²¡æœ‰è¢«é‡æ–°å®šä¹‰çš„å˜é‡ï¼ˆå¦‚ <code>--text</code>ï¼‰ä¼šç»§ç»­ä½¿ç”¨ <code>:root</code> ä¸­çš„é»˜è®¤å€¼ã€‚</li></ul><h3 id=3-data-themedark--æ·±è‰²ä¸»é¢˜>3. <code>[data-theme='dark']</code> â€” æ·±è‰²ä¸»é¢˜</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln>1</span><span class=cl><span class=o>[</span><span class=nt>data-theme</span><span class=o>=</span><span class=s1>&#39;dark&#39;</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>Â  <span class=nv>--background</span><span class=p>:</span> <span class=mh>#1b1b1b</span><span class=p>;</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>Â  <span class=nv>--text</span><span class=p>:</span> <span class=mh>#d8d8d8</span><span class=p>;</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>  <span class=c>/* ... å…¶ä»–å˜é‡ ... */</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li><strong><code>[data-theme='dark']</code></strong>ï¼šä¸ä¸Šé¢ç±»ä¼¼ï¼Œè¿™ä¸ªå±æ€§é€‰æ‹©å™¨ä¼šåŒ¹é… <code>&lt;html data-theme="dark"></code> è¿™æ ·çš„å…ƒç´ ã€‚</li><li><strong>ä½œç”¨</strong>ï¼šå½“ç½‘ç«™åˆ‡æ¢åˆ°æ·±è‰²æ¨¡å¼æ—¶ï¼Œè¿™ä¸ªè§„åˆ™ä¼šç”Ÿæ•ˆã€‚å®ƒä¼š<strong>è¦†ç›–</strong> <code>:root</code> ä¸­å®šä¹‰çš„è®¸å¤šå˜é‡ï¼Œå°†å®ƒä»¬æ›¿æ¢ä¸ºé€‚åˆåœ¨æ·±è‰²èƒŒæ™¯ä¸‹æ˜¾ç¤ºçš„é¢œè‰²å€¼ï¼ˆä¾‹å¦‚ï¼ŒèƒŒæ™¯å˜ä¸ºæ·±ç°è‰²ï¼Œæ–‡å­—å˜ä¸ºæµ…ç°è‰²ï¼‰ã€‚</li></ul><hr><h2 id=data-theme-çš„å·¥ä½œåŸç†><code>data-theme</code> çš„å·¥ä½œåŸç†</h2><p><code>data-theme</code> æ˜¯ä¸€ä¸ª<strong>è‡ªå®šä¹‰æ•°æ®å±æ€§ (Custom Data Attribute)</strong>ã€‚è¿™æ˜¯ HTML5 çš„ä¸€ä¸ªå¾ˆæ£’çš„åŠŸèƒ½ï¼Œå…è®¸ä½ å°†è‡ªå®šä¹‰çš„æ•°æ®å­˜å‚¨åœ¨ HTML å…ƒç´ ä¸Šï¼Œè€Œä¸ä¼šå½±å“å…¶æ ·å¼å’Œè¡Œä¸ºã€‚</p><p>å®ƒçš„å·¥ä½œåŸç†å°±åƒä¸€ä¸ª<strong>çŠ¶æ€å¼€å…³</strong> ğŸš¦ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><p><strong>å®šä¹‰æ ·å¼</strong>ï¼šå°±åƒä½ ä¸Šé¢æä¾›çš„ CSS ä»£ç ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸ºä¸åŒçš„ <code>data-theme</code> å€¼ï¼ˆå¦‚ <code>light</code> å’Œ <code>dark</code>ï¼‰å®šä¹‰ä¸åŒçš„ CSS å˜é‡ã€‚</p></li><li><p><strong>è®¾ç½®åˆå§‹çŠ¶æ€</strong>ï¼šåœ¨ HTML çš„æ ¹å…ƒç´ ï¼ˆé€šå¸¸æ˜¯ <code>&lt;html></code>ï¼‰ä¸Šè®¾ç½®ä¸€ä¸ªåˆå§‹ä¸»é¢˜ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=ln>1</span><span class=cl><span class=p>&lt;</span><span class=nt>html</span> <span class=na>data-theme</span><span class=o>=</span><span class=s>&#34;light&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>å½“é¡µé¢åŠ è½½æ—¶ï¼Œæµè§ˆå™¨çœ‹åˆ° <code>data-theme="light"</code>ï¼Œäºæ˜¯ <code>[data-theme='light']</code> çš„ CSS è§„åˆ™è¢«åº”ç”¨ï¼Œé¡µé¢æ˜¾ç¤ºä¸ºæµ…è‰²ä¸»é¢˜ã€‚</p></li><li><p><strong>ä½¿ç”¨å˜é‡</strong>ï¼šåœ¨ä½ çš„å…¶ä»– CSS æ–‡ä»¶ä¸­ï¼Œä½ ä¸ä¼šç›´æ¥ä½¿ç”¨é¢œè‰²ä»£ç ï¼Œè€Œæ˜¯ä½¿ç”¨ <code>var()</code> å‡½æ•°æ¥è°ƒç”¨è¿™äº›å˜é‡ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln>1</span><span class=cl><span class=nt>body</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>background</span><span class=p>);</span> <span class=c>/* ä½¿ç”¨ --background å˜é‡ */</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>  <span class=k>color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=kc>text</span><span class=p>);</span> <span class=c>/* ä½¿ç”¨ --text å˜é‡ */</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=nt>a</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>7</span><span class=cl>  <span class=k>color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>link</span><span class=p>);</span> <span class=c>/* ä½¿ç”¨ --link å˜é‡ */</span>
</span></span><span class=line><span class=ln>8</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä½ åªéœ€è¦æ”¹å˜å˜é‡çš„å€¼ï¼Œæ‰€æœ‰ä½¿ç”¨è¯¥å˜é‡çš„å…ƒç´ çš„æ ·å¼éƒ½ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</p></li><li><p><strong>ç”¨ JavaScript åˆ‡æ¢ä¸»é¢˜</strong>ï¼šå½“ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªâ€œåˆ‡æ¢ä¸»é¢˜â€æŒ‰é’®æ—¶ï¼Œä½ ä¼šç”¨ JavaScript æ¥æ”¹å˜ <code>&lt;html></code> æ ‡ç­¾ä¸Š <code>data-theme</code> å±æ€§çš„å€¼ã€‚</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=ln>1</span><span class=cl><span class=c1>// è·å– &lt;html&gt; å…ƒç´ 
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>htmlElement</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>documentElement</span><span class=p>;</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1>// å‡è®¾å½“å‰æ˜¯ &#39;light&#39;ï¼Œæˆ‘ä»¬è¦åˆ‡æ¢åˆ° &#39;dark&#39;
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=c1></span><span class=nx>htmlElement</span><span class=p>.</span><span class=nx>setAttribute</span><span class=p>(</span><span class=s1>&#39;data-theme&#39;</span><span class=p>,</span> <span class=s1>&#39;dark&#39;</span><span class=p>);</span>
</span></span></code></pre></div></li></ol><p><strong>åˆ‡æ¢ç¬é—´å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</strong></p><p>å½“ JavaScript å°† <code>data-theme</code> çš„å€¼ä» <code>'light'</code> æ”¹ä¸º <code>'dark'</code> æ—¶ï¼Œæµè§ˆå™¨ä¼šç«‹å³é‡æ–°è®¡ç®—æ ·å¼ï¼š</p><ul><li>ä¹‹å‰åŒ¹é…çš„ CSS è§„åˆ™ <code>[data-theme='light']</code> <strong>ä¸å†ç”Ÿæ•ˆ</strong>ã€‚</li><li>æ–°çš„ CSS è§„åˆ™ <code>[data-theme='dark']</code> <strong>å¼€å§‹ç”Ÿæ•ˆ</strong>ã€‚</li><li>æ‰€æœ‰ CSS å˜é‡ï¼ˆ<code>--background</code>, <code>--text</code> ç­‰ï¼‰çš„å€¼è¢«ç«‹åˆ»æ›´æ–°ä¸ºæ·±è‰²ä¸»é¢˜çš„å€¼ã€‚</li><li>æ‰€æœ‰ä½¿ç”¨äº† <code>var()</code> å‡½æ•°çš„å…ƒç´ ï¼ˆæ¯”å¦‚ <code>body</code>ï¼‰çš„æ ·å¼éƒ½ä¼š<strong>è‡ªåŠ¨é‡æ–°æ¸²æŸ“</strong>ï¼Œé¡µé¢ç¬é—´å°±ä»æµ…è‰²æ¨¡å¼å˜æˆäº†æ·±è‰²æ¨¡å¼ï¼Œæ— éœ€åˆ·æ–°é¡µé¢ã€‚</li></ul><h3 id=æ€»ç»“-1>æ€»ç»“</h3><p>æ€»è€Œè¨€ä¹‹ï¼Œè¿™ç§æ–¹æ³•é€šè¿‡ <strong>CSS å˜é‡</strong>å°†è®¾è®¡ç³»ç»Ÿçš„é¢œè‰²é›†ä¸­ç®¡ç†ï¼Œç„¶ååˆ©ç”¨ <strong><code>data-theme</code> å±æ€§</strong>ä½œä¸ºå¼€å…³ï¼Œæœ€åé€šè¿‡ <strong>JavaScript</strong> æ¥â€œæ‹¨åŠ¨â€è¿™ä¸ªå¼€å…³ï¼Œä»è€Œå®ç°äº†ä¸€ç§éå¸¸ç°ä»£åŒ–ã€é«˜æ•ˆä¸”æ˜“äºç»´æŠ¤çš„ç½‘ç«™ä¸»é¢˜åˆ‡æ¢æ–¹æ¡ˆã€‚</p></main><br><footer><script defer>document.addEventListener("keydown",function(e){if(document.activeElement.isContentEditable)return!1;if(document.activeElement.tagName=="INPUT")return!1;if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=e.key;if(t==="h")e.preventDefault(),e.stopPropagation(),window.location.href="/";else if(t==="t")e.preventDefault(),e.stopPropagation(),window.location.href=`https://${location.hostname}/tags`;else if(t==="i"){e.preventDefault(),e.stopPropagation();const t=document.querySelectorAll("input");for(let e=0;e<t.length;e++)if(t[e].offsetParent!==null){t[e].selectionStart=t[e].selectionEnd=t[e].value.length,t[e].focus();break}}return!1})</script><script defer>function throttle(e,t){var n=Date.now();return function(){var s=Date.now();n+t-s<0&&(e(),n=s)}}function scrollHandler(){const e=Array.from(document.querySelectorAll("body h2, body h3"));function t(){for(var n,s,o,i=window.pageYOffset||document.documentElement.scrollTop,t=0;t<e.length;t++)s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n&&n.classList.remove("active-toc");for(t=e.length-1;t>=0;t--)if(o=e[t].offsetTop,i>o-75&&(s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n)){n.classList.add("active-toc");break}}window.addEventListener("scroll",throttle(t,200))}setTimeout(scrollHandler,100)</script><script defer>function addCopyButtonToCodeBlocks(){const e=document.querySelectorAll('code[class^="language-"]:not(.output):not([class*="language-console"])');e.forEach(e=>{const t=document.createElement("button");t.classList.add("copy-code-button"),t.innerHTML="copy",t.addEventListener("click",()=>{const s=e.querySelectorAll(".cl");let n="";s.forEach(e=>{n+=e.innerText}),navigator.clipboard.writeText(n),t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},1500)}),e.parentNode.before(t)})}setTimeout(function(){addCopyButtonToCodeBlocks()},100)</script><script defer src=/js/theme-switcher.js></script></footer></body></html>