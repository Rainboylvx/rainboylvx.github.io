<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=cache-control content="max-age=0"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><meta http-equiv=expires content="Tue, 01 Jan 1980 1:00:00 GMT"><meta http-equiv=pragma content="no-cache"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png }><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#1b1b1b"><meta name=description content="Search Results"><title>Search Results | Rainboy's Blog</title><style>:root{--background:#ffffff}@media(prefers-color-scheme:dark){:root{--background:#1b1b1b}}html{background-color:var(--background)}body{background-color:var(--background)}</style><link rel=stylesheet type=text/css href=/style.min.00c1b0a7844f75fdb75caa7372b923be3231f839380ff0c3498e07b18e44f228.css media=all><link rel=stylesheet href=/grid.css></head><body><nav><ul class=menu><li><a tabindex=-1 class=menu-link href=/><u>H</u>ome</a></li><li><a tabindex=-1 class=menu-link href=/tags><u>T</u>ags</a></li></ul></nav><main id=main class=post><header><h1 id=search-title>Search Results</h1></header><form id=search-form action=/search method=get><label hidden for=search-input>Search site</label>
<input tabindex=-1 type=text id=search-input name=query placeholder="search [i] ..."></form><ul id=search-results></ul></main><script>window.store={"https://hugo-dead-simple.netlify.com/tags/aggregation/":{title:"Aggregation",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/tags/aggregation/"},"https://hugo-dead-simple.netlify.com/typescript/debug/":{title:"debug",tags:[],content:`æ¥è‡ª: https://www.bilibili.com/video/BV1zT411z7y7/
å®‰è£…typescript ä¸ts-node å†™ä¸€ä¸ªtsçš„è„šæœ¬ let a = 1 a = a+1 console.log(a) ç‚¹å‡»è¡Œä¸‹æ®µç‚¹ ç‚¹å‡»vscodeä¸Šçš„è°ƒè¯•æŒ‰é’® `,url:"https://hugo-dead-simple.netlify.com/typescript/debug/"},"https://hugo-dead-simple.netlify.com/tags/exercises/":{title:"Exercises",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/tags/exercises/"},"https://hugo-dead-simple.netlify.com/tags/mongodb/":{title:"MongoDB",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/tags/mongodb/"},"https://hugo-dead-simple.netlify.com/mongodb/lookup/":{title:"MongoDB - Lookup æ“ä½œè¯¦è§£",tags:["MongoDB","Aggregation"],content:`FAQ å¦‚æœå®ç°ç±»ä¼¼çš„sqlçš„ join åŠŸèƒ½å‘¢?
æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£
$lookupï¼ˆèšåˆï¼‰â€” MongoDB æ‰‹å†Œ v8.0 ask ask : æˆ‘åœ¨å†™åœ¨mongodbçš„ç›¸å…³å†…å®¹, æœ‰ä¸€ä¸ªuser collection ,è¿˜æœ‰ä¸€ä¸ªcomment collection,commmenté€šè¿‡ userid ä¸user è¿›è¡Œäº†å…³è”,,æˆ‘åœ¨æŸ¥è¯¢comment ,å¦‚ä½•å¾—åˆ°æ¯ä¸ªcomment é‡Œçš„user çš„ç›¸å…³å±æ€§? Answser åœ¨ MongoDB ä¸­ï¼Œå¦‚æœ comment é›†åˆä¸­çš„æ¯ä¸ªæ–‡æ¡£é€šè¿‡ userId å­—æ®µä¸ user é›†åˆä¸­çš„ç”¨æˆ·è¿›è¡Œå…³è”ï¼Œå¹¶ä¸”ä½ å¸Œæœ›åœ¨æŸ¥è¯¢ comment æ—¶è·å–æ¯ä¸ªè¯„è®ºå¯¹åº”çš„ user çš„ç›¸å…³å±æ€§ï¼Œä½ å¯ä»¥ä½¿ç”¨ $lookup èšåˆæ“ä½œæ¥å®ç°è”è¡¨æŸ¥è¯¢ã€‚
ç¤ºä¾‹æ•°æ®ç»“æ„ user é›†åˆ:
{ &#34;_id&#34;: ObjectId(&#34;user1&#34;), &#34;name&#34;: &#34;Alice&#34;, &#34;email&#34;: &#34;alice@example.com&#34;, &#34;age&#34;: 30 } comment é›†åˆ:
{ &#34;_id&#34;: ObjectId(&#34;comment1&#34;), &#34;content&#34;: &#34;This is a comment&#34;, &#34;userId&#34;: ObjectId(&#34;user1&#34;), &#34;timestamp&#34;: ISODate(&#34;2024-12-09T10:00:00Z&#34;) } ä½¿ç”¨ $lookup è¿›è¡Œè”è¡¨æŸ¥è¯¢ ä½ å¯ä»¥ä½¿ç”¨èšåˆæ¡†æ¶ï¼ˆaggregate()ï¼‰ç»“åˆ $lookup æ¥è¿æ¥ comment å’Œ user é›†åˆï¼Œå¹¶å°†æ¯ä¸ªè¯„è®ºå¯¹åº”çš„ç”¨æˆ·ä¿¡æ¯åˆå¹¶åˆ°è¯„è®ºæ•°æ®ä¸­ã€‚
èšåˆæŸ¥è¯¢ç¤ºä¾‹ db.comment.aggregate([ { $lookup: { from: &#34;user&#34;, // å…³è”çš„é›†åˆæ˜¯ &#34;user&#34; localField: &#34;userId&#34;, // å½“å‰é›†åˆä¸­å…³è”å­—æ®µæ˜¯ &#34;userId&#34; foreignField: &#34;_id&#34;, // å…³è”åˆ° &#34;user&#34; é›†åˆä¸­çš„ &#34;_id&#34; å­—æ®µ as: &#34;userDetails&#34; // ç»“æœä¼šæ”¾å…¥ &#34;userDetails&#34; æ•°ç»„å­—æ®µ } }, { $unwind: &#34;$userDetails&#34; // å°† &#34;userDetails&#34; æ•°ç»„å±•å¼€æˆå•ä¸ªå¯¹è±¡ï¼ˆå¦‚æœæ¯ä¸ªè¯„è®ºåªèƒ½æœ‰ä¸€ä¸ªç”¨æˆ·çš„è¯ï¼‰ } ]) æŸ¥è¯¢ç»“æœ å‡è®¾ comment é›†åˆæœ‰ä¸€ä¸ªæ–‡æ¡£ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
{ &#34;_id&#34;: ObjectId(&#34;comment1&#34;), &#34;content&#34;: &#34;This is a comment&#34;, &#34;userId&#34;: ObjectId(&#34;user1&#34;), &#34;timestamp&#34;: ISODate(&#34;2024-12-09T10:00:00Z&#34;), &#34;userDetails&#34;: { &#34;_id&#34;: ObjectId(&#34;user1&#34;), &#34;name&#34;: &#34;Alice&#34;, &#34;email&#34;: &#34;alice@example.com&#34;, &#34;age&#34;: 30 } } è§£æè¯´æ˜ $lookup: åœ¨ comment é›†åˆä¸­çš„ userId å­—æ®µå’Œ user é›†åˆä¸­çš„ _id å­—æ®µä¹‹é—´å»ºç«‹è¿æ¥ï¼Œå°†åŒ¹é…åˆ°çš„ç”¨æˆ·ä¿¡æ¯åŠ å…¥åˆ°æ¯ä¸ªè¯„è®ºä¸­ï¼Œå¹¶å­˜å‚¨åœ¨ userDetails å­—æ®µä¸­ã€‚
$unwind: å¦‚æœä½ ç¡®å®šæ¯ä¸ªè¯„è®ºåªæœ‰ä¸€ä¸ªå¯¹åº”çš„ç”¨æˆ·ï¼ˆå³ userId å­—æ®µæŒ‡å‘çš„æ˜¯å”¯ä¸€ç”¨æˆ·ï¼‰ï¼Œä½¿ç”¨ $unwind å°† userDetails æ•°ç»„æ‹†è§£æˆå•ä¸ªå¯¹è±¡ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥ç›´æ¥åœ¨æ¯ä¸ªè¯„è®ºæ–‡æ¡£ä¸­è·å–åˆ°ç”¨æˆ·çš„å±æ€§ã€‚
å¦‚æœä¸€ä¸ªè¯„è®ºå¯èƒ½æœ‰å¤šä¸ªç”¨æˆ·ï¼ˆä¾‹å¦‚è¯„è®ºå¯èƒ½æœ‰å¤šä¸ªä½œè€…ï¼‰ï¼Œä½ å¯ä»¥è·³è¿‡ $unwindï¼Œè¿™æ ·æ¯ä¸ªè¯„è®ºçš„ userDetails ä¼šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«åŒ¹é…çš„æ‰€æœ‰ç”¨æˆ·ã€‚
å…¶ä»–æ”¹è¿› å¦‚æœä½ åªå…³å¿ƒæŸäº›ç‰¹å®šçš„ç”¨æˆ·å­—æ®µï¼Œå¯ä»¥é€šè¿‡ $project å¯¹è¿”å›çš„å­—æ®µè¿›è¡Œè¿‡æ»¤ï¼Œå‡å°‘æ•°æ®ä¼ è¾“é‡ã€‚ä¾‹å¦‚ï¼š
db.comment.aggregate([ { $lookup: { from: &#34;user&#34;, localField: &#34;userId&#34;, foreignField: &#34;_id&#34;, as: &#34;userDetails&#34; } }, { $unwind: &#34;$userDetails&#34; }, { $project: { content: 1, // åªä¿ç•™è¯„è®ºçš„å†…å®¹ &#34;userDetails.name&#34;: 1, // åªè¿”å›ç”¨æˆ·çš„åå­— &#34;userDetails.email&#34;: 1 // åªè¿”å›ç”¨æˆ·çš„é‚®ç®± } } ]) è¿™æ ·ï¼Œç»“æœå°†åªåŒ…å«è¯„è®ºå†…å®¹ä»¥åŠç”¨æˆ·çš„åå­—å’Œé‚®ç®±ã€‚
æ€»ç»“ ä½¿ç”¨ aggregate() æ–¹æ³•ç»“åˆ $lookup å¯ä»¥è½»æ¾åœ°åœ¨æŸ¥è¯¢è¯„è®ºæ—¶è·å–æ¯ä¸ªè¯„è®ºå¯¹åº”ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ã€‚å¦‚æœä½ åªå…³å¿ƒéƒ¨åˆ†ç”¨æˆ·å­—æ®µï¼Œå¯ä»¥ä½¿ç”¨ $project æ¥é™åˆ¶è¿”å›çš„å­—æ®µï¼Œä¼˜åŒ–æŸ¥è¯¢æ•ˆç‡ã€‚
`,url:"https://hugo-dead-simple.netlify.com/mongodb/lookup/"},"https://hugo-dead-simple.netlify.com/mongodb/find_on_array/":{title:"MongoDB - åœ¨æ•°ç»„ä¸ŠæŸ¥è¯¢",tags:["MongoDB","Querying"],content:`æŸ¥è¯¢æ•°ç»„ - MongoDB æ‰‹å†Œ v8.0
$neæ“ä½œåœ¨æ•°ç»„çš„æŸ¥è¯¢ä¸æˆ‘æƒ³çš„ä¸ä¸€æ ·
å¦‚æœä½ å¸Œæœ›èƒ½å¤ŸåŒ¹é…æ•°ç»„ä¸­æœ‰éƒ¨åˆ†å…ƒç´ ä¸ &ldquo;red&rdquo; ä¸åŒ¹é…çš„æ–‡æ¡£ï¼Œå¯ä»¥ä½¿ç”¨ $elemMatch æ¥ç²¾ç¡®åŒ¹é…æ•°ç»„ä¸­çš„å•ä¸ªå…ƒç´ ï¼š
db.newdb.find({ tags: { $elemMatch: { $ne: &#34;red&#34; } } }) æŸ¥è¯¢æ•°ç»„å…ƒç´ 
å¤šä¸ªæ¡ä»¶
const cursor = db.collection(&#39;inventory&#39;).find({ dim_cm: { $gt: 15, $lt: 20 } }); æ•°å­¦æè¿°
âˆƒxâˆˆA(x&gt;=15)âˆ§âˆƒxâˆˆA(x&lt;=20) \\exists x \\in A( x&gt;=15) \\land \\exists x \\in A (x &lt;=20) âˆƒxâˆˆA(x&gt;=15)âˆ§âˆƒxâˆˆA(x&lt;=20)const cursor = db.collection(&#39;inventory&#39;).find({ dim_cm: { $elemMatch: { $gt: 22, $lt: 30 } } }); âˆƒxâˆˆA(x&gt;=15âˆ§x&lt;=20) \\exists x \\in A( x&gt;=15 \\land x &lt;=20) âˆƒxâˆˆA(x&gt;=15âˆ§x&lt;=20)const cursor = db.collection(&#39;inventory&#39;).find({ dim_cm: {$eq:20} }); âˆƒxâˆˆA(x=20) \\exists x \\in A( x=20) âˆƒxâˆˆA(x=20)const cursor = db.collection(&#39;inventory&#39;).find({ dim_cm: {$ne:20} }); !!!æ³¨æ„è¿™ä¸ªæŸ¥è¯¢æ˜¯ä¸Šé¢çš„æŸ¥è¯¢çš„åé¢
Â¬âˆƒxâˆˆA(x=20)âˆ€Â¬(x=20)âˆ€(x!=20) \\begin{matrix} \\neg \\exists x \\in A(x = 20) \\\\ \\forall \\neg (x = 20) \\\\ \\forall (x != 20) \\end{matrix} Â¬âˆƒxâˆˆA(x=20)âˆ€Â¬(x=20)âˆ€(x!=20)â€‹`,url:"https://hugo-dead-simple.netlify.com/mongodb/find_on_array/"},"https://hugo-dead-simple.netlify.com/mongodb/":{title:"MongoDB å­¦ä¹ ç¬”è®°",tags:[],content:`è¿™é‡Œæ˜¯æˆ‘å­¦ä¹  MongoDB è¿‡ç¨‹ä¸­è®°å½•çš„æ‰€æœ‰ç¬”è®°å’Œç»ƒä¹ ã€‚
MongoDB - Lookup æ“ä½œè¯¦è§£ MongoDB ç»ƒä¹  1 MongoDB ç»ƒä¹  2 MongoDB ç»ƒä¹  3 MongoDB ç»ƒä¹  4 MongoDB - åœ¨æ•°ç»„ä¸ŠæŸ¥è¯¢ `,url:"https://hugo-dead-simple.netlify.com/mongodb/"},"https://hugo-dead-simple.netlify.com/mongodb/mongodb/":{title:"MongoDB å­¦ä¹ ç¬”è®°",tags:[],content:`å®‰è£… docker å®‰è£…,æ ¹æ®æ–‡æ¡£æ¥: https://www.mongodb.com/zh-cn/docs/manual/tutorial/install-mongodb-community-with-docker/
å®‰è£…å®Œå,æˆ‘æ ¹æ® https://www.w3resource.com/mongodb-exercises/ åšç»ƒä¹ 
è¿™é‡Œçš„å®¢æˆ·ç«¯é€‰æ‹©äº†mongodb compass: https://www.mongodb.com/try/download/compass
æœ€é‡è¦çš„å°±æ˜¯mongodbçš„å®˜æ–¹æ–‡æ¡£: https://www.mongodb.com/zh-cn/docs/manual/
ä¸€äº›æ¦‚å¿µ æ•°æ® --&gt; é›†åˆ-&gt; æ–‡æ¡£ å­¦ä¹ è·¯çº¿ æˆ‘è®¤ä¸ºå­¦ä¹ çš„è·¯çº¿ä¸º
å¢åˆ æ”¹æŸ¥ æ³¨æ„æ•°ç»„ä¸ŠæŸ¥è¯¢çš„åç›´è§‰è¡Œä¸º æ³¨æ„$neåœ¨æ•°ç»„çš„æŸ¥è¯¢é—®é¢˜ èšåˆ ç´¢å¼• `,url:"https://hugo-dead-simple.netlify.com/mongodb/mongodb/"},"https://hugo-dead-simple.netlify.com/mongodb/exercise/":{title:"MongoDB ç»ƒä¹  1",tags:["MongoDB","Exercises"],content:`5 Write a MongoDB query to display all the restaurant which is in the borough Bronx. è¿™ä¸ªç®€å•,æœ¬è´¨æ˜¯æŸ¥è¯¢å›ºå®šçš„å€¼
db[&#34;restaurants&#34;].find({&#39;borough&#39;:&#39;Bronx&#39;}) 8 Write a MongoDB query to find the restaurants who achieved a score more than 90. è®©æˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸ªæ•°ç»„,æ•°ç»„é‡Œé¢æœ‰ä¸€ä¸ªObjectçš„å€¼&gt;=0
db[&#34;restaurants&#34;].find({&#39;grades.score&#39;: {$gt : 90}}).count() db[&#34;restaurants&#34;].find({ &#39;grades&#39; : {$elemMatch : { &#34;score&#34; :{$gt : 90} } } }) è¿™ä¸¤ä¸ªçš„ç»“æœæ˜¯ç­‰ä»·çš„,åªä¸è¿‡ç¬¬äºŒä¸ªç”¨åˆ°äº†æ•°ç»„åŒ¹é…æ“ä½œç¬¦$elemMatch
9 Write a MongoDB query to find the restaurants that achieved a score, more than 80 but less than 100. è¿™ä¸ªé¢˜ç›®çš„æ„æ€æ˜¯: gradesé‡Œå­˜åœ¨ä¸€ä¸ªåˆ†æ•°,è¿™ä¸ªåˆ†æ•°åœ¨80ä¸90ä¹‹é—´
db[&#34;restaurants&#34;].find({ &#39;grades&#39; : {$elemMatch : { &#34;score&#34; :{$gt : 80,$lt:100} } } }) 10 Write a MongoDB query to find the restaurants which locate in latitude value less than -95.754168. è¿™é‡Œè€ƒå¯Ÿæˆ‘ä»¬å¦‚ä½•æŸ¥è¯¢æ•°ç»„é‡ŒæŸä¸ªä¸‹æ ‡çš„å€¼
db.restaurants.find({&#34;address.coord.0&#34;:{$lte : -95.754168} }) 11 Write a MongoDB query to find the restaurants that do not prepare any cuisine of &lsquo;American&rsquo; and their grade score more than 70 and latitude less than -65.754168. db[&#34;restaurants&#34;].count({cuisine:{$not: {$regex: /.*American.*/ } },grades:{$elemMatch : { &#34;score&#34;:{$gte:70} }} }) è¿™é‡Œè€ƒæŸ¥æˆ‘ä»¬æœ‰å¤šä¸ªæ¡ä»¶,åŒæ—¶æˆç«‹çš„æŸ¥è¯¢
å‘ç°ä¸€ä¸ªé—®é¢˜:
æˆ‘æŸ¥è¯¢äº†æ–‡æ¡£
mongodbåœ¨æ•°ç»„ä¸Šçš„æŸ¥è¯¢ https://www.mongodb.com/zh-cn/docs/manual/tutorial/query-arrays/#specify-multiple-conditions-for-array-elements mongodb - mongo $ne query with an array not working as expected - Stack Overflow $neæ“ä½œåœ¨æ•°ç»„çš„æŸ¥è¯¢ä¸æˆ‘æƒ³çš„ä¸ä¸€æ ·
å¦‚æœä½ å¸Œæœ›èƒ½å¤ŸåŒ¹é…æ•°ç»„ä¸­æœ‰éƒ¨åˆ†å…ƒç´ ä¸ &ldquo;red&rdquo; ä¸åŒ¹é…çš„æ–‡æ¡£ï¼Œå¯ä»¥ä½¿ç”¨ $elemMatch æ¥ç²¾ç¡®åŒ¹é…æ•°ç»„ä¸­çš„å•ä¸ªå…ƒç´ ï¼š
db.newdb.find({ tags: { $elemMatch: { $ne: &#34;red&#34; } } }) è¿™é‡Œå®˜æ–¹ç»™å‡ºçš„ç­”æ¡ˆ
db.restaurants.find( {$and: [ {&#34;cuisine&#34; : {$ne :&#34;American &#34;}}, {&#34;grades.score&#34; : {$gt : 70}}, {&#34;address.coord&#34; : {$lt : -65.754168}} ] }); 12 Write a MongoDB query to find the restaurants which do not prepare any cuisine of &lsquo;American&rsquo; and achieved a score more than 70 and located in the longitude less than -65.754168. Note : Do this query without using $and operator. å’Œä¸Šä¸€ä¸ªé—®é¢˜çš„é—®é¢˜ä¸€æ ·,åªæ˜¯ä¸è®©æˆ‘ä»¬ä½¿ç”¨$and$ç¬¦å·
db.restaurants.find( { &#34;cuisine&#34; : {$ne : &#34;American &#34;}, &#34;grades.score&#34; :{$gt: 70}, &#34;address.coord&#34; : {$lt : -65.754168} } ); 13 Write a MongoDB query to find the restaurants which do not prepare any cuisine of &lsquo;American&rsquo; and achieved a grade point &lsquo;A&rsquo; not belongs to the borough Brooklyn. The document must be displayed according to the cuisine in descending order. å‰é¢çš„æ¡ä»¶è¿˜å¥½,è¿™é‡Œåªæ˜¯å¤šäº†ä¸€ä¸ªæ’åºçš„è¦æ±‚
db.restaurants.find( { &#34;cuisine&#34; : {$ne : &#34;American&#34;}, &#34;grades.grade&#34; :&#34;A&#34;, &#34;borough&#34;: {$ne : &#34;Brooklyn&#34;} } ).sort({&#34;cuisine&#34;:-1}); 14 Write a MongoDB query to find the restaurant Id, name, borough and cuisine for those restaurants which contain &lsquo;Wil&rsquo; as first three letters for its name. æŸ¥è¯¢çš„æ¡ä»¶æ˜¯nameçš„é¦–ä¸ªä¸‰ä¸ªå­—æ¯æ˜¯3ä¸ªWilå­—ç¬¦.
æˆ‘è¿™é‡Œçš„å†™æ³•ä¸å®˜æ–¹ä¸ä¸€æ ·,å› ä¸ºæˆ‘ä¸ç†è§£å®˜æ–¹çš„ç¬¬äºŒä¸ªå‚æ•°,ä¸ºä»€ä¹ˆè¿™æ ·å†™,å› ä¸ºæˆ‘æŸ¥è¯¢çš„nodejs api ä¸æ˜¯è¿™æ ·çš„.
https://mongodb.github.io/node-mongodb-native/6.11/interfaces/FindOptions.html#projection
db[&#34;restaurants&#34;].find ({name:/AWil/}).projection({name:1,restaurant_id:1,borough:1,cuisine:1}}) ä¸ºä»€ä¹ˆä¼šè¿™æ ·? ,AI å‘Šè¯‰æˆ‘è¿™æ˜¯ä¸€ä¸ªå·®å¼‚!!!
ä½ æå‡ºçš„é—®é¢˜æ¶‰åŠåˆ° MongoDB Node.js Driver çš„ find æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ª é€‰é¡¹å¯¹è±¡ï¼ˆoptionsï¼‰ï¼Œè€Œ æŠ•å½±ï¼ˆprojectionï¼‰ æ˜¯è¯¥é€‰é¡¹å¯¹è±¡ä¸­çš„ä¸€ä¸ªå­—æ®µã€‚è¿™æ˜¯ MongoDB Node.js Driver å’Œ MongoDB Shellï¼ˆmongoshï¼‰ä¹‹é—´çš„ä¸€ä¸ªå·®å¼‚ã€‚
MongoDB Node.js Driver çš„ find æ–¹æ³• æ ¹æ®ä½ æä¾›çš„é“¾æ¥ï¼Œåœ¨ MongoDB çš„ Node.js Driver ç‰ˆæœ¬ 3.6 ä¸­ï¼Œfind æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•° å¿…é¡»æ˜¯ä¸€ä¸ªé€‰é¡¹å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­å¯ä»¥åŒ…å«å¤šä¸ªé€‰é¡¹ï¼Œä¾‹å¦‚ projection, sort, limit ç­‰ã€‚
find æ–¹æ³•çš„ç­¾åï¼ˆNode.js Driverï¼‰ find(filter, options) filter: æŸ¥è¯¢æ¡ä»¶ã€‚ options: é€‰é¡¹å¯¹è±¡ï¼Œå…¶ä¸­åŒ…æ‹¬å¤šä¸ªå¯é€‰çš„å­—æ®µï¼Œä¾‹å¦‚ projection, sort, limit ç­‰ã€‚ æŠ•å½±ï¼ˆProjectionï¼‰åœ¨é€‰é¡¹å¯¹è±¡ä¸­ åœ¨ MongoDB Node.js Driver ä¸­ï¼ŒæŠ•å½±ï¼ˆprojectionï¼‰ æ˜¯é€šè¿‡é€‰é¡¹å¯¹è±¡ä¸­çš„ projection å­—æ®µæ¥æŒ‡å®šçš„ã€‚å› æ­¤ï¼Œç¬¬äºŒä¸ªå‚æ•°çš„å½¢å¼é€šå¸¸æ˜¯ä¸€ä¸ªåŒ…å« projection å­—æ®µçš„å¯¹è±¡ï¼Œè€Œ æŠ•å½±ï¼ˆprojectionï¼‰ æœ¬èº«æ˜¯ä¸€ä¸ªæ–‡æ¡£ï¼Œå®šä¹‰äº†éœ€è¦åŒ…å«æˆ–æ’é™¤çš„å­—æ®µã€‚
ç¤ºä¾‹ä»£ç ï¼š const { MongoClient } = require(&#39;mongodb&#39;); async function queryRestaurants() { const client = new MongoClient(&#39;mongodb://localhost:27017&#39;); await client.connect(); const db = client.db(&#39;test&#39;); // å‡è®¾ä½ çš„æ•°æ®åº“åæ˜¯ &#39;test&#39; const collection = db.collection(&#39;restaurants&#39;); // ä½¿ç”¨ find æŸ¥è¯¢å¹¶æŠ•å½± const cursor = collection.find( { name: /^Wil/ }, { projection: { &#34;restaurant_id&#34;: 1, &#34;name&#34;: 1, &#34;borough&#34;: 1, &#34;cuisine&#34;: 1 } } ); // è·å–æŸ¥è¯¢ç»“æœå¹¶æ‰“å° const results = await cursor.toArray(); console.log(results); await client.close(); } queryRestaurants().catch(console.error); ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨ projection å­—æ®µï¼Ÿ åœ¨ Node.js MongoDB Driver çš„ find æ–¹æ³•ä¸­ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ª é€‰é¡¹å¯¹è±¡ï¼ˆoptionsï¼‰ï¼Œå› æ­¤ä½ éœ€è¦æ˜ç¡®æŒ‡å®š projection å­—æ®µæ¥è®¾ç½®æŸ¥è¯¢è¿”å›çš„å­—æ®µã€‚è¿™æ˜¯ä¸ MongoDB Shellï¼ˆmongoshï¼‰ çš„å·®å¼‚ï¼Œåè€…å¯ä»¥ç›´æ¥å°†æŠ•å½±æ–‡æ¡£ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚
Node.js Driver çš„é€‰é¡¹å¯¹è±¡ç»“æ„ åœ¨ Node.js ä¸­ï¼Œä½ å¯ä»¥ä¼ é€’ä¸€ä¸ªåŒ…å«å¤šä¸ªé€‰é¡¹å­—æ®µçš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼š
{ projection: { &#34;restaurant_id&#34;: 1, &#34;name&#34;: 1, &#34;borough&#34;: 1, &#34;cuisine&#34;: 1 }, sort: { name: 1 }, limit: 10 } projection: æŒ‡å®šè¿”å›çš„å­—æ®µã€‚ sort: æŒ‡å®šæ’åºè§„åˆ™ã€‚ limit: é™åˆ¶è¿”å›çš„æ–‡æ¡£æ•°é‡ã€‚ æ€»ç»“ åœ¨ MongoDB Node.js Driver ä¸­ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ª é€‰é¡¹å¯¹è±¡ï¼ˆoptionsï¼‰ï¼Œå…¶ä¸­åŒ…å« projection å­—æ®µæ¥æŒ‡å®šæŠ•å½±ã€‚è€Œåœ¨ MongoDB Shellï¼ˆmongoshï¼‰ ä¸­ï¼Œç¬¬äºŒä¸ªå‚æ•°ç›´æ¥æ˜¯ä¸€ä¸ªæŠ•å½±æ–‡æ¡£ï¼Œå¯ä»¥çœç•¥ projection å­—æ®µåã€‚
Node.js Driver ä½¿ç”¨ projectionï¼š db.restaurants.find( { name: /^Wil/ }, { projection: { &#34;restaurant_id&#34;: 1, &#34;name&#34;: 1, &#34;borough&#34;: 1, &#34;cuisine&#34;: 1 } } ); MongoDB Shell ä¸­ç›´æ¥ä¼ é€’æŠ•å½±æ–‡æ¡£ï¼š db.restaurants.find( { name: /^Wil/ }, { &#34;restaurant_id&#34;: 1, &#34;name&#34;: 1, &#34;borough&#34;: 1, &#34;cuisine&#34;: 1 } ); å¥½å§,ç»è¿‡æˆ‘çš„æŸ¥è¯¢,è¿™çœŸçš„æ˜¯ä¸€ä¸ªå·®å¼‚:
https://stackoverflow.com/questions/67090307/mongodb-projection-syntax https://www.mongodb.com/zh-cn/docs/manual/reference/method/db.collection.findOne/ ä¸¤è€…ç¡®å®ä¸ä¸€æ ·.
15 Write a MongoDB query to find the restaurant Id, name, borough and cuisine for those restaurants which contain &lsquo;ces&rsquo; as last three letters for its name. å’Œä¸Šä¸€ä¸ªé—®é¢˜ä¸€æ ·,ä½†æ˜¯è¦æŸ¥è¯¢çš„å€¼æ˜¯æœ€åä¸‰ä¸ªå­—ç¬¦,è¿˜æ˜¯ä½¿ç”¨regex
db.restaurants.find( {name: /ces$/}, { &#34;restaurant_id&#34; : 1, &#34;name&#34;:1,&#34;borough&#34;:1, &#34;cuisine&#34; :1 } ); db[&#34;restaurants&#34;].find ({name:/ces$/}).projection({name:1, restaurant_id:1,borough:1,cuisine:1}) 16 åŒ…å«Reg+æŠ•å½± Write a MongoDB query to find the restaurant Id, name, borough and cuisine for those restaurants which contain &lsquo;Reg&rsquo; as three letters somewhere in its name. æ”¹å˜ä¸€ä¸‹regå°±å¯ä»¥äº†.
db[&#34;restaurants&#34;].find({name:/Reg/},{name:1}).count() db[&#34;restaurants&#34;].find({name:/Reg/},{name:1}).count() db.restaurants.find( {&#34;name&#34;: /.*Reg.*/}, { &#34;restaurant_id&#34; : 1, &#34;name&#34;:1,&#34;borough&#34;:1, &#34;cuisine&#34; :1 } ); 17 Write a MongoDB query to find the restaurants which belong to the borough Bronx and prepared either American or Chinese dish. db[&#34;restaurants&#34;].find({&#34;cuisine&#34;: {$in :[&#39;Chinese&#39;, &#39;American &#39;]} , &#34;borough&#34;: &#34;Bronx&#34; },{&#34;cuisine&#34;:1}).count() db.restaurants.find( { &#34;borough&#34;: &#34;Bronx&#34; , $or : [ { &#34;cuisine&#34; : &#34;American &#34; }, { &#34;cuisine&#34; : &#34;Chinese&#34; } ] } ); 18 Write a MongoDB query to find the restaurant Id, name, borough and cuisine for those restaurants which belong to the borough Staten Island or Queens or Bronxor Brooklyn.
å’Œæˆ‘çš„ä¸Šä¸€ä¸ªæ‰§è¡Œ$inçš„è¯­æ³•ä¸€æ ·
db.restaurants.find( {&#34;borough&#34; :{$in :[&#34;Staten Island&#34;,&#34;Queens&#34;,&#34;Bronx&#34;,&#34;Brooklyn&#34;]}}, { &#34;restaurant_id&#34; : 1, &#34;name&#34;:1,&#34;borough&#34;:1, &#34;cuisine&#34; :1 } ); 19 Write a MongoDB query to find the restaurant Id, name, borough and cuisine for those restaurants which are not belonging to the borough Staten Island or Queens or Bronxor Brooklyn.
ä»æ•°ç†é€»è¾‘çš„è§’åº¦æ¥çœ‹,aâˆ‰{boroughÂ StatenÂ IslandÂ ,Â QueensÂ ,Â BronxorÂ Brooklyn}a \\notin \\{\\text{borough Staten Island , Queens , Bronxor Brooklyn} \\}aâˆˆ/{boroughÂ StatenÂ IslandÂ ,Â QueensÂ ,Â BronxorÂ Brooklyn} å½“è¿™ä¸ªæ¡ä»¶ä¸ºtrueçš„æ—¶å€™,è¿™é‡Œä½¿ç”¨$ninæ“ä½œ
db.restaurants.find( {&#34;borough&#34; :{$nin :[&#34;Staten Island&#34;,&#34;Queens&#34;,&#34;Bronx&#34;,&#34;Brooklyn&#34;]}}, { &#34;restaurant_id&#34; : 1, &#34;name&#34;:1,&#34;borough&#34;:1, &#34;cuisine&#34; :1 } ); 20 Write a MongoDB query to find the restaurant Id, name, borough and cuisine for those restaurants which achieved a score which is not more than 10.
è¿™é‡Œçš„æ ¸å¿ƒå°±åœ¨äº not more than 10 ,æ•°å­¦å†™æ³•
Â¬(grades.score&gt;10)â‡”grades.score&lt;=10 \\neg (grades.score &gt; 10) \\Leftrightarrow grades.score &lt;= 10 Â¬(grades.score&gt;10)â‡”grades.score&lt;=10db[&#34;restaurants&#34;].find({&#34;grades.score&#34;: {$lte: 10}}).count() db.restaurants.find( {&#34;grades.score&#34; : { $not: {$gt : 10} } }).count() æ©&hellip;&hellip;&hellip;.., ä¸¤è€…ç«Ÿç„¶æ˜¯ä¸ä¸€æ ·çš„.
é¢˜ç›®åº”è¯¥é—®çš„æ˜¯: æ‰€æœ‰çš„åˆ†éƒ½ä¸è¶…è¿‡10.
$lte:10 åº”è¯¥æ˜¯åªè¦æœ‰ä¸€ä¸ª(å­˜åœ¨)&lt;=10 å°±æˆç«‹
é‡åˆ°è¿™ç§äº‹ä»¶,åº”è¯¥é¦–å…ˆæŸ¥æ–‡æ¡£: https://www.mongodb.com/zh-cn/docs/manual/reference/operator/query/not/,ä½†æ–‡æ¡£ä¸Šæ²¡æœ‰è¯´.
find({ &quot;grades.score&quot;: {$gt : 10} }) è¡¨ç¤ºçš„æ„æ€å…¶å®æ˜¯: âˆƒ(x&gt;10)\\exists (x &gt; 10)âˆƒ(x&gt;10)
find({ &quot;grades.score&quot;: {$not :{ $gt : 10} }}) è¡¨ç¤ºçš„æ„æ€å…¶å®æ˜¯: Â¬âˆƒ(x&gt;10)â†’âˆ€(x&lt;=10)\\neg \\exists (x &gt; 10) \\to \\forall (x&lt;=10)Â¬âˆƒ(x&gt;10)â†’âˆ€(x&lt;=10),è¿™æ ·å°±èƒ½ç†è§£äº†
`,url:"https://hugo-dead-simple.netlify.com/mongodb/exercise/"},"https://hugo-dead-simple.netlify.com/mongodb/exercise2/":{title:"MongoDB ç»ƒä¹  2",tags:["MongoDB","Exercises"],content:`21 Write a MongoDB query to find the restaurant Id, name, borough and cuisine for those restaurants which prepared dish except &lsquo;American&rsquo; and &lsquo;Chinees&rsquo; or restaurant&rsquo;s name begins with letter &lsquo;Wil&rsquo;.
db.restaurants.find({ $or : [ {&#34;name&#34;: /^Wil/}, {&#34;cuisine&#34; : { $nin :[&#34;American &#34;,&#34;Chinees&#34;] }} ] }) è¿™ä¸¤ä¸ªå†™æ³•æ˜¯ä¸€æ ·çš„
db.restaurants.find( {$or: [ {name: /^Wil/}, {&#34;$and&#34;: [ {&#34;cuisine&#34; : {$ne :&#34;American &#34;}}, {&#34;cuisine&#34; : {$ne :&#34;Chinees&#34;}} ]} ]} ,{&#34;restaurant_id&#34; : 1,&#34;name&#34;:1,&#34;borough&#34;:1,&#34;cuisine&#34; :1} ); 22 Write a MongoDB query to find the restaurant Id, name, and grades for those restaurants which achieved a grade of &ldquo;A&rdquo; and scored 11 on an ISODate &ldquo;2014-08-11T00:00:00Z&rdquo; among many of survey dates. è¾¾åˆ°äº† grade A ä¸” scored 11. é¦–å…ˆ,æˆ‘ä»¬è¦ç†è§£è¿™é‡Œçš„æ„æ€åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€?
æœ‰ä¸‰ä¸ªæ¡ä»¶:
æ—¶é—´: ISODate &ldquo;2014-08-11T00:00:00Z åˆ†å€¼: 11 grade: A è¿™é‡Œçš„å…³é”®åœ¨äº,æ•°ç»„gradeså…¶ä¸­çš„ä¸€æ¡æ»¡è¶³è¿™3ä¸ªæ¡ä»¶.é‚£ä¹ˆé‡Œè¿™é‡Œè¦ç”¨åˆ°çš„$elemMatch
db.restaurants.find({ grades:{ $elemMatch : { grade:&#39;A&#39;,date:ISODate(&#34;2014-08-11T00:00:00Z&#34;), scored: 11}} }) ä½†æ˜¯ç»™å‡ºçš„ç­”æ¡ˆæ˜¯,ç†è§£æˆ‘å†™åœ¨æ³¨é‡Šé‡Œ
db.restaurants.find( { // è¿™é‡Œæ˜¯and &#34;grades.date&#34;: ISODate(&#34;2014-08-11T00:00:00Z&#34;), // è¿™é‡Œåªè¦æœ‰ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ æˆç«‹ &#34;grades.grade&#34;:&#34;A&#34; , // è¿™é‡Œåªè¦æœ‰ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ æˆç«‹ &#34;grades.score&#34; : 11// è¿™é‡Œåªè¦æœ‰ä¸€ä¸ªæ•°ç»„çš„å…ƒç´ æˆç«‹ }, {&#34;restaurant_id&#34; : 1,&#34;name&#34;:1,&#34;grades&#34;:1} ); è¿™é‡Œæ€ä¹ˆç”¨æ•°å­¦æè¿°: è®¾é›†åˆAä¸ºA = [{},{},{},{}], æ»¡è¶³æ¡ä»¶aâˆˆAâˆ§bâˆˆAâˆ§câˆˆAa \\in A \\land b \\in A \\land c \\in AaâˆˆAâˆ§bâˆˆAâˆ§câˆˆA
23 Write a MongoDB query to find the restaurant Id, name and grades for those restaurants where the 2nd element of grades array contains a grade of &ldquo;A&rdquo; and score 9 on an ISODate &ldquo;2014-08-11T00:00:00Z&rdquo;.
arrayElemAtï¼ˆå¦‚æœä½ éœ€è¦æ˜ç¡®é€‰æ‹©æ•°ç»„ä¸­çš„ç‰¹å®šå…ƒç´ ï¼‰
å¦‚æœä½ æ˜ç¡®åªæƒ³è¦æŸ¥è¯¢æ•°ç»„çš„ç¬¬äºŒä¸ªå…ƒç´ ï¼ŒelemMatch ä¸èƒ½ç›´æ¥åšè¿™ä»¶äº‹ã€‚ä¸è¿‡ï¼Œä½ å¯ä»¥ç»“åˆ $arrayElemAt æ¥é€‰æ‹©æ•°ç»„ä¸­çš„ç¬¬äºŒä¸ªå…ƒç´ è¿›è¡Œæ¡ä»¶åŒ¹é…ï¼š
db.collection.find({ &#34;$expr&#34;: { &#34;$eq&#34;: [ { &#34;$arrayElemAt&#34;: [&#34;$grades&#34;, 1] }, // è·å–ç¬¬äºŒä¸ªå…ƒç´  { &#34;grade&#34;: &#34;A&#34;, &#34;score&#34;: 9, &#34;date&#34;: ISODate(&#34;2014-08-11T00:00:00Z&#34;) } // æ¡ä»¶ ] } }) é‚£ä¹ˆè¿˜æ˜¯å®˜æ–¹ç»™çš„ç­”æ¡ˆæ¯”è¾ƒç®€å•:
db.restaurants.find( { &#34;grades.1.date&#34;: ISODate(&#34;2014-08-11T00:00:00Z&#34;), &#34;grades.1.grade&#34;:&#34;A&#34; , &#34;grades.1.score&#34; : 9 }, {&#34;restaurant_id&#34; : 1,&#34;name&#34;:1,&#34;grades&#34;:1} ); 24 Write a MongoDB query to find the restaurant Id, name, address and geographical location for those restaurants where 2nd element of coord array contains a value which is more than 42 and upto 52.
æ²¡æœ‰äº‰è®®
db.restaurants.find( { &#34;address.coord.1&#34;: {$gt : 42, $lte : 52} }, {&#34;restaurant_id&#34; : 1,&#34;name&#34;:1,&#34;address&#34;:1,&#34;coord&#34;:1} ); 25,26 Write a MongoDB query to arrange the name of the restaurants in ascending order along with all the columns. Write a MongoDB query to arrange the name of the restaurants in descending along with all the columns. å°±æ˜¯æ’åºè€Œå·²
db.restaurants.find().sort({&#34;name&#34;:1}); db.restaurants.find().sort( {&#34;name&#34;:-1}); 27 Write a MongoDB query to arranged the name of the cuisine in ascending order and for that same cuisine borough should be in descending order.
è¿˜æ˜¯æ’åº,ä¸è¿‡åŒæ—¶è¦æ’åºä¸¤ä¸ªå…ƒç´ 
db.restaurants.find().sort( {&#34;cuisine&#34;:1,&#34;borough&#34; : -1,} ); 28 Write a MongoDB query to know whether all the addresses contains the street or not.
æŸ¥è¯¢å…ƒç´ çš„å­˜åœ¨æ€§
db.restaurants.find( {&#34;address.street&#34; : { $exists : true } } ); 29 Write a MongoDB query which will select all documents in the restaurants collection where the coord field value is Double.
æŸ¥è¯¢å…ƒç´ çš„ç±»å‹
å¯¹äº field ä¸ºæ•°ç»„çš„æ–‡æ¡£ï¼Œ$type è¿”å›çš„æ–‡æ¡£ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ•°ç»„å…ƒç´ ä¸ä¼ é€’ç»™ $type çš„ç±»å‹åŒ¹é…ã€‚
å¯¹ $type: &ldquo;array&rdquo; çš„æŸ¥è¯¢ä¼šè¿”å›å­—æ®µæœ¬èº«ä¸ºæ•°ç»„çš„æ–‡æ¡£ã€‚
$type â€” MongoDB æ‰‹å†Œ v8.0
db.restaurants.find( {&#34;address.coord&#34; : {$type : 1} }); 30 Write a MongoDB query which will select the restaurant Id, name and grades for those restaurants which returns 0 as a remainder after dividing the score by 7.
è¿™é‡Œç”¨åˆ°äº† $mod - MongoDB æ‰‹å†Œ v8.0
db.restaurants.find( {&#34;grades.score&#34; : {$mod : [7,0]} }, {&#34;restaurant_id&#34; : 1,&#34;name&#34;:1,&#34;grades&#34;:1} ); 31 Write a MongoDB query to find the restaurant name, borough, longitude and attitude and cuisine for those restaurants which contains &lsquo;mon&rsquo; as three letters somewhere in its name.
æ­£åˆ™æŸ¥è¯¢
db.restaurants.find( { name : { $regex : &#34;mon.*&#34;, $options: &#34;i&#34; } }, { &#34;name&#34;:1, &#34;borough&#34;:1, &#34;address.coord&#34;:1, &#34;cuisine&#34; :1 } ); 32 Write a MongoDB query to find the restaurant name, borough, longitude and latitude and cuisine for those restaurants which contain &lsquo;Mad&rsquo; as first three letters of its name.
æ­£åˆ™æŸ¥è¯¢
db.restaurants.find( { name : { $regex : /^Mad/i, } }, { &#34;name&#34;:1, &#34;borough&#34;:1, &#34;address.coord&#34;:1, &#34;cuisine&#34; :1 } ); 33 Write a MongoDB query to find the restaurants that have at least one grade with a score of less than 5.
æ•°ç»„æŸ¥è¯¢
db.restaurants.find({ &#34;grades.score&#34;: { $lt: 5 } }) 34 Write a MongoDB query to find the restaurants that have at least one grade with a score of less than 5 and that are located in the borough of Manhattan.
æ€ä¹ˆå˜ç®€å•äº†?
db.restaurants.find({ &#34;grades.score&#34;: { $lt: 5 }, &#34;borough&#34;: &#34;Manhattan&#34; }) 35 Write a MongoDB query to find the restaurants that have at least one grade with a score of less than 5 and that are located in the borough of Manhattan or Brooklyn.
è¿˜æ˜¯ç®€å•
db.restaurants.find({ $and: [ { $or: [ // å¯ä»¥ç”¨$in {borough: &#34;Manhattan&#34;}, {borough: &#34;Brooklyn&#34;} ] }, { &#34;grades.score&#34;: { $lt: 5 } } ] }) 36 Write a MongoDB query to find the restaurants that have at least one grade with a score of less than 5 and that are located in the borough of Manhattan or Brooklyn, and their cuisine is not American.
å®˜æ–¹ç»™çš„è¿™ä¸ªç­”æ¡ˆ,å¯ä»¥ä¸ç”¨æœ€å¤–å±‚çš„$and
db.restaurants.find({ $and: [ { $or: [{ borough: &#34;Manhattan&#34; }, { borough: &#34;Brooklyn&#34; }] }, { &#34;grades.score&#34;: { $lt: 5 } }, { cuisine: { $ne: &#34;American&#34; } } ] }) 37 Write a MongoDB query to find the restaurants that have at least one grade with a score of less than 5 and that are located in the borough of Manhattan or Brooklyn, and their cuisine is not American or Chinese.
è¿™é‡Œç”¨åˆ°äº†ä¸æ˜¯...,ä¹Ÿä¸æ˜¯....è¿™ä¸ªä¹Ÿè¯­æ³•
$nor - MongoDB æ‰‹å†Œ v8.0
é€‰æ‹©æ•°ç»„ä¸­æ‰€æœ‰æŸ¥è¯¢è°“è¯å‡æœªé€šè¿‡çš„æ–‡æ¡£
$nor :[ expr1 ,expr2...] é‚£ä¹ˆæŸ¥è¯¢çš„æ–‡æ¡£æ»¡è¶³çš„æ¡ä»¶æ˜¯ï¼š
expr1(doc1) == false and expr2(doc2) == false 38 Write a MongoDB query to find the restaurants that have a grade with a score of 2 and a grade with a score of 6.
grades å«æœ‰2ï¼Œå’Œ6
æˆ‘å†™çš„
db.restaurants.find({ &#34;grades.score&#34;: 2, &#34;grades.score&#34;: 6, }) æ•ˆæœä¸€æ ·çš„å®˜æ–¹ç­”æ¡ˆã€‚
db.restaurants.find({ $and: [ {&#34;grades.score&#34;: 2}, {&#34;grades.score&#34;: 6} ] }) 39 Write a MongoDB query to find the restaurants that have a grade with a score of 2 and a grade with a score of 6 and are located in the borough of Manhattan.
æ²¡æœ‰ä»€ä¹ˆéš¾åº¦
db.restaurants.find({ $and: [ {&#34;grades.score&#34;: 2}, {&#34;grades.score&#34;: 6}, {&#34;borough&#34;: &#34;Manhattan&#34;} ] }) 40 Write a MongoDB query to find the restaurants that have a grade with a score of 2 and a grade with a score of 6 and are located in the borough of Manhattan or Brooklyn.
db.restaurants.find({ $and: [ {&#34;grades.score&#34;: 2}, {&#34;grades.score&#34;: 6}, {&#34;borough&#34;: {&#34;$in&#34;: [&#34;Manhattan&#34;, &#34;Brooklyn&#34;]}} ] }) `,url:"https://hugo-dead-simple.netlify.com/mongodb/exercise2/"},"https://hugo-dead-simple.netlify.com/mongodb/exercise3/":{title:"MongoDB ç»ƒä¹  3",tags:["MongoDB","Exercises"],content:`41 Write a MongoDB query to find the restaurants that have a grade with a score of 2 and a grade with a score of 6 and are located in the borough of Manhattan or Brooklyn, and their cuisine is not American.
æ²¡æœ‰ä»€ä¹ˆéš¾åº¦
db.restaurants.find({ $and: [ {borough: {$in: [&#34;Manhattan&#34;, &#34;Brooklyn&#34;]}}, {&#34;grades.score&#34;: {$all: [2, 6]}}, {cuisine: {$ne: &#34;American&#34;}} ] }) è¿™é‡Œç”¨åˆ°äº†$allè¿ç®—ç¬¦, è¡¨ç¤ºåé¢çš„å€¼[2,6]éƒ½è¦å•ç‹¬åŒæ—¶åŒ¹é…
42 Write a MongoDB query to find the restaurants that have a grade with a score of 2 and a grade with a score of 6 and are located in the borough of Manhattan or Brooklyn, and their cuisine is not American or Chinese.
db.restaurants.find({ $and: [ { borough: { $in: [&#34;Manhattan&#34;, &#34;Brooklyn&#34;] } }, { cuisine: { $nin: [&#34;American&#34;, &#34;Chinese&#34;] } }, { grades: { $elemMatch: { score: 2 } } }, { grades: { $elemMatch: { score: 6 } } } ] }) 43 Write a MongoDB query to find the restaurants that have a grade with a score of 2 or a grade with a score of 6.
db.restaurants.find({ $or: [ { &#34;grades.score&#34;: 2 }, { &#34;grades.score&#34;: 6 } ] }) 44 Write a MongoDB query to find the restaurants that have a grade with a score of 2 or a grade with a score of 6 and are located in the borough of Manhattan.
æ²¡æœ‰ä»€ä¹ˆéš¾åº¦
db.restaurants.find({ $and: [ { $or: [ { &#34;grades.score&#34;: 2 }, { &#34;grades.score&#34;: 6 } ] }, { &#34;borough&#34;: &#34;Manhattan&#34; } ] }) 45 Write a MongoDB query to find the restaurants that have a grade with a score of 2 or a grade with a score of 6 and are located in the borough of Manhattan or Brooklyn.
db.restaurants.find({ $and: [ { $or: [ { borough: &#34;Manhattan&#34; }, { borough: &#34;Brooklyn&#34; } ] }, { $or: [ { &#34;grades.score&#34;: 2 }, { &#34;grades.score&#34;: 6 } ] } ] }) 48 Write a MongoDB query to find the restaurants that have all grades with a score greater than 5.
è¿™ä¸ªæ˜¯æ¯”è¾ƒæœ‰æ„æ€çš„æŸ¥è¯¢: æ‰€æœ‰grade.scoreéƒ½è¦å¤§äº5
æ­£ç¡®çš„æŸ¥è¯¢æ•°ç»„é‡Œçš„å€¼,éƒ½æ˜¯å­˜åœ¨,ç°åœ¨è¦è½¬æˆ\\forall
db.restaurants.find({ &#34;grades&#34;: { &#34;$not&#34;: { &#34;$elemMatch&#34;: { &#34;score&#34;: { &#34;$lte&#34;: 5 } } } } }) 49 Write a MongoDB query to find the restaurants that have all grades with a score greater than 5 and are located in the borough of Manhattan.
å¤šä¸ªæ¡ä»¶,å…³é”®å°±åœ¨äºè¿™ä¸ªæ¡ä»¶:æ‰€æœ‰çš„
50 Write a MongoDB query to find the restaurants that have all grades with a score greater than 5 and are located in the borough of Manhattan or Brooklyn.
ä¸éš¾,è¿™é‡Œæœ‰ä¸€ä¸ªæ¡ä»¶,æˆ–è€…
db.restaurants.find({ &#34;borough&#34;: { &#34;$in&#34;: [&#34;Manhattan&#34;, &#34;Brooklyn&#34;] }, &#34;grades&#34;: { &#34;$not&#34;: { &#34;$elemMatch&#34;: { &#34;score&#34;: { &#34;$lte&#34;: 5 } } } } }) `,url:"https://hugo-dead-simple.netlify.com/mongodb/exercise3/"},"https://hugo-dead-simple.netlify.com/mongodb/exercise4/":{title:"MongoDB ç»ƒä¹  4",tags:["MongoDB","Exercises"],content:`51 Write a MongoDB query to find the average score for each restaurant.
ä¸€ä¸ªæ•°ç»„çš„å¹³å‡å€¼
è¿™é‡Œæˆ‘é‡åˆ°çš„ç¬¬ä¸€ä¸ª aggregate
db.restaurants.aggregate([{ $unwind: &#34;$grades&#34; }, { $group: { _id: &#34;$name&#34;, avgScore: { $avg: &#34;$grades.score&#34; } } } ]) è¿™é‡Œgptç»™å‡ºçš„å¤šç§æ±‚å¹³å‡å€¼çš„æ–¹æ³•
åœ¨ MongoDB ä¸­ï¼Œè¦æ±‚æ•°ç»„çš„å¹³å‡å€¼å¯ä»¥ä½¿ç”¨ èšåˆæ¡†æ¶ æ¥å¤„ç†ã€‚MongoDB çš„èšåˆæ¡†æ¶æä¾›äº†å¼ºå¤§çš„æ•°æ®æ“ä½œåŠŸèƒ½ï¼ŒåŒ…æ‹¬è®¡ç®—æ•°ç»„ä¸­å…ƒç´ çš„å¹³å‡å€¼ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ¥å®ç°ï¼š
å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹æ–‡æ¡£é›†åˆï¼š { &#34;_id&#34;: 1, &#34;scores&#34;: [90, 80, 70, 85] }, { &#34;_id&#34;: 2, &#34;scores&#34;: [60, 75, 85, 90] } æ–¹æ³• 1ï¼šä½¿ç”¨ $avg æ“ä½œç¬¦ MongoDB çš„èšåˆæ¡†æ¶å…è®¸åœ¨ç®¡é“ä¸­ä½¿ç”¨ $avg æ“ä½œç¬¦æ¥è®¡ç®—æŸä¸ªæ•°ç»„çš„å¹³å‡å€¼ã€‚ä¸ºäº†è®¡ç®—æ•°ç»„ scores çš„å¹³å‡å€¼ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°†æ•°ç»„å…ƒç´ å±•å¼€ï¼ˆä½¿ç”¨ $unwindï¼‰ï¼Œç„¶åè®¡ç®—å¹³å‡å€¼ã€‚
èšåˆç®¡é“ç¤ºä¾‹ï¼š db.collection.aggregate([ { $project: { averageScore: { $avg: &#34;$scores&#34; } } } ]) è§£é‡Šï¼š $projectï¼šç”¨äºæŒ‡å®šè¾“å‡ºçš„å­—æ®µï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªæ–°å­—æ®µ averageScoreã€‚ $avgï¼šç”¨äºè®¡ç®—æŒ‡å®šå­—æ®µçš„å¹³å‡å€¼ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åº”ç”¨ $avg æ“ä½œç¬¦æ¥è®¡ç®— scores æ•°ç»„çš„å¹³å‡å€¼ã€‚ æ–¹æ³• 2ï¼šä½¿ç”¨ $unwind ä¸ $group æ¥æ±‚å¹³å‡å€¼ å¦‚æœä½ æƒ³æ›´ç»†ç²’åº¦åœ°å¤„ç†æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥ä½¿ç”¨ $unwind æ¥å±•å¹³æ•°ç»„ï¼Œç„¶åä½¿ç”¨ $group æ¥æ±‚æ•°ç»„çš„å¹³å‡å€¼ã€‚
èšåˆç®¡é“ç¤ºä¾‹ï¼š db.collection.aggregate([ { $unwind: &#34;$scores&#34; }, { $group: { _id: null, averageScore: { $avg: &#34;$scores&#34; } } } ]) è§£é‡Šï¼š $unwindï¼šå°† scores æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å±•å¹³ä¸ºå•ç‹¬çš„æ–‡æ¡£ã€‚æ¯ä¸ªæ–‡æ¡£å°†åŒ…å«ä¸€ä¸ªæ•°ç»„å…ƒç´ ã€‚ $groupï¼šå°†æ‰€æœ‰å±•å¹³åçš„æ–‡æ¡£ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶ä½¿ç”¨ $avg æ¥è®¡ç®—è¿™äº›æ–‡æ¡£ä¸­ scores å­—æ®µçš„å¹³å‡å€¼ã€‚ è¿™ä¸ªæ–¹æ³•é€‚ç”¨äºå½“ä½ å¸Œæœ›å¯¹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œå¤„ç†å¹¶è®¡ç®—å¹³å‡å€¼çš„æƒ…å†µã€‚
æ–¹æ³• 3ï¼šç›´æ¥è®¡ç®—å­—æ®µçš„å¹³å‡å€¼ å¦‚æœæ•°ç»„å­—æ®µæœ¬èº«å·²ç»åŒ…å«äº†æ‰€æœ‰çš„æ•°å€¼ï¼Œä¸”ä½ åªæƒ³è®¡ç®—è¿™ä¸ªæ•°ç»„å­—æ®µçš„å¹³å‡å€¼ï¼Œè€Œä¸æ˜¯æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå¯ä»¥ç›´æ¥åœ¨ aggregate é˜¶æ®µä¸­è®¡ç®—å¹³å‡å€¼ï¼š
ç¤ºä¾‹ï¼š db.collection.aggregate([ { $project: { averageScore: { $avg: &#34;$scores&#34; } } } ]) æ€»ç»“ï¼š $avg ç”¨äºè®¡ç®—ä¸€ä¸ªæ•°å€¼å­—æ®µçš„å¹³å‡å€¼ï¼Œå¯ä»¥ç›´æ¥åœ¨èšåˆç®¡é“ä¸­å¯¹æ•°ç»„å­—æ®µè¿›è¡Œæ“ä½œã€‚ $unwind + $group é€‚ç”¨äºéœ€è¦å°†æ•°ç»„å…ƒç´ åˆ†å¼€å¤„ç†ï¼Œå¹¶æ±‚æ‰€æœ‰å…ƒç´ çš„å¹³å‡å€¼ã€‚ æ ¹æ®éœ€æ±‚é€‰æ‹©é€‚åˆçš„æ–¹æ³•ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œç›´æ¥ä½¿ç”¨ $avg å¯¹æ•°ç»„å­—æ®µæ±‚å¹³å‡å€¼æœ€ä¸ºç®€å•å’Œé«˜æ•ˆã€‚
52 Write a MongoDB query to find the highest score for each restaurant.
è¿™é‡Œç”¨åˆ°äº† $groupé˜¶æ®µçš„$maxæ“ä½œ
db.restaurants.aggregate([{ $unwind: &#34;$grades&#34; }, { $group: { _id: &#34;$name&#34;, highest_score: { $max: &#34;$grades.score&#34; } } } ]) 53 Write a MongoDB query to find the lowest score for each restaurant.
å’Œä¸Šä¸€ä¸ªé¢˜ç›®ä¸€æ ·ï¼Œç”¨$min
db.restaurants.aggregate([{ $unwind: &#34;$grades&#34; }, { $group: { _id: &#34;$name&#34;, lowest_score: { $min: &#34;$grades.score&#34; } } } ]) 54 Write a MongoDB query to find the count of restaurants in each borough.
ç”¨åˆ°äº†count
db.restaurants.aggregate([{ $group: { _id: &#34;$borough&#34;, count: { $sum: 1 } } }]) 55 Write a MongoDB query to find the count of restaurants for each cuisine.
åªæ˜¯ç”¨åˆ°äº†$sum
db.restaurants.aggregate([{ $group: { _id: &#34;$cuisine&#34;, count: { $sum: 1 } } }]) 56 å¦‚ä½•æŒ‰ä¸¤ä¸ªå€¼è¿›è¡Œåˆ†ç»„ db.restaurants.aggregate([{ $group: { _id: { cuisine: &#34;$cuisine&#34;, borough: &#34;$borough&#34; }, count: { $sum: 1 } } }]) 57 å¤šé˜¶æ®µé…åˆ Write a MongoDB query to find the count of restaurants that received a grade of &lsquo;A&rsquo; for each cuisine.
å¤šé˜¶æ®µ
unwind match group db.restaurants.aggregate([ { $unwind: &#34;$grades&#34; }, { $match: { &#34;grades.grade&#34;: &#34;A&#34; } }, { $group: { _id: &#34;$cuisine&#34;, count: { $sum: 1 } } } ]) 58 åŒä¸Š Write a MongoDB query to find the count of restaurants that received a grade of &lsquo;A&rsquo; for each borough.
db.restaurants.aggregate([ { $unwind: &#34;$grades&#34; }, { $match: { &#34;grades.grade&#34;: &#34;A&#34; } }, { $group: { _id: &#34;$borough&#34;, count: { $sum: 1 } } } ]) 59 Write a MongoDB query to find the count of restaurants that received a grade of &lsquo;A&rsquo; for each cuisine and borough.
èšåˆç¡®å®èƒ½è¾¾åˆ°
è¿™é‡Œæ²¡æœ‰unwind
db.restaurants.aggregate([ { $match: { &#34;grades.grade&#34;: &#34;A&#34; } }, { $group: { _id: { cuisine: &#34;$cuisine&#34;, borough: &#34;$borough&#34; }, count: { $sum: 1 } } }, { $sort: { count: -1 } } ]); 60 Write a MongoDB query to find the number of restaurants that have been graded in each month of the year.
é—®ä¸€å¹´ä¸­ï¼Œæ¯ä¸ªæœˆåˆ†è¯„çº§çš„restaurantsåˆ†åˆ«æœ‰å¤šå°‘ä¸ª,é‚£æ˜¾ç„¶è¦$group
db.restaurants.aggregate([ { $unwind: &#34;$grades&#34; }, { $project: { month: { $month: { $toDate: &#34;$grades.date&#34; } }, year: { $year: { $toDate: &#34;$grades.date&#34; } } } }, { $group: { _id: { month: &#34;$month&#34;, year: &#34;$year&#34; }, count: { $sum: 1 } } }, { $sort: { &#34;_id.year&#34;: 1, &#34;_id.month&#34;: 1 } } ]); 61-66 å¹³å‡åˆ†,æœ€é«˜ä½åˆ† ä¸Šé¢æ±‚è¿‡äº†
67 Write a MongoDB query to find the name and address of the restaurants that received a grade of &lsquo;A&rsquo; on a specific date
æŸ¥è¯¢ä¸€ä¸ªarrayé‡Œæ»¡è¶³ç‰¹å®šæ¡ä»¶çš„ã€‚
db.restaurants.find( { &#34;grades&#34;: { &#34;$elemMatch&#34;: { &#34;date&#34;: { &#34;$eq&#34;: ISODate(&#34;2013-07-22T00:00:00Z&#34;) }, &#34;grade&#34;: { &#34;$eq&#34;: &#34;A&#34; } } } }, { &#34;name&#34;: 1, &#34;address&#34;: 1, &#34;_id&#34;: 0 } ) 68 Write a MongoDB query to find the name and address of the restaurants that received a grade of &lsquo;B&rsquo; or &lsquo;C&rsquo; on a specific date.
db.restaurants.find( { &#34;grades&#34;: { $elemMatch: { &#34;date&#34;: ISODate(&#34;2013-04-05&#34;), &#34;grade&#34;: { $in: [ &#34;B&#34;, &#34;C&#34; ] } } } }, { &#34;name&#34;: 1, &#34;address&#34;: 1 } ) 69 Write a MongoDB query to find the name and address of the restaurants that have at least one &lsquo;A&rsquo; grade and one &lsquo;B&rsquo; grade.
å•Šï¼ æŸ¥è¯¢æ•°ç»„é‡Œï¼š è‡³å°‘å«æœ‰ä¸€ä¸ªAï¼Œä¸”è‡³å°‘å«æœ‰ä¸€ä¸ªB ,\\exits A in arr \\and \\exits B in arr
70 Write a MongoDB query to find the name and address of the restaurants that have at least one &lsquo;A&rsquo; grade and no &lsquo;B&rsquo; grades.
one A no B.ä¸¤ä¸ªæ¡ä»¶åŒæ—¶æˆç«‹
no b -&gt; not exits b in Arr -&gt; {$not : { &quot;grades.score&quot; : 'A'}
å’Œæˆ‘æƒ³çš„å·®ä¸å¤š
db.restaurants.find({ $and: [ { &#34;grades.grade&#34;: &#34;A&#34; }, { &#34;grades.grade&#34;: { $not: { $eq: &#34;B&#34; } } } ] }, { name: 1, address: 1, _id: 0 }) 71 Write a MongoDB query to find the name ,address and grades of the restaurants that have at least one &lsquo;A&rsquo; grade and no &lsquo;C&rsquo; grades.
åŒä¸Š
db.restaurants.find({ $and: [ { &#34;grades.grade&#34;: &#34;A&#34; }, { &#34;grades.grade&#34;: { $not: { $eq: &#34;C&#34; } } } ] }, { name: 1, address: 1, &#34;grades.grade&#34;:1, _id: 0 }) 72 Write a MongoDB query to find the name, address, and grades of the restaurants that have at least one &lsquo;A&rsquo; grade, no &lsquo;B&rsquo; grades, and no &lsquo;C&rsquo; grades.
åŒä¸Š
db.restaurants.find({ $and: [ { &#34;grades.grade&#34;: &#34;A&#34; }, { &#34;grades.grade&#34;: { $not: { $eq: &#34;B&#34; } } }, { &#34;grades.grade&#34;: { $not: { $eq: &#34;C&#34; } } } ] }, { name: 1, address: 1, &#34;grades.grade&#34;:1, _id: 0 }) 73 Write a MongoDB query to find the name and address of the restaurants that have the word &lsquo;coffee&rsquo; in their name
æ­£åˆ™
db.restaurants.find({ name: { $regex: /coffee/i } }, { name: 1, address: 1 }) 74 Write a MongoDB query to find the name and address of the restaurants that have a zipcode that starts with &lsquo;10&rsquo;.
è¿™é‡Œæˆ‘è§‰å¾—å®˜æ–¹ç»™çš„ç­”æ¡ˆä¸å¯¹ã€‚
75 Write a MongoDB query to find the name and address of the restaurants that have a cuisine that starts with the letter &lsquo;B&rsquo;.
db.restaurants.find( { &#34;cuisine&#34;: { $regex: /^B/ } }, { &#34;name&#34;: 1, &#34;address&#34;: 1, &#34;cuisine&#34; : 1, &#34;_id&#34;: 0 } ) 76 77 æ­£åˆ™ æ²¡æœ‰ä»€ä¹ˆå¥½å†™çš„
78 æ‰¾æœ€å¤§å€¼ï¼Œé‚£å°±éœ€è¦æ’åº
db.restaurants.aggregate([ {$unwind: &#34;$grades&#34;}, {$group: { _id: &#34;$restaurant_id&#34;, avgScore: {$avg: &#34;$grades.score&#34;} }}, {$sort: {avgScore: -1}}, {$limit: 1}, {$project: {_id: 1, avgScore: 1}} ]) 79 æ‰¾æœ€å¤§çš„å€¼Açš„é‚£äº›restaurantsçš„idï¼Œç”¨åˆ°èšåˆ
db.restaurants.aggregate([ {$unwind: &#34;$grades&#34;}, {$match: {&#34;grades.grade&#34;: &#34;A&#34;}}, {$group: { _id: &#34;$restaurant_id&#34;, count: {$sum: 1} }}, {$sort: {count: -1}}, {$group: { _id: &#34;$count&#34;, restaurants: {$push: &#34;$_id&#34;} }}, {$sort: {_id: -1}}, {$limit: 1}, {$project: {restaurants: 1}} ]) 80 Write a MongoDB query to find the cuisine type that is most likely to receive a &lsquo;C&rsquo; grade.
å“ªä¸ªåŒºåŸŸçš„Cæœ€å¤š,ç”¨åˆ°äº†èšåˆ
db.restaurants.aggregate([ {$unwind: &#34;$grades&#34;}, {$match: {&#34;grades.grade&#34;: &#34;C&#34;}}, {$group: {_id: &#34;$cuisine&#34;, count: {$sum: 1}}}, {$sort: {count: -1}} ]) 81 Write a MongoDB query to find the restaurant that has the highest average score for thecuisine &ldquo;Turkish&rdquo;.
èšåˆã€‚
82 Write a MongoDB query to find the restaurants that achieved the highest total score.
è¿ç»­çš„èšåˆ,èšåˆå°±æ˜¯ä¸€ç§ç®¡é“ã€‚
db.restaurants.aggregate([ { $unwind: &#34;$grades&#34; }, { $group: { _id: &#34;$name&#34;, totalScore: { $sum: &#34;$grades.score&#34; } }}, { $sort: { totalScore: -1 } }, { $group: { _id: &#34;$totalScore&#34;, restaurants: { $push: &#34;$_id&#34; } }}, { $sort: { _id: -1 } }, { $limit: 1 }, { $unwind: &#34;$restaurants&#34; }, { $group: { _id: &#34;$_id&#34;, restaurants: { $push: &#34;$restaurants&#34; } }} ]) 83 `,url:"https://hugo-dead-simple.netlify.com/mongodb/exercise4/"},"https://hugo-dead-simple.netlify.com/tags/querying/":{title:"Querying",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/tags/querying/"},"https://hugo-dead-simple.netlify.com/tags/":{title:"Tags",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/tags/"},"https://hugo-dead-simple.netlify.com/typescript/typeof%E7%9A%84%E4%BD%BF%E7%94%A8/":{title:"typeofçš„ä½¿ç”¨",tags:[],content:`åœ¨ TypeScript ä¸­ï¼Œtypeof æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„è¿ç®—ç¬¦ï¼Œå®ƒæœ‰ä¸¤ä¸ªä¸»è¦ç”¨é€”ï¼šä¸€ç§ç”¨äº è·å–å€¼çš„ç±»å‹ï¼Œå¦ä¸€ç§ç”¨äº è·å–ç±»å‹çš„æ„é€ å‡½æ•°ã€‚ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«è§£é‡Šè¿™ä¸¤ç§ç”¨é€”ï¼Œå¹¶ç»™å‡ºä¸€äº›ç¤ºä¾‹ã€‚
1. typeof ç”¨äºè·å–å€¼çš„ç±»å‹ åœ¨ TypeScript ä¸­ï¼Œtypeof å¯ä»¥ç”¨æ¥è·å–ä¸€ä¸ªå€¼çš„ç±»å‹ã€‚ä½ å¯ä»¥é€šè¿‡ typeof æ¥æ¨æ–­æˆ–æ˜¾å¼åœ°è·å–å˜é‡çš„ç±»å‹ã€‚
ç¤ºä¾‹ï¼šè·å–å€¼çš„ç±»å‹ let x = &#34;hello&#34;; let y: typeof x; // y çš„ç±»å‹ä¼šè‡ªåŠ¨æ¨æ–­ä¸º string y = &#34;world&#34;; // æ­£ç¡® // y = 42; // é”™è¯¯: ç±»å‹ &#39;number&#39; ä¸èƒ½èµ‹å€¼ç»™ç±»å‹ &#39;string&#39; typeof x ä¼šæ¨æ–­å‡ºå˜é‡ x çš„ç±»å‹ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œx æ˜¯ä¸€ä¸ª stringï¼Œæ‰€ä»¥ y çš„ç±»å‹ä¹Ÿä¼šè¢«æ¨æ–­ä¸º stringã€‚ ä½ å¯ä»¥å°† typeof ç”¨äºå˜é‡å£°æ˜ï¼Œæˆ–è€…åœ¨ç±»å‹æ³¨è§£ä¸­æŒ‡å®šç±»å‹ã€‚ ç¤ºä¾‹ï¼šè·å–å¯¹è±¡å±æ€§çš„ç±»å‹ const person = { name: &#34;Alice&#34;, age: 30 }; let nameType: typeof person.name; // nameType çš„ç±»å‹æ˜¯ string let ageType: typeof person.age; // ageType çš„ç±»å‹æ˜¯ number è¿™é‡Œï¼Œtypeof person.name ä¼šå¾—åˆ° person.name çš„ç±»å‹ï¼ˆå³ stringï¼‰ï¼Œtypeof person.age ä¼šå¾—åˆ° numberã€‚ 2. typeof ç”¨äºè·å–ç±»å‹ typeof è¿˜å¯ä»¥ç”¨æ¥è·å– ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½ éœ€è¦å¼•ç”¨æŸä¸ªç±»å‹æˆ–ç±»å‹çš„æ„é€ å‡½æ•°æ—¶ã€‚è¿™ä¸ªç”¨é€”é€šå¸¸ä¸ keyof ä¸€èµ·ä½¿ç”¨æ¥é™åˆ¶æŸä¸ªå€¼çš„ç±»å‹ã€‚
ç¤ºä¾‹ï¼šè·å–ç±»çš„æ„é€ å‡½æ•°ç±»å‹ class Person { name: string; constructor(name: string) { this.name = name; } } let PersonConstructor: typeof Person; // PersonConstructor çš„ç±»å‹æ˜¯ \`typeof Person\`ï¼Œå³æ„é€ å‡½æ•°ç±»å‹ PersonConstructor = Person; // æ­£ç¡® // PersonConstructor = String; // é”™è¯¯: ç±»å‹ &#39;typeof String&#39; ä¸å…¼å®¹ç±»å‹ &#39;typeof Person&#39; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œtypeof Person ä¼šè·å– Person ç±»çš„æ„é€ å‡½æ•°ç±»å‹ï¼Œå³ typeof Person å®é™…ä¸Šæ˜¯ new (name: string) =&gt; Personï¼Œè¡¨ç¤ºå¯ä»¥ç”¨æ¥åˆ›å»º Person å®ä¾‹çš„æ„é€ å‡½æ•°ç±»å‹ã€‚ ç¤ºä¾‹ï¼šé€šè¿‡ typeof å¼•ç”¨ç±»å‹æ„é€ å‡½æ•° let x: number = 42; let y: typeof x; // y çš„ç±»å‹æ˜¯ number y = 123; // æ­£ç¡® // y = &#34;hello&#34;; // é”™è¯¯: ç±»å‹ &#39;string&#39; ä¸èƒ½èµ‹å€¼ç»™ç±»å‹ &#39;number&#39; è¿™é‡Œï¼Œtypeof x å–å¾—äº† x çš„ç±»å‹ï¼Œx æ˜¯ number ç±»å‹ï¼Œå› æ­¤ y çš„ç±»å‹ä¹Ÿæ˜¯ numberã€‚ 3. typeof ç”¨äºç±»å‹æ¨æ–­ä¸ç±»å‹ä¿æŠ¤ typeof è¿˜å¯ä»¥ç”¨äºç±»å‹ä¿æŠ¤ï¼Œå³åœ¨ç±»å‹åˆ¤æ–­ä¸­å¸®åŠ©æˆ‘ä»¬æ˜ç¡®å˜é‡çš„ç±»å‹ã€‚è¿™å¯¹äºæŸäº›å¤æ‚çš„ç±»å‹æ£€æŸ¥å¾ˆæœ‰ç”¨ã€‚
ç¤ºä¾‹ï¼štypeof åœ¨ç±»å‹ä¿æŠ¤ä¸­çš„åº”ç”¨ function printLength(value: string | string[]) { if (typeof value === &#34;string&#34;) { console.log(value.length); // value æ˜¯ string ç±»å‹ } else { console.log(value.length); // value æ˜¯ string[] ç±»å‹ } } printLength(&#34;Hello&#34;); // è¾“å‡º: 5 printLength([&#34;a&#34;, &#34;b&#34;, &#34;c&#34;]); // è¾“å‡º: 3 typeof value === &quot;string&quot; ç”¨æ¥åˆ¤æ–­ value æ˜¯å¦æ˜¯ string ç±»å‹ï¼Œå¸®åŠ© TypeScript ç¡®å®šåœ¨ if è¯­å¥å—ä¸­çš„ç±»å‹ã€‚ åŒç†ï¼Œå¯ä»¥ä½¿ç”¨ typeof æ¥åˆ¤æ–­å…¶ä»–åŸºæœ¬ç±»å‹ï¼Œå¦‚ numberã€boolean ç­‰ã€‚ 4. typeof ç”¨äºè”åˆç±»å‹å’Œå­—é¢é‡ç±»å‹çš„æ¨æ–­ typeof ä¹Ÿèƒ½ç”¨æ¥æ¨æ–­å­—é¢é‡ç±»å‹ï¼ˆliteral typesï¼‰ã€‚
ç¤ºä¾‹ï¼šæ¨æ–­å­—é¢é‡ç±»å‹ const color = &#34;red&#34;; type Color = typeof color; // Color çš„ç±»å‹æ˜¯ &#34;red&#34; let myColor: Color = &#34;red&#34;; // æ­£ç¡® // let anotherColor: Color = &#34;blue&#34;; // é”™è¯¯: ç±»å‹ &#39;&#34;blue&#34;&#39; ä¸èƒ½èµ‹å€¼ç»™ç±»å‹ &#39;&#34;red&#34;&#39; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œtypeof color ä¼šæ¨æ–­å‡º color å˜é‡çš„å­—é¢é‡ç±»å‹ &quot;red&quot;ï¼Œå› æ­¤ Color ç±»å‹å®é™…ä¸Šæ˜¯ &quot;red&quot;ï¼Œè€Œä¸æ˜¯ stringã€‚ æ€»ç»“ typeof è·å–å€¼çš„ç±»å‹ï¼šä½ å¯ä»¥ç”¨ typeof è·å–ä¸€ä¸ªå˜é‡æˆ–å¯¹è±¡çš„ç±»å‹ï¼Œé€šå¸¸ç”¨äºç±»å‹æ¨æ–­æˆ–åŠ¨æ€ç±»å‹èµ‹å€¼ã€‚ typeof è·å–æ„é€ å‡½æ•°ç±»å‹ï¼šå½“ä½ ä½¿ç”¨ typeof å¯¹ç±»è¿›è¡Œæ“ä½œæ—¶ï¼Œå®ƒä¼šè·å–ç±»çš„æ„é€ å‡½æ•°ç±»å‹ï¼Œå¯ä»¥ç”¨äºå¼•ç”¨ç±»å‹çš„æ„é€ å‡½æ•°ã€‚ ç±»å‹ä¿æŠ¤ï¼štypeof åœ¨ç±»å‹ä¿æŠ¤ä¸­å¯ä»¥å¸®åŠ©ä½ æ ¹æ®å€¼çš„ç±»å‹åšå‡ºåˆ¤æ–­ã€‚ å­—é¢é‡ç±»å‹æ¨æ–­ï¼štypeof å¯ä»¥ç”¨äºæ¨æ–­å˜é‡çš„å­—é¢é‡ç±»å‹ï¼Œä»è€Œå®ç°æ›´ç²¾ç¡®çš„ç±»å‹å®šä¹‰ã€‚ é€šè¿‡ typeofï¼Œä½ å¯ä»¥æ›´çµæ´»åœ°åœ¨ TypeScript ä¸­è¿›è¡Œç±»å‹æ¨æ–­ã€ç±»å‹ä¿æŠ¤å’Œç±»å‹çº¦æŸï¼Œå¢å¼ºä»£ç çš„ç±»å‹å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
`,url:"https://hugo-dead-simple.netlify.com/typescript/typeof%E7%9A%84%E4%BD%BF%E7%94%A8/"},"https://hugo-dead-simple.netlify.com/typescript/typescript_program/":{title:"typescript_program",tags:[],content:` æœ¬æ–‡ç”± ç®€æ‚¦ SimpRead è½¬ç ï¼Œ åŸæ–‡åœ°å€ chengjingchao.com
ç¬¬ 1 ç«  å¯¼è¨€ä½¿ç”¨ TypeScript å¼€å‘çš„ç¨‹åºæ›´å®‰å…¨ï¼Œå¸¸è§çš„é”™è¯¯éƒ½èƒ½æ£€æŸ¥å‡ºæ¥ï¼Œå†™å‡ºçš„ä»£ç è¿˜å¯ä»¥ä½œä¸ºæ–‡æ¡£ã€‚
å‘è¡¨äº 2022-01-01 | æ›´æ–°äº: 2022-01-06
ä½¿ç”¨ TypeScript å¼€å‘çš„ç¨‹åºæ›´å®‰å…¨ï¼Œå¸¸è§çš„é”™è¯¯éƒ½èƒ½æ£€æŸ¥å‡ºæ¥ï¼Œå†™å‡ºçš„ä»£ç è¿˜å¯ä»¥ä½œä¸ºæ–‡æ¡£ã€‚
æ›´å®‰å…¨æ˜¯æŒ‡ç±»å‹å®‰å…¨
ç±»å‹å®‰å…¨ï¼šå€ŸåŠ©ç±»å‹é¿å…ç¨‹åºåšæ— æ•ˆçš„äº‹æƒ…ï¼ˆæ— æ•ˆæŒ‡çš„æ˜¯è¿è¡Œæ—¶ç¨‹åºå´©æºƒæˆ–æœªå´©æºƒï¼Œä½†åšçš„äº‹æƒ…æ¯«æ— æ„ä¹‰
ä¸¾ä¸ª ğŸŒ°
æ•°å­—ä¹˜ä»¥ä¸€ä¸ªåˆ—è¡¨
æ¥æ”¶æ•°å­—çš„å‡½æ•°å´ä¼ å…¥äº†å­—ç¬¦ä¸²
è°ƒç”¨å¯¹è±¡ä¸Šä¸å­˜åœ¨çš„æ–¹æ³•
å¯¼å…¥å·²ç»è¢«ç§»é™¤çš„æ¨¡å—
3 + [] // &#34;3&#34; let obj = {} obj.foo // undefined function a(b) { return b/2 } a(&#39;z&#39;) // NaN åœ¨åšæ— æ•ˆäº‹æƒ…çš„æ—¶å€™ï¼ŒJavaScript æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯å°½è‡ªå·±æ‰€èƒ½ï¼Œé¿å…æŠ›å‡ºå¼‚å¸¸ã€‚
è€Œ JavaScript è¿™ç§ç‰¹æ€§è®©ä»£ç ä¸­é”™è¯¯çš„äº§ç”Ÿä¸å‘ç°è„±èŠ‚äº†ã€‚å¯¼è‡´ bug å¾€å¾€æ˜¯ç”±ä»–äººè½¬å‘Šç»™ä½ çš„ã€‚ åˆ°çœŸæ­£è¿è¡Œæ—¶å¯èƒ½æ‰ä¼šå‘ç°é”™è¯¯ã€‚
è€Œ TypeScript ç»™å‡ºé”™è¯¯çš„æ—¶é—´ç‚¹ï¼šåœ¨è¾“å…¥ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œä»£ç ç¼–è¾‘å™¨ä¼šç»™å‡ºé”™è¯¯æ¶ˆæ¯ï¼Œæ¥æé†’ä½ ã€‚
3 + [] // Error TS2365: Operator &#39;+&#39; cannot be applied to types &#39;3&#39; and &#39;never[]&#39;. let obj = {} obj.foo // Error TS2339: Property &#39;foo&#39; does not exist on type &#39;{}&#39; function (a: number) { return b / 2 } a(&#39;z&#39;) // Error TS2345: Argument of type &#39;&#34;z&#34;&#39; is not assignable to parameter of type &#39;number&#39;. ç¼–è¯‘å™¨ TypeScript ç¼–è¯‘å™¨ï¼ˆTSCï¼‰
é€šå¸¸è¿è¡Œç¨‹åºçš„å¤§è‡´æµç¨‹
æŠŠç¨‹åºè§£æä¸º AST AST ç¼–è¯‘æˆå­—èŠ‚ç  è¿è¡Œæ—¶è®¡ç®—å­—èŠ‚ç  è¿è¡Œç¨‹åºå°±æ˜¯è®©è¿è¡Œæ—¶è®¡ç®—ç”±ç¼–è¯‘å™¨ä»æºç è§£æå¾—æ¥çš„ AST ç”Ÿæˆçš„å­—èŠ‚ç ã€‚
TypeScript çš„ç‰¹æ®Šä¹‹å¤„åœ¨äºï¼Œä¸ç›´æ¥ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œè€Œæ˜¯ç¼–è¯‘æˆ JavaScriptã€‚ç„¶åå†åƒå¾€å¸¸ä¸€æ ·ï¼Œåœ¨æµè§ˆå™¨ / NodeJS ä¸­è¿è¡Œã€‚
TypeScript ç¼–è¯‘å™¨ç”Ÿæˆ AST ä¹‹åï¼ŒçœŸæ­£è¿è¡Œä»£ç ä¹‹å‰ä¼šå¯¹ä»£ç åšç±»å‹æ£€æŸ¥ã€‚
ç±»å‹æ£€æŸ¥å™¨ï¼šæ£€æŸ¥ä»£ç æ˜¯å¦ç¬¦åˆå®‰å…¨è¦æ±‚çš„ç‰¹æ®Šç¨‹åº
ç¼–è¯‘å’Œè¿è¡Œ TypeScript (1-3 ç”± TSC æ“ä½œï¼Œ4-6 ç”±æµè§ˆå™¨ / NodeJS æ“ä½œ)
TypeScript æºç  -&gt; TypeScript AST
ç±»å‹æ£€æŸ¥å™¨æ£€æŸ¥ AST
TypeScript AST -&gt; JavaScript æºç 
JavaScript æºç  -&gt; JavaScript AST
AST -&gt; å­—èŠ‚ç 
è¿è¡Œæ—¶è®¡ç®—å­—èŠ‚ç 
ç±»å‹åªåœ¨ç±»å‹æ£€æŸ¥è¿™ä¸€æ­¥ä½¿ç”¨ï¼ŒTSC æŠŠ TS ç¼–è¯‘æˆ JS æ—¶ï¼Œä¸ä¼šè€ƒè™‘ç±»å‹ã€‚å¯ä»¥ç¡®ä¿å¯ä»¥éšæ„æ”¹åŠ¨ã€æ›´æ–°å’Œæ”¹è¿›ç¨‹åºä¸­çš„ç±»å‹ï¼Œè€Œæ— éœ€æ‹…å¿ƒä¼šç ´ååº”ç”¨çš„åŠŸèƒ½ã€‚
ç±»å‹ç³»ç»Ÿ ç±»å‹ç³»ç»Ÿï¼šç±»å‹æ£€æŸ¥å™¨ä¸ºç¨‹åºåˆ†é…ç±»å‹æ—¶ä½¿ç”¨çš„ä¸€ç³»åˆ—è§„åˆ™
ä¸€èˆ¬æ¥è¯´ï¼Œç±»å‹ç³»ç»Ÿæœ‰ä¸¤ç§ï¼Œå„æœ‰åˆ©å¼Š
é€šè¿‡æ˜¾å¼å¥æ³•å‘Šè¯‰ç¼–è¯‘å™¨æ‰€æœ‰å€¼çš„ç±»å‹ è‡ªåŠ¨æ¨å¯¼å€¼çš„ç±»å‹ JavaScript åœ¨è¿è¡Œæ—¶æ¨å¯¼ç±»å‹ TypeScript èº«å…¼ä¸¤ç§ç±»å‹ç³»ç»Ÿï¼Œå¯ä»¥æ˜¾å¼æ³¨è§£ç±»å‹ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨æ¨å¯¼å¤šæ•°ç±»å‹ã€‚
æ˜¾ç¤ºå£°æ˜ç±»å‹éœ€è¦ä½¿ç”¨æ³¨è§£ã€‚æ³¨è§£çš„å½¢å¼ value: typeï¼Œå°±åƒæ˜¯å‘Šè¯‰ç±»å‹æ£€æŸ¥å™¨ï¼Œâ€œå˜¿ï¼Œçœ‹åˆ°è¿™ä¸ª value äº†å—ï¼Ÿå®ƒçš„ç±»å‹æ˜¯ typeã€‚â€
// æ˜¾ç¤ºæ³¨è§£ let a: number = 1 let b: string = &#39;hello&#39; let c: boolean[] = [true, false] // è‡ªåŠ¨æ¨å¯¼ let a = 1; let b = &#39;hello&#39; let c = [true, false] TypeScript VS JavaScript ç±»å‹ç³»ç»Ÿç‰¹æ€§JavaScriptTypeScriptç±»å‹æ˜¯å¦‚ä½•ç»‘å®šçš„ï¼ŸåŠ¨æ€é™æ€æ˜¯å¦è‡ªåŠ¨è½¬æ¢ç±»å‹ï¼Ÿæ˜¯å¦ï¼ˆå¤šæ•°æ—¶å€™ï¼‰ä½•æ—¶æ£€æŸ¥ç±»å‹ï¼Ÿè¿è¡Œæ—¶ç¼–è¯‘æ—¶ä½•æ—¶æŠ¥å‘Šé”™è¯¯ï¼Ÿè¿è¡Œæ—¶ï¼ˆå¤šæ•°æ—¶å€™ï¼‰ç¼–è¯‘æ—¶ï¼ˆå¤šæ•°æ—¶å€™ï¼‰ TypeScript èƒ½åšçš„æ˜¯æŠŠçº¯ JavaScript ä»£ç ä¸­é‚£äº›è¿è¡Œæ—¶æ„ˆå‘å’Œç±»å‹ç›¸å…³çš„é”™è¯¯æå‰åˆ°ç¼–è¯‘æ—¶æŠ¥å‘Šã€‚åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­æ˜¾ç¤ºï¼Œè¾“å…¥ä»£ç åç«‹å³å°±æœ‰åé¦ˆã€‚
ç±»å‹æ˜¯å¦‚ä½•ç»‘å®šçš„ï¼Ÿ JavaScript åŠ¨æ€ç»‘å®šç±»å‹ï¼Œå¿…é¡»è¿è¡Œç¨‹åºæ‰èƒ½çŸ¥é“ç±»å‹ã€‚ TypeScript æ¸è¿›å¼ç±»å‹è¯­è¨€ï¼Œåœ¨ç¼–è¯‘æ—¶çŸ¥é“æ‰€æœ‰ç±»å‹
ç±»å‹ï¼šä¸€ç³»åˆ—å€¼åŠå¯¹å…¶æ‰§è¡Œçš„æ“ä½œ
example
ç±»å‹åŒ…å«çš„å€¼å¯ä»¥æ‰§è¡Œçš„æ“ä½œbooleantrueã€false||ã€&&ã€!numberæ‰€æœ‰æ•°å­—+ã€-ã€*ã€/ã€%ã€&&ã€? .toFixed()ã€.toString()stringæ‰€æœ‰å­—ç¬¦ä¸²+ã€||ã€&& .concat()ã€.toUpperCase() å¯¹ T ç±»å‹çš„å€¼æ¥è¯´ï¼Œæˆ‘ä»¬ä¸ä»…çŸ¥é“å€¼çš„ç±»å‹æ˜¯ Tï¼Œè¿˜çŸ¥é“å¯ä»¥ / ä¸å¯ä»¥å¯¹è¯¥å€¼åšä»€ä¹ˆæ“ä½œã€‚ ç±»å‹æ£€æŸ¥å™¨é€šè¿‡ä½¿ç”¨çš„ç±»å‹å’Œå…·ä½“ç”¨æ³•åˆ¤æ–­æ˜¯å¦æœ‰æ•ˆã€‚
TypeScript çš„ç±»å‹å±‚æ¬¡ç»“æ„ ç±»å‹æœ¯è¯­ ç±»å‹æ³¨è§£ï¼ˆå¯ä»¥ç†è§£ä¸ºæŸç§ç•Œé™
function squareOf(n: number) { return n * n; } squareOf(2); // 4 ç±»å‹æµ…è°ˆ any åœ¨ TypeScript ä¸­ï¼Œç¼–è¯‘æ—¶ä¸€åˆ‡éƒ½è¦æœ‰ç±»å‹ï¼Œå¦‚æœä½ å’Œ TypeScriptï¼ˆç±»å‹æ£€æŸ¥å™¨ï¼‰æ— æ³•ç¡®è®¤ç±»å‹æ˜¯ä»€ä¹ˆï¼Œé»˜è®¤ä¸º anyã€‚è¿™æ˜¯å…œåº•ç±»å‹ï¼Œåº”è¯¥å°½é‡é¿å…ä½¿ç”¨ã€‚
ç±»å‹çš„å®šä¹‰ï¼ˆä¸€ç³»åˆ—å€¼åŠå¯ä»¥å¯¹å…¶æ‰§è¡Œçš„æ“ä½œï¼‰any åŒ…å«æ‰€æœ‰å€¼ï¼Œè€Œä¸”å¯ä»¥å¯¹å…¶åšä»€ä¹ˆæ“ä½œã€‚any ç±»å‹çš„å€¼å°±åƒå¸¸è§„çš„ JavaScript ä¸€æ ·ï¼Œç±»å‹æ£€æŸ¥å™¨å®Œå…¨å‘æŒ¥ä¸äº†ä½œç”¨ã€‚
ä½¿ç”¨ any éœ€è¦æ˜¾ç¤ºæ³¨è§£ã€‚
tsconfig.json noImplicitAny: true;
noImplicitAny éš¶å±äº TSC çš„ strict æ ‡å¿—å®¶æ—ï¼Œ
unknown unknown ä¸ any ç±»ä¼¼ï¼Œä¹Ÿè¡¨ç¤ºä»»ä½•å€¼ã€‚ä½†æ˜¯ TypeScript ä¼šè¦æ±‚ä½ åœ¨åšæ£€æŸ¥ï¼Œç»†åŒ–ç±»å‹ã€‚
ç±»å‹åŒ…å«çš„å€¼å¯ä»¥æ‰§è¡Œçš„æ“ä½œunknown==ã€===ã€||ã€&amp;&amp;ã€?ã€!ã€typeofã€instance of // example let a: unknown = 30; // unknown let b = a === 123; // boolean let c = a + 10; // Error TS 2571: Object is of type &#39;unknown&#39; if (typeof a === &#39;number&#39;) { let d = a + 10; // number } unknown çš„ç”¨æ³•
TypeScript ä¸ä¼šæŠŠä»»ä½•å€¼æ¨å¯¼ä¸º unknown ç±»å‹ï¼Œå¿…é¡»æ˜¾ç¤ºæ³¨è§£ï¼ˆaï¼‰ unknown ç±»å‹çš„å€¼å¯ä»¥æ¯”è¾ƒï¼ˆbï¼‰ æ‰§è¡Œæ“ä½œæ—¶ä¸èƒ½å‡å®š unknown ç±»å‹çš„å€¼ä¸ºæŸç§ç‰¹å®šç±»å‹ï¼ˆcï¼‰ï¼Œå¿…é¡»å…ˆå‘ TypeScript è¯æ˜ä¸€ä¸ªå€¼ç¡®å®æ˜¯æŸä¸ªç±»å‹ï¼ˆdï¼‰ boolean ç±»å‹åŒ…å«çš„å€¼å¯ä»¥æ‰§è¡Œçš„æ“ä½œbooleantrueã€false==ã€===ã€||ã€&amp;&amp;ã€? // example let a = true // boolean let b = false // boolean const c = true // true let d: boolean = true // boolean let e: true = true // true let f: true = false // Error TS2322: Type &#39;false&#39; is not assignable to type &#39;true&#39;. TypeScript æ¨å¯¼å‡ºå€¼çš„ç±»å‹ä¸º booleanï¼ˆa å’Œ bï¼‰ ä½¿ç”¨ constï¼Œè®© TypeScript æ¨å¯¼å‡ºå€¼ä¸ºæŸä¸ªå…·ä½“çš„å¸ƒå°”å€¼ï¼ˆcï¼‰ æ˜¾å¼æ³¨è§£ï¼Œå£°æ˜å€¼çš„ç±»å‹ä¸º booleanï¼ˆdï¼‰ æ˜¾å¼æ³¨è§£ï¼Œå£°æ˜å€¼ä¸ºæŸä¸ªå…·ä½“çš„å¸ƒå°”å€¼ï¼ˆe å’Œ fï¼‰ã€‚æŠŠç±»å‹è®¾å®šä¸ºæŸä¸ªå€¼ï¼Œå°±é™åˆ¶äº† e å’Œ f åœ¨æ‰€æœ‰å¸ƒå°”å€¼ä¸­åªèƒ½å–æŒ‡å®šçš„é‚£ä¸ªå€¼ã€‚è¿™ç§ç‰¹æ€§è¢«ç§°ä¸ºç±»å‹å­—é¢é‡ã€‚ ç±»å‹å­—é¢é‡â€”â€”ä»…è¡¨ç¤ºä¸€ä¸ªå€¼çš„ç±»å‹
å˜é‡ e f æ˜¯ä½¿ç”¨ç±»å‹å­—é¢é‡æ˜¾ç¤ºæ³¨è§£äº†å˜é‡ï¼Œå˜é‡ c åˆ™æ˜¯ç”± TypeScript æ¨å¯¼å‡ºä¸€ä¸ªå­—é¢é‡ç±»å‹ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯ constã€‚ const å£°æ˜çš„åŸºæœ¬ç±»å‹çš„å€¼ï¼Œèµ‹å€¼ä¹‹åæ— æ³•ä¿®æ”¹ï¼Œå› æ­¤ TypeScript æ¨å¯¼å‡ºçš„æ˜¯èŒƒå›´æœ€çª„çš„ç±»å‹ï¼Œæ‰€ä»¥ TypeScript æ¨å¯¼å‡ºçš„ c çš„ç±»å‹ä¸º trueï¼Œè€Œä¸æ˜¯ booleanã€‚
number ç±»å‹åŒ…å«çš„å€¼å¯ä»¥æ‰§è¡Œçš„æ“ä½œnumberæ•´æ•°ã€æµ®ç‚¹æ•°ã€æ­£æ•°ã€è´Ÿæ•°ã€Infinityã€NaN ç­‰ç®—æœ¯è¿ç®— æ¯”è¾ƒ // example let a = 1234 // number let b = Infinity * 0.1 // number const c = 5678 // 5678 let d = a &lt; b // boolean let e: number = 100 // number let f: 26.218 = 26.218 // 26.218 let g: 26.218 = 10 // Error TS2322: Type &#39;10&#39; is not assignable to type &#39;26.218&#39; TypeScript æ¨å¯¼å‡ºå€¼çš„ç±»å‹ä¸º numberï¼ˆa å’Œ bï¼‰ ä½¿ç”¨ constï¼Œè®© TypeScript æ¨å¯¼å‡ºå€¼ä¸ºæŸä¸ªå…·ä½“çš„æ•°å­—ï¼ˆcï¼‰ æ˜¾å¼æ³¨è§£ï¼Œå£°æ˜å€¼çš„ç±»å‹ä¸º numberï¼ˆeï¼‰ æ˜¾å¼æ³¨è§£ï¼Œå£°æ˜å€¼ä¸ºæŸä¸ªå…·ä½“çš„æ•°å­—ï¼ˆf å’Œ gï¼‰ tipsï¼šå¤„ç†è¾ƒé•¿çš„æ•°å­—æ—¶å¯ä»¥ä½¿ç”¨æ•°å­—åˆ†éš”ç¬¦ã€‚
let oneMillion = 1_000_ 000 // ç­‰åŒäº 1000000 let twoMillion: 2_000_000 = 2_000_000 bigint æ˜¯ JavaScript å’Œ TypeScript æ–°å¼•å…¥çš„ç±»å‹ï¼Œåœ¨å¤„ç†è¾ƒå¤§çš„æ•´æ•°æ—¶ï¼Œä¸ç”¨å†æ‹…å¿ƒèˆå…¥è¯¯å·®ã€‚
number ç±»å‹è¡¨ç¤ºçš„æ•´æ•°æœ€å¤§ä¸º 253ï¼Œbigint å¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚
ç±»å‹åŒ…å«çš„å€¼å¯ä»¥æ‰§è¡Œçš„æ“ä½œbigintæ‰€æœ‰ BigInt æ•°ç®—æœ¯è¿ç®— æ¯”è¾ƒ // example let a = 1234n // bigint const b = 5678n // 5678n let c = a + b // bigint let d = a &lt; 1235 // boolean let e = 88.5n // Error TS1353: A bigint literal must be an integer. let f: bigint = 100n // bigint let g: 100n = 100n // 100n let h: bigint = 100 // Error TS2322: Type &#39;100&#39; is not assignable ty type &#39;bigint&#39;. ä¸ boolean å’Œ number ä¸€æ ·ï¼Œå£°æ˜ bigint ç±»å‹ä¹Ÿæœ‰å››ç§æ–¹å¼ã€‚å°½é‡è®© TypeScript è‡ªåŠ¨æ¨å¯¼ã€‚
string ç±»å‹åŒ…å«çš„å€¼å¯ä»¥æ‰§è¡Œçš„æ“ä½œstringæ‰€æœ‰å­—ç¬¦ä¸²å­—ç¬¦ä¸²å¯ä»¥è¿›è¡Œçš„æ“ä½œ ä¾‹å¦‚ +ã€.slice() // example let a = &#39;hello&#39; // string let b = &#39;billy&#39; // string const c = &#39;!&#39; // ! let d = a + &#39; &#39; + b + c // string let e: string = &#39;zoom&#39; // string let f: &#39;john&#39; = &#39;john&#39; // john let g: &#39;john&#39; = &#39;zoe&#39; // Error TS2322: Type &#39;zoe&#39; is not assignable to type &#39;john&#39; åŒæ ·ä¹Ÿæ˜¯å°½é‡è®© TypeScript è‡ªåŠ¨æ¨å¯¼ string ç±»å‹ã€‚
symbol symbol ç»å¸¸ç”¨äºä»£æ›¿å¯¹è±¡å’Œæ˜ å°„çš„å­—ç¬¦ä¸²å¥ï¼Œé˜²æ­¢è¢«æ„å¤–è®¾ç½®ã€‚ symbol çš„ç±»å‹å°±æ˜¯ symbolï¼Œæ¯ä¸€ä¸ª symbol éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä¸ä¸å…¶ä»–ä»»ä½•ç¬¦å·ç›¸ç­‰ï¼Œå³ä¾¿å†ä½¿ç”¨ç›¸åŒçš„åç§°åˆ›å»ºä¸€ä¸ª symbol ä¹Ÿæ˜¯å¦‚æ­¤ã€‚
// example let a = Symbol(&#39;a&#39;) // symbol let b: symbol = Symbol(&#39;b&#39;) // symbol let c = a === b // boolean let d = a + &#39;x&#39; // Error TS2469: The &#39;+&#39; operator cannot be applied to type &#39;symbol&#39;. // example const e = Symbol(&#39;e&#39;) // unique symbol const f: unique symbol = Symbol(&#39;f&#39;) // unique symbol let g: unique symbol = Symbol(&#39;f&#39;) // Error TS1332: A variable whose type is a &#39;unique symbol&#39; type must be &#39;const&#39;. let h = e === e // boolean let i = e === f // Error TS2367: This condition will always return &#39;false&#39; since the type &#39;unique symbol&#39; and &#39;unique symbol&#39; have no overlap. åˆ›å»º symbol çš„æ–¹å¼
ä½¿ç”¨ constï¼ŒTypeScript ä¼šæ¨å¯¼ä¸º unique symbol ç±»å‹ã€‚ æ˜¾å¼æ³¨è§£ const å˜é‡çš„ç±»å‹ä¸º unique symbol unique symbol ç±»å‹çš„å€¼å§‹ç»ˆä¸è‡ªèº«ç›¸ç­‰ TypeScript åœ¨ç¼–è¯‘æ—¶çŸ¥é“ä¸€ä¸ª unique symbol ç»å¯¹ä¸ä¼šä¸å¦ä¸€ä¸ª unique symbol ç›¸ç­‰ unique symbol ä¸å…¶ä»–å­—é¢é‡ç±»å‹å…¶å®æ˜¯ä¸€æ ·çš„ã€‚
å¯¹è±¡ TypeScript çš„å¯¹è±¡ç±»å‹è¡¨ç¤ºå¯¹è±¡çš„ç»“æ„ã€‚
ç»“æ„åŒ–ç±»å‹â€“ä¸€ç§ç¼–ç¨‹è®¾è®¡é£æ ¼ï¼Œåªå…³å¿ƒå¯¹è±¡æœ‰å“ªäº›å±æ€§ï¼Œè€Œä¸ç®¡å±æ€§ä½¿ç”¨ä»€ä¹ˆåç§°ï¼ˆåä¹‰åŒ–ç±»å‹ï¼‰ã€‚åœ¨æŸäº›è¯­è¨€ä¸­ä¹Ÿå«é¸­å­ç±»å‹ï¼ˆå³ä¸ä»¥è²Œå–äººï¼‰
// example let b: object = { b: &#39;x&#39; } a.b // Error TS2339: Property &#39;b&#39; does not exist on type &#39;object&#39;. object åªèƒ½è¡¨ç¤ºè¯¥å€¼æ˜¯ä¸€ä¸ª JavaScript å¯¹è±¡ï¼ˆè€Œä¸”ä¸æ˜¯ nullï¼‰
// å¯¹è±¡å­—é¢é‡ // è‡ªåŠ¨æ¨å¯¼ let a = { b: &#39;x&#39; } // or let a: { b: string } = { b: &#39;x&#39; } å¯¹è±¡å­—é¢é‡å¥æ³•çš„æ„æ€æ˜¯ï¼Œâ€œè¿™ä¸ªä¸œè¥¿çš„ç»“æ„æ˜¯è¿™æ ·è¿‡çš„ã€‚â€
ä½¿ç”¨ const å£°æ˜å¯¹è±¡ä¸ä¼šå¯¼è‡´ TypeScript æŠŠæ¨å¯¼çš„ç±»å‹ç¼©çª„ã€‚ä¸ä¸Šé¢çš„åŸºæœ¬ç±»å‹ä¸åŒã€‚è¿™æ˜¯å› ä¸º JavaScript å¯¹è±¡æ˜¯å¯å˜çš„ï¼Œæ‰€ä»¥åœ¨ TypeScript çœ‹æ¥ï¼Œåˆ›å»ºå¯¹è±¡ä¹‹åä½ å¯èƒ½ä¼šæ›´æ–°å¯¹è±¡çš„å­—æ®µã€‚
let a: { b: number } b = {} // Error TS2741: Property &#39;b&#39; is missing in type &#39;{}&#39; but required in type &#39;{b: number}&#39;. b = { a: 1, b: 2 } // Error TS2322: Type &#39;{b: number; c: number}&#39; is not assignable to type &#39;{b: number}&#39;. Object literal may only specify known properties, and &#39;c&#39; does not exist in type &#39;{b: number}&#39;. é»˜è®¤æƒ…å†µä¸‹ï¼ŒTypeScript å¯¹å¯¹è±¡çš„å±æ€§è¦æ±‚ååˆ†ä¸¥æ ¼ã€‚å¦‚æœå£°æ˜å¯¹è±¡æœ‰ä¸ªç±»å‹ä¸º number çš„å±æ€§ bï¼ŒTypeScript å°†é¢„æœŸå¯¹è±¡æœ‰ä¸”åªæœ‰è¿™ä¸ªå±æ€§ã€‚ç¼ºå°‘æˆ–è€…å¤šäº†ï¼ŒTypeScript éƒ½ä¼šæŠ¥é”™ã€‚
let a: { b: number c?: string // å¯èƒ½æœ‰ä¸ªç±»å‹ä¸º string çš„å±æ€§ cã€‚å…¶å€¼å¯ä»¥ä¸º undefined readonly firstName: string // ä¸ºå­—æ®µèµ‹åˆå§‹å€¼åæ— æ³•ä¿®æ”¹ã€‚ç±»ä¼¼äºä½¿ç”¨ const å£°æ˜å¯¹è±¡çš„å±æ€§ [key: number]: boolean // å¯èƒ½æœ‰ä»»æ„å¤šä¸ªæ•°å­—å±æ€§ï¼Œå…¶å€¼ä¸ºå¸ƒå°”å€¼ } [key: T]: U å¥æ³•ç§°ä¸ºç´¢å¼•ç­¾åï¼Œé€šè¿‡è¿™ç§æ–¹å¼å‘Šè¯‰ TypeScriptï¼ŒæŒ‡å®šçš„å¯¹è±¡å¯èƒ½æœ‰æ›´å¤šçš„ keyã€‚è¿™ç§å¥æ³•çš„æ„æ€æ˜¯ï¼Œâ€œåœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œç±»å‹ä¸º T çš„å¥å¯¹åº”çš„å€¼ä¸º U ç±»å‹ã€‚â€
ç´¢å¼•ç­¾å key çš„ç±»å‹ T å¿…é¡»å¯èµ‹å€¼ç»™ number æˆ– stringã€‚ï¼ˆJavaScript å¯¹è±¡çš„å¥ä¸ºå­—ç¬¦ä¸²ï¼›æ•°ç»„æ˜¯ç‰¹æ®Šçš„å¯¹è±¡ï¼Œå¥ä¸ºæ•°å­—ã€‚ï¼‰ key çš„åç§°å¯ä»¥æ˜¯ä»»æ„è¯ï¼Œä¸ä¸€å®šéçš„ç”¨ key å¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³•æœ‰ä¸€ä¸ªç‰¹ä¾‹ï¼šç©ºå¯¹è±¡ç±»å‹ {}ã€‚é™¤ null å’Œ undefined ä¹‹å¤–çš„ä»»ä½•ç±»å‹éƒ½å¯ä»¥èµ‹å€¼ç»™ç©ºå¯¹è±¡ç±»å‹ï¼Œåº”è¯¥å°½é‡é¿å…ä½¿ç”¨ã€‚
åœ¨ TypeScript ä¸­å£°æ˜å¯¹è±¡ç±»å‹æœ‰å››ç§æ–¹å¼
å¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³• {a: string}ï¼Œä¹Ÿç§°å¯¹è±¡ç»“æ„ ç©ºå¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³• {}ã€‚é¿å…ä½¿ç”¨ object ç±»å‹ã€‚å¦‚æœéœ€è¦ä¸ªå¯¹è±¡ï¼Œå½“å¯¹è¿™ä¸ªå¯¹è±¡çš„å­—æ®µæ²¡æœ‰è¦æ±‚ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ã€‚ Objectã€‚é¿å…ä½¿ç”¨ å¯¹ä¸€ä¸ªå€¼ï¼Œåœ¨ç±»å‹å…è®¸çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å¯¹å…¶æ‰§è¡Œç‰¹å®šçš„æ“ä½œã€‚å…¶å®åœ¨ç±»å‹è‡ªèº«ä¸Šä¹Ÿå¯ä»¥æ‰§è¡Œä¸€äº›æ“ä½œã€‚
ç±»å‹åˆ«å
type Age = number type Person = { name: string age: Age } let driver: Person = { name: &#39;Jack&#39; age: 18 } ç±»å‹åˆ«åé‡‡ç”¨å—çº§ä½œç”¨åŸŸã€‚åœ¨åŒä¸€ä½œç”¨äºä¸­ä¸èƒ½é‡å¤å£°æ˜ç›¸åŒç±»å‹ã€‚
å¹¶é›†å’Œäº¤é›†
type Cat = { name: string, purrs: boolean } type Dog ={ name: string, barks: boolean, wags: boolean } type CatOrDogOrBoth = Cat | Dog // å¹¶é›† type CatAndDog = Cat &amp; Dog // äº¤é›† // CatOrDogOrBoth å¯ä»¥æ˜¯ Cat ç±»å‹çš„å€¼ï¼Œå¯ä»¥æ˜¯ Dog ç±»å‹çš„å€¼ï¼Œè¿˜å¯ä»¥äºŒè€…å…¼å…·ã€‚ // Cat let a: CatOrDogOrBoth = { name: &#39;Bonkers&#39;, purrs: true } // Dog a = { name: &#39;Domino&#39;, barks: true, wags: true } // äºŒè€…å…¼å…· a = { name: &#39;Donkers&#39;, barsk: true, purrs: true, wags: true } // CatAndDot let b: CatAndDog = { name: &#39;Domino&#39;, barks: true, purrs: true, wags: true } å¹¶é›†é€šå¸¸æ›´å¸¸ç”¨
å‡½æ•°è¿”å›å€¼å¯èƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯èƒ½æ˜¯ nullã€‚string | null æ··åˆç±»å‹çš„æ•°ç»„ æ•°ç»„
let a = [1, 2, 3] // number[] let b = [&#39;a&#39;, &#39;b&#39;] // string[] let c: string[] = [&#39;a&#39;] // string[] let d = [1, &#39;a&#39;] // (number | string)[] const e = [2, &#39;b&#39;] // (number | string)[] let f = [&#39;red&#39;] // string[] f.push(&#39;blue&#39;) f.push(true) // Error TS2345: Argument of type &#39;true&#39; is not assignable to parameter of type &#39;string&#39;. let g = [] // any[] g.push(1) // number[] g.push(&#39;red&#39;) // (number | string)[] let h: number[] = [] // number[] h.push(1) // number[] h.push(&#39;red&#39;) // Error TS2345: Argument of type &#39;&#34;red&#34;&#39; is not assignable to parameter of type &#39;number&#39;. TypeScript æ”¯æŒä¸¤ç§æ³¨è§£æ•°ç»„ç±»å‹çš„å¥æ³•
T[] Array ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ•°ç»„åº”è¯¥ä¿æŒåŒè´¨ã€‚
å…ƒç¥–
array çš„å­ç±»å‹ï¼Œé•¿åº¦å›ºå®šï¼Œå„ç´¢å¼•ä½ä¸Šçš„å€¼å…·æœ‰å›ºå®šçš„å·²çŸ¥ç±»å‹ã€‚
å£°æ˜å…ƒç»„æ—¶å¿…é¡»æ˜¾å¼æ³¨è§£ç±»å‹ã€‚
let a: [number] = 1 let b: [string, string, number] = [&#39;jack&#39;, &#39;boy&#39;, 1963] b = [&#39;tom&#39;, &#39;boy&#39;, &#39;li&#39;, 1926] // Error TS2322: Type &#39;string&#39; is not assignable to type &#39;number&#39;. å…ƒç»„ä¹Ÿæ”¯æŒå¯é€‰å…ƒç´ 
let trainFares: [number, number?][] = [ [3.75], [8.25, 7.70], [10.60], ] // ç­‰ä»·äº let moreTrainFares: ([number, number] | [number])[] = [ // ... ] å…ƒç»„ä¹Ÿæ”¯æŒå‰©ä½™å…ƒç´ ï¼Œå³ä¸ºå…ƒç»„å®šä¹‰æœ€å°é•¿åº¦
// å­—ç¬¦ä¸²åˆ—è¡¨ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´  let friends: [string, ...string[]] = [&#39;Sara&#39;, &#39;Tali&#39;, &#39;Chloe&#39;, &#39;Claire&#39;] // å…ƒç´ ç±»å‹ä¸åŒçš„åˆ—è¡¨ let list: [number, boolean, ...string[]] = [1, false, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;] åªè¯»æ•°ç»„å’Œå…ƒç¥–
let as: readonly number[] = [1, 2, 3] // readonly number[] let bs: readonly number[] = as.concat(4) // readonly number[] let three = bs[2] // number as[4] = 5 // Error TS2542: Index signature in type &#39;readonly number[]&#39; only permits reading. as.push(6) // Error TS2339: Property &#39;push&#39; does not exist on type &#39;readonly number[]&#39;. // Readonly å’Œ ReadonlyArray å¥æ³• type A = readonly string[] // readonly string[] type B = ReadonlyArray&lt;string&gt; // readonly string[] type C = Readonly&lt;string[]&gt; // readonly string[] type D = readonly [number, string] // readonly [number, string] type E = Readonly&lt;[number, string]&gt; // readonly [number, string] nullã€undefinedã€void å’Œ never | ç±»å‹ | å«ä¹‰ | | â€” | â€” | | null | ç¼ºå°‘å€¼ | | undefined | å°šæœªèµ‹å€¼çš„å˜é‡ | | void | æ²¡æœ‰ return è¯­å¥çš„å‡½æ•° | | never | æ°¸ä¸è¿”å›çš„å‡½æ•° |
// è¿”å› never çš„å‡½æ•° function d() { throw TypeError(&#39;I always error&#39;) } function e() { while (true) { doSomething() } } never æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼Œå¯ä»¥èµ‹å€¼ç»™å…¶ä»–ä»»ä½•ç±»å‹ã€‚
æšä¸¾
æšä¸¾çš„ä½œç”¨æ˜¯åˆ—ä¸¾ç±»å‹ä¸­åŒ…å«çš„å„ä¸ªå€¼ã€‚æ˜¯ä¸€ç§æ— åºæ•°æ®ç»“æ„ï¼ŒæŠŠé”®æ˜ å°„åˆ°å€¼ä¸Šã€‚
æšä¸¾å¯ä»¥ç†è§£ä¸ºç¼–è¯‘æ—¶é”®å›ºå®šçš„å¯¹è±¡ï¼Œè®¿é—®é”®æ—¶ï¼ŒTypeScript å°†æ£€æŸ¥æŒ‡å®šçš„é”®æ˜¯å¦å­˜åœ¨ã€‚
æšä¸¾åˆ†ä¸ºä¸¤ç§
å­—ç¬¦ä¸²åˆ°å­—ç¬¦ä¸²ä¹‹é—´çš„æ˜ å°„ å­—ç¬¦ä¸²åˆ°æ•°å­—ä¹‹é—´çš„æ˜ å°„ enum Language { English, Spaish, Russian } æŒ‰çº¦å®šï¼Œæšä¸¾åç§°ä¸ºå¤§å†™å•æ•°å½¢å¼ã€‚æšä¸¾ä¸­çš„é”®ä¹Ÿå¤§å†™ã€‚
TypeScript å¯ä»¥è‡ªåŠ¨ä¸ºæšä¸¾ä¸­çš„å„ä¸ªæˆå‘˜æ¨å¯¼å¯¹åº”çš„æ•°å­—ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨è®¾ç½®ã€‚
enum Language { English = 0, Spanish = 1, Russian = 2 } æšä¸¾ä¸­çš„å€¼è®¿é—®æ–¹å¼å’Œå¯¹è±¡ä¸€æ ·
let myFirstLanguage = Language.Russian let mySecondLanguage = Language[&#39;English&#39;] ä¸€ä¸ªæšä¸¾å¯ä»¥åˆ†æˆå‡ æ¬¡å£°æ˜ï¼ŒTypeScript å°†è‡ªåŠ¨æŠŠå„éƒ¨åˆ†åˆå¹¶åœ¨ä¸€èµ·
enum Language { English = 0, Spanish = 1, } enum Language { Russian = 2 } meiju
å°ç»“ ç±»å‹å­ç±»å‹booleanBoolean å­—é¢é‡bigintBigInt å­—é¢é‡numberNumber å­—é¢é‡stringString å­—é¢é‡symbolunique symbolobjectObject å­—é¢é‡æ•°ç»„å…ƒç»„enumconst enum å£°æ˜å’Œè°ƒç”¨å‡½æ•° åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å¯¹è±¡ã€‚è¿™æ„å‘³ç€ï¼Œå¯ä»¥å‘å¯¹è±¡é‚£æ ·ä½¿ç”¨å‡½æ•°
å¯ä»¥èµ‹å€¼ç»™å˜é‡ å¯ä»¥ä½œä¸ºå‚æ•°ä¼ ç»™å…¶ä»–å‡½æ•° å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ å¯ä»¥èµ‹å€¼ç»™å¯¹è±¡å’ŒåŸå‹ å¯ä»¥èµ‹äºˆå±æ€§ å¯ä»¥è¯»å–å±æ€§ TypeScript é€šå¸¸ä¼šæ˜¾ç¤ºæ³¨è§£å‡½æ•°çš„å‚æ•°
function add(a: number, b: number) { return a + b } è¿”å›ç±»å‹èƒ½æ¨å¯¼å‡ºæ¥ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥æ˜¾ç¤ºæ³¨è§£
function add(a: number, b: number): number { return a + b } TypeScript ä¸­å£°æ˜å‡½æ•°
// å…·åå‡½æ•° function greet(name: string) { return &#39;hello &#39; + name } // å‡½æ•°è¡¨è¾¾å¼ let greet2 = function(name: string) { retunr &#39;hello &#39; + name } // ç®­å¤´å‡½æ•°è¡¨è¾¾å¼ let greet3 = (name: string) =&gt; { return &#39;hello &#39; + name } // ç®­å¤´å‡½æ•°è¡¨è¾¾å¼ç®€å†™ let greet4 = (name: string) =&gt; &#39;hello &#39; + name // å‡½æ•°æ„é€ æ–¹æ³• let greet5 = new Function(&#39;name&#39;, &#39;return &#34;hello &#34; + name&#39;) é™¤äº†å‡½æ•°æ„é€ æ–¹æ³•ï¼Œå…¶ä»–å‡ ç§å¥æ³•åœ¨ TypeScript ä¸­éƒ½å¯ä»¥æ”¾å¿ƒä½¿ç”¨ï¼Œèƒ½å¤Ÿä¿è¯ç±»å‹å®‰å…¨ã€‚é€šå¸¸éœ€è¦æ³¨è§£å‚æ•°çš„ç±»å‹ï¼Œè€Œè¿”å›ç±»å‹ä¸è¦æ±‚å¿…é¡»æ³¨è§£ã€‚ åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼ŒTypeScript å°†æ£€æŸ¥ä¼ å…¥çš„å®å‚æ˜¯å¦äºå‡½æ•°å½¢å‚ç±»å‹å…¼å®¹ã€‚
å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•° å¯é€‰å‚æ•°å¿…é¡»åœ¨æœ«å°¾
function log(message: string, userId?: string) { let time = new Date().toLocaleTimeString() console.log(time, message, userId || &#39;Not signed in&#39;) } log(&#39;Page loded&#39;) log(&#39;User signed in&#39;, &#39;da763be&#39;) // é»˜è®¤å€¼å‚æ•°ï¼ˆç±»ä¼¼å¯é€‰å‚æ•°åŠŸèƒ½ function log(message: string, userId = &#39;Not signed in&#39;) { // userId ä¼šè‡ªåŠ¨æ¨å¯¼ç±»å‹ let time = new Date().toLocaleTimeString() console.log(time, message, userId) } // æ˜¾å¼æ³¨è§£é»˜è®¤å‚æ•°ç±»å‹ type Context = { appId?: string userId?: string } function log(message: string, context: Context = {}) { let time = new Date().toLocaleTimeString() console.log(time, message, context.userId) } é»˜è®¤å‚æ•°æ›´å¸¸ç”¨ï¼Œé»˜è®¤å‚æ•°å¯ä»¥è‡ªåŠ¨ç±»å‹æ¨å¯¼ã€‚
å¤šæ€ ä¸Šé¢éƒ½æ˜¯è®²çš„å…·ä½“ç±»å‹çš„ç”¨æ³•å’Œç”¨é€”
boolean string Date[] {a: number} | {b: string} (numbers: number[]) =&gt; number ä½¿ç”¨å…·ä½“ç±»å‹çš„å‰ææ˜¯ç±»å‹å·²çŸ¥
å¦‚æœäº‹å…ˆä¸çŸ¥é“éœ€è¦ä»€ä¹ˆç±»å‹ ä¸æƒ³é™åˆ¶å‡½æ•°åªèƒ½æ¥å—æŸä¸ªç±»å‹
// example function filter(array, f) { let result = [] for (let i = 0; i &lt; array.length; i++) { let item = array[i] if (f(item)) { result.push(item) } } return result } filtre([1, 2, 3, 4], (item) =&gt; item &lt; 3) // [1, 2] ä¾‹å­ä¸­ï¼Œæ•°ç»„å…ƒç´ çš„ç±»å‹å¯ä»¥ä¸º numberï¼Œä¸è¿‡ filter å‡½æ•°çš„ä½œç”¨åº”è¯¥æ›´ä¸€èˆ¬ï¼Œå¯ä»¥ç­›é€‰æ•°å­—æ•°ç»„ã€å­—ç¬¦ä¸²æ•°å­—ã€å¯¹è±¡æ•°ç»„ç­‰ã€‚ ä¸‹é¢é€šè¿‡é‡è½½æè¿°ä¸‹å‡½æ•°ç­¾å
type Filter = { (array: number[], f: (item: number) =&gt; boolean): number[] (array: string[], f: (item: string) =&gt; boolean): string[] } // åŠ ä¸Šå¯¹è±¡ç±»å‹ type Filter = { (array: number[], f: (item: number) =&gt; boolean): number[] (array: object[], f: (item: object) =&gt; boolean): object[] } object æ— æ³•æè¿°å¯¹è±¡çš„ç»“æ„ï¼Œè®¿é—®æ•°ç»„ä¸­å…ƒç´ å±æ€§å°±ä¼šæŠ¥é”™ã€‚ ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œå°±æœ‰äº†æ³›å½¢å‚æ•°
æ³›å‹å‚æ•°â€”â€”åœ¨ç±»å‹å±‚é¢æ–½åŠ çº¦æŸçš„å ä½ç±»å‹ï¼Œä¹Ÿç§°å¤šæ€ç±»å‹å‚æ•°ï¼Œç®€ç§°æ³›å½¢
// example type Filter = { &lt;T&gt;(array: T[], f: (item: T): boolean): T[] } è¿™ä¹ˆåšçš„æ„æ€æ˜¯ Filter ä½¿ç”¨äº†ä¸€ä¸ªæ³›å½¢å‚æ•° Tï¼Œäº‹å…ˆä¸çŸ¥é“å…·ä½“ç±»å‹æ˜¯ä»€ä¹ˆï¼Œè°ƒç”¨çš„æ—¶å€™æ ¹æ®ä¼ å…¥çš„å‚æ•°æ¨å¯¼ T çš„ç±»å‹ã€‚
çŸ¥è¯†ç‚¹
æ³›å½¢ä½¿ç”¨å°–æ‹¬å·å£°æ˜ï¼Œå¯ä»¥æŠŠå°–æ‹¬å·ç†è§£ä¸º type å…³é”®å­—ï¼Œåªä¸è¿‡å£°æ˜çš„æ˜¯æ³›å½¢ã€‚ å°–æ‹¬å·ä½ç½®é™åˆ¶æ³›å½¢ä½œç”¨åŸŸå°–æ‹¬å·ä¸­å¯ä»¥å£°æ˜ä»»æ„å¤šä¸ªä»¥é€—å·åˆ†éš” T å°±æ˜¯ä¸€ä¸ªç±»å‹åç§°ï¼ˆç±»ä¼¼å˜é‡åç§°ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„åç§°ï¼Œé€šå¸¸ä¼šä½¿ç”¨ T U V W æ³›å½¢å¯ä»¥ç†è§£ä¸ºä¸€ç§çº¦æŸï¼ŒæŠŠæ³›å½¢ T æ‰€åœ¨ä½ç½®çš„ç±»å‹çº¦æŸä¸º T ç±»å‹ ä»€ä¹ˆæ—¶å€™ç»‘å®šæ³›å‹ å£°æ˜æ³›å½¢çš„ä½ç½®ä¸ä»…é™å®šæ³›å½¢ä½œç”¨åŸŸï¼Œè¿˜å†³å®šä»€ä¹ˆæ—¶å€™ä¸ºæ³›å½¢ç»‘å®šå…·ä½“çš„å€¼
// 1 åœ¨è°ƒç”¨ç­¾åä¸­å£°æ˜ type Filter = { &lt;T&gt;(array: T[], f: (item: T): boolean): T[] } // è°ƒç”¨å‡½æ•°æ—¶ä¸º T ç»‘å®šå…·ä½“ç±»å‹ let filter: Filter = (array, f) =&gt; { // ... } // 2 åœ¨ç±»å‹åˆ«å Filter ä¸­ type Filter&lt;T&gt; = { (array: T[], f: (item: T): boolean): T[] } // ä½¿ç”¨ Filter æ—¶æ˜¾å¼ç»‘å®šå…·ä½“ç±»å‹ let filter: Filter&lt;number&gt; = (array, f) =&gt; { // ... } å¯ä»¥åœ¨ä»€ä¹ˆåœ°æ–¹å£°æ˜æ³›å½¢ // 1 type Filter = { &lt;T&gt;(array: T[], f: (item: T): boolean): T[] } // 2 type Filter&lt;T&gt; = { (array: T[], f: (item: T): boolean): T[] } // 3 1 çš„ç®€å†™ type Filter = &lt;T&gt;(array: T[], f: (item: T): boolean): T[] // 4 2 çš„ç®€å†™ type Filter&lt;T&gt;( = array: T[], f: (item: T): boolean): T[] // 5 å…·åå‡½æ•°è°ƒç”¨ç­¾åï¼Œæ¯æ¬¡è°ƒç”¨ filter æ—¶ç»‘å®šä¸¾è…¿ç±»å‹ function filter&lt;T&gt;(array: T[], f: (item: T) =&gt; boolean): T[] { // ... } æ³›å½¢åˆ«å æ³›å½¢çº¦æŸ `,url:"https://hugo-dead-simple.netlify.com/typescript/typescript_program/"},"https://hugo-dead-simple.netlify.com/typescript/%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F/":{title:"å¯¹è±¡å­—é¢é‡",tags:[],content:`åœ¨ TypeScript ä¸­ï¼Œå¯¹è±¡å­—é¢é‡ï¼ˆObject Literalï¼‰æ˜¯é€šè¿‡èŠ±æ‹¬å· {} æ¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å¯ä»¥ç›´æ¥ä¸ºå…¶æ·»åŠ å±æ€§å’Œå€¼ã€‚è¿™ä¸ JavaScript ä¸­çš„å¯¹è±¡å­—é¢é‡ä½¿ç”¨æ–¹å¼ç±»ä¼¼ï¼Œä½† TypeScript ä¸ºå¯¹è±¡å­—é¢é‡æä¾›äº†ç±»å‹ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡ç±»å‹æ³¨è§£æ¥é™åˆ¶å¯¹è±¡çš„ç»“æ„ã€‚
1. åŸºæœ¬çš„å¯¹è±¡å­—é¢é‡ å¯¹è±¡å­—é¢é‡ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šå…¶å±æ€§å’Œå€¼ï¼š
const person = { name: &#34;Alice&#34;, age: 30 }; è¿™é‡Œ person æ˜¯ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ï¼ŒåŒ…å«äº†ä¸¤ä¸ªå±æ€§ï¼šname å’Œ ageã€‚
2. ä½¿ç”¨ç±»å‹æ³¨è§£æŒ‡å®šå¯¹è±¡å­—é¢é‡çš„ç±»å‹ TypeScript å…è®¸ä½ ä¸ºå¯¹è±¡å­—é¢é‡æŒ‡å®šç±»å‹ï¼Œä»è€Œé™åˆ¶å¯¹è±¡çš„å±æ€§å’Œç±»å‹ã€‚è¿™ä½¿å¾—ä»£ç æ›´åŠ å®‰å…¨ï¼Œèƒ½å¤Ÿé˜²æ­¢é”™è¯¯çš„å±æ€§èµ‹å€¼ã€‚
ç¤ºä¾‹ï¼šä½¿ç”¨ type æˆ– interface å®šä¹‰å¯¹è±¡ç±»å‹ interface Person { name: string; age: number; } const person: Person = { name: &#34;Alice&#34;, age: 30 }; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒPerson æ˜¯ä¸€ä¸ªæ¥å£ï¼ˆinterfaceï¼‰ï¼Œå®ƒå®šä¹‰äº† name å’Œ age å±æ€§çš„ç±»å‹ã€‚ç„¶åæˆ‘ä»¬é€šè¿‡ç±»å‹æ³¨è§£ const person: Person æ¥ç¡®ä¿ person å¯¹è±¡ç¬¦åˆè¿™ä¸ªç±»å‹ã€‚
ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ type æ¥å®šä¹‰ç±»å‹ï¼š
type Person = { name: string; age: number; }; const person: Person = { name: &#34;Alice&#34;, age: 30 }; 3. åœ¨å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨å¯é€‰å±æ€§ åœ¨å¯¹è±¡å­—é¢é‡ä¸­ï¼Œä½ å¯ä»¥å®šä¹‰å¯é€‰å±æ€§ï¼Œé€šè¿‡åœ¨å±æ€§ååæ·»åŠ  ? æ¥å®ç°ã€‚
interface Person { name: string; age: number; address?: string; // å¯é€‰å±æ€§ } const person: Person = { name: &#34;Alice&#34;, age: 30 // address æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥ä¸æä¾› }; åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œaddress å±æ€§æ˜¯å¯é€‰çš„ï¼Œå› æ­¤ä½ å¯ä»¥åœ¨åˆ›å»º person å¯¹è±¡æ—¶ä¸æä¾›è¯¥å±æ€§ã€‚
4. åªè¯»å±æ€§ TypeScript è¿˜å…è®¸ä½ ä¸ºå¯¹è±¡å­—é¢é‡å®šä¹‰åªè¯»å±æ€§ï¼Œè¿™æ„å‘³ç€è¿™äº›å±æ€§çš„å€¼åœ¨åˆå§‹åŒ–åä¸èƒ½è¢«ä¿®æ”¹ã€‚å¯ä»¥ä½¿ç”¨ readonly ä¿®é¥°ç¬¦æ¥å®ç°ã€‚
interface Person { readonly name: string; readonly age: number; } const person: Person = { name: &#34;Alice&#34;, age: 30 }; // person.name = &#34;Bob&#34;; // è¿™æ˜¯ä¸å…è®¸çš„ï¼Œä¼šæŠ¥é”™ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œname å’Œ age æ˜¯åªè¯»çš„ï¼Œå› æ­¤ä½ ä¸èƒ½ä¿®æ”¹å®ƒä»¬çš„å€¼ã€‚
5. å¯¹è±¡å­—é¢é‡ä¸å‡½æ•°ç±»å‹ ä½ è¿˜å¯ä»¥å°†æ–¹æ³•ä½œä¸ºå¯¹è±¡å­—é¢é‡çš„ä¸€éƒ¨åˆ†æ¥ä½¿ç”¨ã€‚å‡½æ•°ç±»å‹å¯ä»¥åœ¨å¯¹è±¡å­—é¢é‡ä¸­ç›´æ¥å®šä¹‰ã€‚
interface Person { name: string; greet: () =&gt; void; // greet æ˜¯ä¸€ä¸ªå‡½æ•° } const person: Person = { name: &#34;Alice&#34;, greet: () =&gt; { console.log(\`Hello, my name is \${person.name}\`); } }; person.greet(); // è¾“å‡ºï¼šHello, my name is Alice 6. ä½¿ç”¨ç´¢å¼•ç­¾å ç´¢å¼•ç­¾åå…è®¸å¯¹è±¡å­—é¢é‡å…·æœ‰ä»»æ„æ•°é‡çš„å±æ€§ï¼Œå¹¶ä¸”è¿™äº›å±æ€§çš„ç±»å‹æ˜¯é¢„å®šä¹‰çš„ã€‚é€šè¿‡ index signatureï¼Œä½ å¯ä»¥æŒ‡å®šå¯¹è±¡å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„é”®ï¼Œå¹¶é™åˆ¶é”®å€¼çš„ç±»å‹ã€‚
interface Dictionary { [key: string]: number; // é”®æ˜¯ string ç±»å‹ï¼Œå€¼æ˜¯ number ç±»å‹ } const myDictionary: Dictionary = { apple: 10, banana: 20 }; console.log(myDictionary.apple); // è¾“å‡ºï¼š10 åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒDictionary æ¥å£å®šä¹‰äº†ä¸€ä¸ªç´¢å¼•ç­¾åï¼Œå…è®¸ä»»ä½•å­—ç¬¦ä¸²é”®ï¼Œä¸”è¿™äº›é”®å¯¹åº”çš„å€¼éƒ½å¿…é¡»æ˜¯ number ç±»å‹ã€‚
7. ä½¿ç”¨ç±»å‹æ¨æ–­ TypeScript ä¼šè‡ªåŠ¨æ¨æ–­å­—é¢é‡å¯¹è±¡çš„ç±»å‹ã€‚å¦‚æœä½ æ²¡æœ‰æ˜¾å¼åœ°ä¸ºå¯¹è±¡æŒ‡å®šç±»å‹ï¼ŒTypeScript ä¼šæ ¹æ®å¯¹è±¡çš„ç»“æ„è‡ªåŠ¨æ¨æ–­ç±»å‹ã€‚
const person = { name: &#34;Alice&#34;, age: 30 }; // TypeScript æ¨æ–­ person çš„ç±»å‹ä¸º { name: string; age: number; } person.name = &#34;Bob&#34;; // å…è®¸ä¿®æ”¹ // person.name = 100; // é”™è¯¯ï¼Œå› ä¸º name åº”è¯¥æ˜¯ string ç±»å‹ 8. ç¦æ­¢é¢å¤–çš„å±æ€§ æœ‰æ—¶ï¼Œä½ å¸Œæœ›å¯¹è±¡å­—é¢é‡åªèƒ½åŒ…å«æŸäº›ç‰¹å®šçš„å±æ€§ï¼Œç¦æ­¢æ·»åŠ ä»»ä½•é¢å¤–çš„å±æ€§ã€‚å¯ä»¥ä½¿ç”¨ exact ç±»å‹æ¥å®ç°è¿™ä¸€ç‚¹ï¼ˆé€šè¿‡ as const æ¥ç¡®ä¿å­—é¢é‡ç±»å‹çš„ç²¾ç¡®æ€§ï¼‰ã€‚
const person = { name: &#34;Alice&#34;, age: 30 } as const; // ä½¿ç”¨ &#39;as const&#39; æ¥ç¡®ä¿å±æ€§æ˜¯åªè¯»çš„å¹¶ä¸”ç²¾ç¡®åŒ¹é… // person.name = &#34;Bob&#34;; // é”™è¯¯ï¼Œå› ä¸º &#39;name&#39; æ˜¯åªè¯»çš„ï¼Œä¸èƒ½ä¿®æ”¹ // person.address = &#34;NY&#34;; // é”™è¯¯ï¼Œå› ä¸º \`address\` å±æ€§å¹¶ä¸åœ¨å¯¹è±¡å­—é¢é‡ä¸­ æ€»ç»“ å¯¹è±¡å­—é¢é‡ æ˜¯é€šè¿‡ {} åˆ›å»ºçš„æ™®é€š JavaScript å¯¹è±¡ï¼Œåœ¨ TypeScript ä¸­å¯ä»¥é€šè¿‡ç±»å‹æ³¨è§£æ¥æŒ‡å®šå…¶ç»“æ„ã€‚ ä½ å¯ä»¥ä½¿ç”¨ interface æˆ– type æ¥å®šä¹‰å¯¹è±¡çš„ç»“æ„ï¼Œç¡®ä¿å¯¹è±¡ç¬¦åˆæŸç§é¢„æœŸçš„å½¢çŠ¶ã€‚ TypeScript è¿˜æ”¯æŒå¯é€‰å±æ€§ã€åªè¯»å±æ€§ã€ç´¢å¼•ç­¾åã€æ–¹æ³•ç­‰åŠŸèƒ½ã€‚ TypeScript ä¼šè‡ªåŠ¨æ¨æ–­å¯¹è±¡å­—é¢é‡çš„ç±»å‹ï¼Œå¦‚æœä½ ä¸æä¾›ç±»å‹æ³¨è§£ã€‚ é€šè¿‡è¿™äº›æ–¹å¼ï¼Œä½ å¯ä»¥åœ¨ TypeScript ä¸­åˆ›å»ºçµæ´»ã€ç±»å‹å®‰å…¨çš„å¯¹è±¡å­—é¢é‡ã€‚
`,url:"https://hugo-dead-simple.netlify.com/typescript/%E5%AF%B9%E8%B1%A1%E5%AD%97%E9%9D%A2%E9%87%8F/"},"https://hugo-dead-simple.netlify.com/typescript/%E7%90%86%E8%A7%A3%E7%B1%BB%E5%A3%B0%E6%98%8E%E5%80%BC%E4%B8%8E%E7%B1%BB%E5%9E%8B/":{title:"ç†è§£ç±»å£°æ˜å€¼ä¸ç±»å‹",tags:[],content:`è¿™æ®µä»£ç æ¶‰åŠåˆ°äº† TypeScript ä¸­ç±»çš„æ„é€ å‡½æ•°ã€å®ä¾‹å¯¹è±¡ã€ç±»å‹ç­‰æ¦‚å¿µã€‚è®©æˆ‘ä»¬é€æ­¥è§£ææ¯ä¸ªéƒ¨åˆ†ï¼Œç‰¹åˆ«æ˜¯ console.log(C.a) æŠ¥é”™çš„åŸå› ã€‚
ä»£ç è§£æ class C { a = &#34;123&#34;; // ç±»å®ä¾‹å±æ€§ } let c: C = new C(); // åˆ›å»º C ç±»çš„ä¸€ä¸ªå®ä¾‹ console.log(c); // è¾“å‡º: C { a: &#39;123&#39; } console.log(C); // è¾“å‡º: [Function: C]ï¼ŒC æ˜¯æ„é€ å‡½æ•° // console.log(C.a); // æŠ¥é”™ï¼šProperty &#39;a&#39; does not exist on type &#39;C&#39;. console.log(c.a); // è¾“å‡º: 123 console.log(c instanceof C); // è¾“å‡º: true 1. console.log(C) è¾“å‡ºçš„æ˜¯æ„é€ å‡½æ•° console.log(C); // è¾“å‡º: [Function: C] C æ˜¯ä¸€ä¸ªç±»ï¼Œç±»çš„æœ¬è´¨åœ¨ JavaScript ä¸­æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚C æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åˆ›å»º C ç±»çš„å®ä¾‹ã€‚ å½“ä½ æ‰“å° C æ—¶ï¼Œè¾“å‡ºçš„æ˜¯ç±»çš„æ„é€ å‡½æ•°ã€‚æ¢å¥è¯è¯´ï¼ŒC æ˜¯ä¸€ä¸ª æ„é€ å‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡å®ä¾‹æˆ–ç±»çš„ å®ä¾‹ç±»å‹ã€‚ 2. console.log(C.a) æŠ¥é”™çš„åŸå›  // console.log(C.a); // æŠ¥é”™ï¼šProperty &#39;a&#39; does not exist on type &#39;C&#39;. åœ¨ç±»å®šä¹‰ class C { a = &quot;123&quot;; } ä¸­ï¼Œa æ˜¯ä¸€ä¸ª å®ä¾‹å±æ€§ï¼Œè€Œä¸æ˜¯ ç±»å±æ€§ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œa å±äºç±»çš„å®ä¾‹ï¼ˆä¾‹å¦‚é€šè¿‡ new C() åˆ›å»ºçš„ c å®ä¾‹ï¼‰ï¼Œå¹¶ä¸”åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ã€‚ å› æ­¤ï¼ŒC ä½œä¸ºæ„é€ å‡½æ•°å¹¶ä¸ç›´æ¥åŒ…å« a å±æ€§ï¼Œa åªèƒ½é€šè¿‡ç±»çš„ å®ä¾‹å¯¹è±¡ è®¿é—®ã€‚ console.log(C.a) ä¼šå¯¼è‡´æŠ¥é”™ï¼Œå› ä¸º a å¹¶ä¸æ˜¯ C è¿™ä¸ªç±»æœ¬èº«çš„å±æ€§ï¼Œè€Œæ˜¯å®ä¾‹çš„å±æ€§ã€‚ 3. console.log(c.a) æ­£å¸¸è¾“å‡º 123 console.log(c.a); // è¾“å‡º: 123 c æ˜¯ C ç±»çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œc.a æ˜¯è®¿é—® C ç±»å®ä¾‹ä¸Šçš„å±æ€§ aã€‚ ç”±äº a æ˜¯å®ä¾‹å±æ€§ï¼Œæ‰€ä»¥ä½ å¯ä»¥é€šè¿‡ c.a æ­£å¸¸è®¿é—®åˆ°å€¼ &quot;123&quot;ã€‚ 4. console.log(c instanceof C) è¾“å‡º true console.log(c instanceof C); // è¾“å‡º: true instanceof è¿ç®—ç¬¦ç”¨äºæ£€æŸ¥å¯¹è±¡æ˜¯å¦æ˜¯æŸä¸ªç±»çš„å®ä¾‹ã€‚ c instanceof C è¿”å› trueï¼Œè¯´æ˜ c ç¡®å®æ˜¯ C ç±»çš„å®ä¾‹ã€‚instanceof ä¼šæ£€æŸ¥ c æ˜¯å¦æ˜¯é€šè¿‡ C æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡ï¼Œæˆ–è€…æ˜¯å¦ä½äº C çš„åŸå‹é“¾ä¸Šã€‚ æ€»ç»“ C æ˜¯æ„é€ å‡½æ•°ï¼šç±» C åœ¨ TypeScript å’Œ JavaScript ä¸­æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚é€šè¿‡ new C() åˆ›å»ºçš„å¯¹è±¡æ‰æ˜¯ C ç±»çš„å®ä¾‹ã€‚ å®ä¾‹å±æ€§ vs. ç±»å±æ€§ï¼ša æ˜¯ç±»çš„å®ä¾‹å±æ€§ï¼Œå› æ­¤åªèƒ½é€šè¿‡ç±»çš„å®ä¾‹æ¥è®¿é—®ï¼›è€Œ C æ˜¯ç±»æœ¬èº«çš„æ„é€ å‡½æ•°ï¼Œä¸åŒ…å«å®ä¾‹å±æ€§ aã€‚ instanceof è¿ç®—ç¬¦ï¼šc instanceof C æ£€æŸ¥å¯¹è±¡ c æ˜¯å¦æ˜¯ C ç±»çš„å®ä¾‹ï¼Œè¿”å› true è¡¨ç¤º c æ˜¯é€šè¿‡ C æ„é€ å‡½æ•°åˆ›å»ºçš„ã€‚ æ‰€ä»¥ï¼Œé”™è¯¯çš„æ ¹æºæ˜¯å°† C ç±»æœ¬èº«è¯¯è®¤ä¸ºæ˜¯å®ä¾‹å¯¹è±¡ï¼Œè¯•å›¾ç›´æ¥è®¿é—® aã€‚è€Œå®é™… a æ˜¯ C ç±»å®ä¾‹çš„å±æ€§ï¼Œå¿…é¡»é€šè¿‡å®ä¾‹å¯¹è±¡ï¼ˆå¦‚ c.aï¼‰æ¥è®¿é—®ã€‚
`,url:"https://hugo-dead-simple.netlify.com/typescript/%E7%90%86%E8%A7%A3%E7%B1%BB%E5%A3%B0%E6%98%8E%E5%80%BC%E4%B8%8E%E7%B1%BB%E5%9E%8B/"},"https://hugo-dead-simple.netlify.com/typescript/src/decorator/":{title:"è£…é¥°å™¨",tags:[],content:`è£…é¥°å™¨ï¼ˆDecoratorï¼‰æ˜¯ä¸€ç§è¯­æ³•ç»“æ„ï¼Œç”¨æ¥åœ¨å®šä¹‰æ—¶ä¿®æ”¹ç±»ï¼ˆclassï¼‰çš„è¡Œä¸ºã€‚
æˆ‘çš„ç»“æ„
è£…é¥°å™¨æ˜¯ä¸€ä¸ªå‡½æ•°,æœ¬è´¨æ˜¯å¯¹ç±»è¿›è¡Œä¿®æ”¹(Decorator),ç„¶åå¾—åˆ°ä¸€ä¸ªæ–°çš„ç±»,ä½¿è¿™ä¸ªç±»,æœ‰æ–°çš„åŠŸèƒ½.
index
è¦ä½¿ç”¨è¿™ä¸ªä»£ç ,éœ€è¦é…ç½®tsconfig.json
&#34;experimentalDecorators&#34;: true, /* Enable experimental support for legacy experimental decorators. */ `,url:"https://hugo-dead-simple.netlify.com/typescript/src/decorator/"},"https://hugo-dead-simple.netlify.com/":{title:"é¦–é¡µ",tags:[],content:` è¿™é‡Œæ˜¯rainboyå†™çš„æ–‡ç« ,æ‰€åœ¨çš„GitHubä»“åº“
`,url:"https://hugo-dead-simple.netlify.com/"},"https://hugo-dead-simple.netlify.com/blog/":{title:"Blogs",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/blog/"},"https://hugo-dead-simple.netlify.com/blog/newnew/":{title:"Newnew",tags:[],content:`test git action webhook
`,url:"https://hugo-dead-simple.netlify.com/blog/newnew/"},"https://hugo-dead-simple.netlify.com/blog/hugo%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83/":{title:"Hugoè‡ªåŠ¨å‘å¸ƒ",tags:[],content:`è‡ªåŠ¨deploy blog åˆ°github å‚è€ƒ
https://letere-gzj.github.io/hugo-stack/p/hugo/custom-blog/#3-github%E9%83%A8%E7%BD%B2 å¯¹åº”çš„è§†é¢‘æ•™ç¨‹: https://www.bilibili.com/video/BV1bovfeaEtQ å¦ä¸€ä¸ª å¯ä»¥ å‘å¸ƒblogåˆ°vpsæœåŠ¡å™¨ ä¸‹é¢æ˜¯æ–°å¦å¤–ä¸€ä¸ªblog
æœ¬æ–‡ç”± ç®€æ‚¦ SimpRead è½¬ç ï¼Œ åŸæ–‡åœ°å€ blog.wjhwjhn.com
èƒŒæ™¯ æˆ‘ä¸€ç›´è®¡åˆ’è¿ç§»æˆ‘çš„åšå®¢ï¼Œä¸€æ–¹é¢æ˜¯è®¤ä¸ºä¹‹å‰ä¸»é¢˜çš„ä»£ç å±•ç¤ºèƒ½åŠ›ä¸å¼ºï¼Œæ–‡ç« çš„ä¿¡æ¯å¯†åº¦ä½ï¼Œä¸é€‚å®œäºæŠ€æœ¯å†…å®¹çš„å±•ç¤ºï¼›å¦ä¸€æ–¹é¢ï¼Œæˆ‘æ›¾è®¤ä¸ºæä¸ºå®‰å…¨çš„ Typechoï¼Œåœ¨ 2023 å¹´ 6 æœˆçˆ†å‡ºäº† XSS æ¼æ´ï¼Œè¿™åŠ å‰§äº†æˆ‘è¿ç§»çš„ç´§è¿«æ€§ã€‚
æ³¨æ„
æœ¬æ–‡æœ€åæ›´æ–°äº 2024-02-13ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²è¿‡æ—¶ã€‚
èƒŒæ™¯ æˆ‘ä¸€ç›´è®¡åˆ’è¿ç§»æˆ‘çš„åšå®¢ï¼Œä¸€æ–¹é¢æ˜¯è®¤ä¸ºä¹‹å‰ä¸»é¢˜çš„ä»£ç å±•ç¤ºèƒ½åŠ›ä¸å¼ºï¼Œæ–‡ç« çš„ä¿¡æ¯å¯†åº¦ä½ï¼Œä¸é€‚å®œäºæŠ€æœ¯å†…å®¹çš„å±•ç¤ºï¼›å¦ä¸€æ–¹é¢ï¼Œæˆ‘æ›¾è®¤ä¸ºæä¸ºå®‰å…¨çš„ Typechoï¼Œåœ¨ 2023 å¹´ 6 æœˆçˆ†å‡ºäº† XSS æ¼æ´ï¼Œè¿™åŠ å‰§äº†æˆ‘è¿ç§»çš„ç´§è¿«æ€§ã€‚é‰´äºæ­¤ï¼Œæˆ‘æ—©å°±è½¬å‘ä¸€æ¬¾æ—¢ç¾è§‚åˆå®ç”¨çš„é™æ€åšå®¢å¹³å°â€”â€”æˆ‘é€‰æ‹©äº† Hugoï¼Œå¹¶é€‰ç”¨äº† FixIt ä¸»é¢˜ã€‚æ°é€¢è¿‡å¹´ï¼Œæˆ‘æ‹¥æœ‰äº†è®¸å¤šç¢ç‰‡åŒ–çš„æ—¶é—´ï¼Œè¿™æˆä¸ºäº†æˆ‘è¿ç§»åšå®¢çš„ç»ä½³æ—¶æœºã€‚
é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ åœ¨è¿ç§»åšå®¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°äº†ä¸€ç³»åˆ—é—®é¢˜ã€‚ä¸ºäº†å¸®åŠ©åŒæ ·é¢å¯¹è¿™äº›æŒ‘æˆ˜çš„è¯»è€…ï¼Œæˆ‘åœ¨ä¸‹é¢è¯¦ç»†è®°å½•äº†æˆ‘æ‰€é¢ä¸´çš„é—®é¢˜ä»¥åŠæˆ‘é‡‡å–çš„è§£å†³æªæ–½ï¼Œå¸Œæœ›è¿™äº›ç»éªŒèƒ½ä¸ºæ‚¨æä¾›å®é™…çš„å¸®åŠ©å’ŒæŒ‡å¼•ã€‚
è­¦å‘Š
åœ¨è¿ç§»ä¹‹å‰ï¼Œè¯·åŠ¡å¿…å¤‡ä»½åŸæœ‰åšå®¢çš„æ–‡ä»¶å’Œæ•°æ®åº“æ•°æ®ï¼Œä»¥é˜²æ„å¤–å‘ç”Ÿã€‚
æ–‡ç« è¿ç§» æ–‡ç« å†…å®¹ï¼šæ–‡ç« å†…å®¹å‚¨å­˜åœ¨ typecho_contents è¡¨çš„ text å­—æ®µä¸­ï¼Œæå–æ¯”è¾ƒå®¹æ˜“ï¼Œåªéœ€è¦å»é™¤ &lt;!--markdown--&gt; æ ‡è®°å³å¯ï¼ŒåŸå…ˆç¼–å†™æ–‡ç« æ—¶å°±ä½¿ç”¨çš„æ˜¯ markdownï¼Œæ‰€ä»¥ç›´æ¥åˆ›å»ºæ–‡ä»¶å³å¯ï¼Œä¸è¿‡åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿé‡åˆ°äº†ä¸å°‘é—®é¢˜ åœ¨æˆ‘åˆšå»ºç«‹è¿™ä¸ªåšå®¢æ—¶ï¼Œå› ä¸ºå¯¹ markdown è¯­æ³•çš„ä¸ç†Ÿæ‚‰ï¼Œå¯¼è‡´ä»¥å‰çš„å¾ˆå¤šæ–‡ç« ä½¿ç”¨äº† markdown çš„æ–¹è¨€ã€‚è¿™äº›æ–‡ç« ï¼Œåœ¨ Typecho ä¸­æ˜¾ç¤ºæ­£å¸¸ï¼Œä½†æ˜¯åœ¨ Hugo ä¸­å°±å‡ºç°äº†æ’ç‰ˆé”™è¯¯ï¼Œå¥½åœ¨æœ‰é—®é¢˜çš„æ–‡ç« ä¸æ˜¯å¾ˆå¤šï¼Œè¿™é‡Œæ‰‹åŠ¨ç¼–è¾‘äº†ä¸€ä¸‹ï¼› åœ¨ Hugo ä¸­ï¼Œæ–‡ç« çš„å…ƒä¿¡æ¯ï¼ˆæ–‡ç« åˆ›å»ºæ—¶é—´ã€æ–‡ç« ç±»åˆ«ã€æ–‡ç« æ ‡é¢˜ç­‰â€¦ï¼‰éƒ½å†…åµŒæ–‡ç« å¼€å¤´çš„ yaml å…ƒä¿¡æ¯ä¸­ï¼Œè¿™äº›ä¿¡æ¯éœ€è¦ä» Typecho çš„æ•°æ®åº“ä¸­æå–å¹¶ç”Ÿæˆï¼Œä¾‹å¦‚ typecho_contents è¡¨çš„ created ã€modified ã€title å­—æ®µï¼› åŸå…ˆçš„ Typecho çš„ typecho_contents è¡¨çš„ status å­—æ®µï¼Œå¦‚æœæ˜¯é public çš„æ–‡ç« ï¼Œåˆ™è®¾ç½® hiddenFromHomePage: trueã€hiddenFromSearch: trueã€hiddenFromRss: trueã€hiddenFromRelated: true ä»¥åŠ password: {password} å¯†ç å­—æ®µï¼Œç”±ä¸»é¢˜è¿›è¡ŒåŠ å¯†å¤„ç†ã€‚ åŸåšå®¢é“¾æ¥è·³è½¬ é—®é¢˜ï¼šåŸåšå®¢çš„é“¾æ¥æ˜¯ä½¿ç”¨ /archives/{cid}/ è¿™ç§å½¢å¼çš„ï¼Œè€Œæ–°åšå®¢çš„é“¾æ¥æ˜¯ä½¿ç”¨ /posts/{name} è¿™ç§å½¢å¼çš„ï¼› è§£å†³æ–¹æ¡ˆï¼šåˆ©ç”¨æ–‡ç« å…ƒä¿¡æ¯ä¸­çš„ aliases å­—æ®µæ¥ç”Ÿæˆä¸€ä¸ªé¢å¤–çš„åˆ«åé“¾æ¥ã€‚ è¯„è®ºå’Œé˜…è¯»é‡è¿ç§» ä½¿ç”¨äº† Twikoo çš„è¯„è®ºç³»ç»Ÿï¼Œå¹¶è§£å†³äº†é“¾æ¥è½¬æ¢é—®é¢˜
Twikoo çš„è¯„è®ºç³»ç»Ÿè¿è¡Œåœ¨ docker è®¾å¤‡ä¸­ï¼Œå¹¶ä¸”æ˜ å°„åˆ° 8099 ç«¯å£ã€‚ä¸ºäº†å®‰å…¨æ€§ï¼Œæˆ‘ä½¿ç”¨ ufw å°†æ­¤ç«¯å£è®¾ç½®ä¸º denyï¼Œä½†å‘ç°æ— æ•ˆï¼Œåœ¨ xianyu çš„å¸®åŠ©ä¸‹ (Orz)ï¼Œä½¿ç”¨äº† ufw-dockerï¼Œå¹¶æˆåŠŸè§£å†³ï¼› å› ä¸º Twikoo åŸç”Ÿåªæ”¯æŒä½¿ç”¨ httpï¼Œè€Œæˆ‘çš„åšå®¢ä½¿ç”¨çš„æ˜¯ httpsï¼Œå¯¼è‡´ twikoo è¢« blockã€‚è¿™é‡Œä½¿ç”¨äº†åå‘ä»£ç†æ¥è§£å†³ï¼Œè®¾ç½®äº† https://blog.wjhwjhn.com/twikoo ä»£ç†åˆ° http://localhost:8099 ï¼› é˜…è¯»é‡æ˜¯æˆ‘åœ¨æ•°æ®åº“ä¸­æ–°å¢çš„ viewsNum å­—æ®µï¼Œæˆ‘è¿›è¡Œäº†å¯¼å‡ºç”Ÿæˆï¼Œå¹¶è½¬åŒ–ä¸º Twikoo çš„æ•°æ®æ ¼å¼ï¼› åœ¨è¯„è®ºå’Œé˜…è¯»é‡ä¸­éœ€è¦æä¾›æ–‡ç« çš„åœ°å€å’Œæ ‡é¢˜ï¼Œè€Œåœ¨æ•°æ®åº“ä¸­çš„éƒ½æ˜¯å…ˆå‰çš„åœ°å€å’Œæ ‡é¢˜ã€‚è¿™é‡Œç¼–å†™äº† Python è„šæœ¬ï¼Œé€»è¾‘å¦‚ä¸‹ åœ¨æ–°ç‰ˆåšå®¢ä¸­ï¼Œå»è®¿é—®åŸæ¥çš„è·¯å¾„ä¸‹è®¿é—® html æ–‡ä»¶ï¼ˆé€šè¿‡ aliases å­—æ®µç”Ÿæˆçš„è·³è½¬æ–‡ä»¶ï¼‰ï¼Œå¹¶ä½¿ç”¨æ­£åˆ™ï¼ˆmeta http-equiv=&quot;refresh&quot; content=&quot;0; url=http://[^/]+(/[^&quot;]+)&quot;ï¼‰å–å‡ºæ›´æ–°åçš„åœ°å€ã€‚ å‰å¾€æ–°ç‰ˆåšå®¢çš„åœ°å€ä¸‹ä½¿ç”¨æ­£åˆ™ï¼ˆ&lt;title&gt;([^&lt;]+)&lt;/title&gt;ï¼‰å–å‡ºæ ‡é¢˜ã€‚ å›¾ç‰‡é“¾æ¥ä¿®å¤ è®© ChatGPT ç¼–å†™æ­£åˆ™ï¼Œæå–å‡ºå›¾ç‰‡é“¾æ¥ï¼Œä»åŸæ¥çš„å›¾ç‰‡é“¾æ¥ä¸­ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¹¶æ›¿æ¢åŸæœ‰é“¾æ¥
å‘ç°ä»¥å‰æœ‰éƒ¨åˆ†æ—§æ–‡ç« çš„å›¾ç‰‡ä½¿ç”¨çš„æ˜¯ httpï¼Œå¯¼è‡´å›¾ç‰‡æ— æ³•è®¿é—®ï¼Œç¼–å†™äº† SQL è¯­å¥è¿›è¡Œäº†æ›¿æ¢ UPDATE typecho_contents SET text = REPLACE(text, 'http://blog.wjhwjhn', 'https://blog.wjhwjhn');ã€‚ å‘ç°ä»¥å‰æœ‰éƒ¨åˆ†å›¾ç‰‡æ— æ³•è®¿é—®åˆ°ï¼šä¹‹å‰æœ‰è¿‡ä¸€æ®µæ—¶é—´çš„åšå®¢æ–‡ç« ç¼–å†™æ˜¯åœ¨çŸ³å¢¨ä¸Šçš„ï¼Œè€ŒçŸ³å¢¨çš„å¯¼å‡º markdown åŠŸèƒ½ä¹Ÿç»è¿‡ä¸¤æ¬¡çš„è½¬å˜ æˆ‘æœ€æ—©æ¥è§¦çš„æ—¶å€™ï¼ŒçŸ³å¢¨çš„å¯¼å‡ºåŠŸèƒ½æ˜¯å¯ä»¥ç›´æ¥å¯¼å‡ºæ–‡ç« å†…çš„å›¾ç‰‡çš„ï¼Œå¹¶ä¸”ä½¿ç”¨äº†çŸ³å¢¨çš„å›¾ç‰‡å‚¨å­˜æœåŠ¡é“¾æ¥ï¼› ä¼°è®¡åæ¥çŸ³å¢¨å‘ç°ç›—é“¾çš„äººè¿‡å¤šï¼Œäºæ˜¯å¯¹è®¿é—®æ¥æºåšäº†æ£€æµ‹ï¼Œå¯¼è‡´äº†æˆ‘å½“æ—¶æœ‰å¤§é‡çš„åšå®¢å›¾ç‰‡æ— æ³•è®¿é—®ã€‚æˆ‘ç¼–å†™äº†ä¸€ä¸ªæ’ä»¶ï¼Œåœ¨å¯¼å…¥æ—¶å¯¹æ–‡ç« å†…å¤–é“¾å›¾ç‰‡è¿›è¡Œæ£€æµ‹ï¼Œå¦‚æœå­˜åœ¨å¤–é“¾å›¾ç‰‡ï¼Œåˆ™ä¸‹è½½åˆ°æœ¬åœ°å¹¶æ›¿æ¢é“¾æ¥ï¼Œå…·ä½“å†…å®¹æŸ¥çœ‹ åšå®¢å¤–é“¾å›¾ç‰‡å·²æ¢å¤ è¿™ç¯‡æ–‡ç« ï¼› å†åé¢æ–‡ç« å†…å›¾ç‰‡ä½¿ç”¨ base64 è¿›è¡Œç¼–ç åµŒå…¥åœ¨ markdown æ–‡ä»¶ä¸­ï¼Œä½†å¦‚æœå›¾ç‰‡è¿‡å¤§ï¼Œmarkdown æ–‡ä»¶è¿‡å¤§ï¼Œç”šè‡³æ— æ³•åœ¨ Typecho ä¸­å‚¨å­˜ã€‚å› æ­¤æˆ‘ä¹Ÿå°±ä¸ç”¨çŸ³å¢¨å†™æ–‡ç« äº†ï¼Œé€šå¸¸ä¼šåœ¨æœ¬åœ° (ä½¿ç”¨æœ¬åœ°å›¾åºŠ) å†™å¥½æ–‡ç« ï¼Œç„¶åé€šè¿‡æ’ä»¶è‡ªåŠ¨ä¸‹è½½å›¾åºŠå›¾ç‰‡å¹¶ä¿®æ­£åˆ°æœ¬åœ°é“¾æ¥ï¼› æ’ä»¶çš„é²æ£’æ€§ä¸ä½³ï¼Œå­˜åœ¨ä¸‹è½½å¤±è´¥çš„æƒ…å†µï¼Œä¸è¿‡å¥½åœ¨ä¸‹è½½å¤±è´¥çš„æƒ…å†µä¸å¤šï¼Œæˆ‘æ‰‹åŠ¨è¡¥äº†å‡ å¼ å›¾ç‰‡å°±è§£å†³äº†ã€‚ markdown å†…å›¾ç‰‡é“¾æ¥æå–ï¼Œä¸€èˆ¬åˆ†ä¸ºä¸¤ç§å½¢å¼ï¼Œéƒ½æ˜¯ä½¿ç”¨æ­£åˆ™æ¥åŒ¹é… ç›´æ¥åµŒå…¥çš„å›¾ç‰‡![{text}]({url})ï¼ŒåŒ¹é…æ­£åˆ™ï¼š!\\[.*?\\]\\((.*?)\\)ï¼› åœ¨æ–‡ç« åº•éƒ¨ä½¿ç”¨ [{id}]:{url} å®šä¹‰äº†ä¸€ä¸ªè„šæ³¨æˆ–å¼•ç”¨é“¾æ¥ï¼Œåœ¨ä½¿ç”¨æ—¶ä½¿ç”¨ ![{text}][{id}] æ¥å¼•ç”¨ï¼ŒåŒ¹é…æ­£åˆ™ï¼š\\[\\d+\\]:\\s*(.*?)\\s*(?=&quot;#|$)ã€‚ GitHub Action è­¦å‘Š
ä¸ºç¡®ä¿ä¸æ‚¨çš„æœåŠ¡å™¨é…ç½®ã€ä»“åº“è·¯å¾„å’Œç‰¹å®šéœ€æ±‚ç›¸åŒ¹é…ï¼Œè¯·é€‚å½“ä¿®æ”¹ä»¥ä¸‹ä»£ç æ®µã€‚é¿å…ç›´æ¥å¤åˆ¶ç²˜è´´ï¼Œä»¥é¢„é˜²æ½œåœ¨çš„å…¼å®¹æ€§é—®é¢˜æˆ–é…ç½®é”™è¯¯ã€‚
åœ¨è¿‡å»çš„åšå®¢ä¸­ï¼Œå‘å¸ƒæ–‡ç« ä»…éœ€åœ¨åå°ç¼–è¾‘åç›´æ¥å‘é€ï¼Œä¾¿å¯ç«‹å³åœ¨é¡µé¢ä¸Šçœ‹åˆ°æ•ˆæœã€‚ç„¶è€Œï¼Œè‡ªä»è½¬æ¢åˆ°é™æ€åšå®¢å¹³å°åï¼ŒåŸæœ¬ç®€æ´çš„å‘å¸ƒæµç¨‹å˜å¾—å¤æ‚ã€‚ç»è¿‡å‚è€ƒä¼—å¤šæ–‡ç« ä¸èµ„æ–™ï¼Œæˆ‘ç›®å‰é‡‡ç”¨äº† GitHub Action æ¥ç®€åŒ–è¿™ä¸€æµç¨‹ã€‚
æ–°å¢æ–‡ç« æµç¨‹ åœ¨æœ¬åœ°æ“ä½œ Hugo æ–°å¢æ–‡ç« ï¼Œå¹¶ä½¿ç”¨ git è¿›è¡Œç®¡ç†ï¼Œå¹¶ push åˆ° GitHub ä¸Šï¼› GitHub Action æ£€æµ‹åˆ° push å¹¶è‡ªåŠ¨æ‰§è¡Œç¼–è¯‘ï¼Œç¼–è¯‘åçš„é¡µé¢ç»“æœå­˜æ”¾åœ¨ gh-pages åˆ†æ”¯ä¸­ï¼› ç¼–è¯‘å®Œæ¯•åï¼ŒGitHub Action ä½¿ç”¨ Webhook é€šçŸ¥åšå®¢æœåŠ¡å™¨æ¥ GitHub ä¸Šæ‹‰å– gh-pages çš„åšå®¢æ•°æ®ã€‚ å› ä¸ºæˆ‘çš„ GitHub ä»“åº“æ˜¯ç§æœ‰çš„ï¼Œæ‰€ä»¥è¿˜éœ€è¦æŠŠåšå®¢æœåŠ¡å™¨çš„ SSH keys æ·»åŠ åˆ° GitHubï¼Œæ‰èƒ½å¤Ÿæ‹‰å–ç§æœ‰ä»“åº“ã€‚
GitHub Action ä»£ç æµç¨‹ é…ç½®è§£è¯»
å½“ master åˆ†æ”¯è¢« push æ—¶è‡ªåŠ¨æ‰§è¡Œï¼› è¿è¡Œåœ¨ Ubuntu-22.04 çš„ç¯å¢ƒä¸Šï¼› ä½¿ç”¨ Hugo æœ€æ–°æ‰©å±•ç‰ˆå¯¹åšå®¢æºæ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼› å°†ç¼–è¯‘åçš„ public æ–‡ä»¶å¤¹éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯ä¸Šï¼› é€šè¿‡ Webhook æ¥é€šçŸ¥åšå®¢æœåŠ¡å™¨æ¥åŒæ­¥æœ€æ–°çš„é™æ€é¡µé¢æ•°æ®ã€‚ name: GitHub Pages on: push: branches: - master # Set a branch to deploy pull_request: jobs: deploy: runs-on: ubuntu-22.04 concurrency: group: \${{ github.workflow }}-\${{ github.ref }} steps: - uses: actions/checkout@v4 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: &#39;latest&#39; extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 if: github.ref == &#39;refs/heads/master&#39; with: github_token: \${{ secrets.GH_TOKEN }} publish_dir: ./public - name: Update Blog Server uses: distributhor/workflow-webhook@v1 env: webhook_url: \${{ secrets.WEBHOOK_URL }} webhook_secret: \${{ secrets.WEBHOOK_SECRET }} å®é™…æ•ˆæœå±•ç¤º
Webhook æ‰§è¡Œè„šæœ¬ #!/bin/bash # Start of the script echo &#34;$(date &#34;+%Y-%m-%d %H:%M:%S&#34;) Run&#34; # Define variables gitPath=&#34;/www/wwwroot/newblog&#34; gitSSH=&#34;git@github.com:wjhwjhn/blog.git&#34; echo &#34;Web site path: $gitPath&#34; # Check if the directory exists if [ -d &#34;$gitPath&#34; ]; then # Attempt to enter the directory cd &#34;$gitPath&#34; || { echo &#34;Failed to enter directory $gitPath&#34;; exit 1; } echo &#34;------&#34; # Check if .git needs to be cloned if [ ! -d &#34;.git&#34; ]; then echo &#34;Cloning git into this directory&#34; if git clone -b gh-pages &#34;$gitSSH&#34; gittemp &amp;&amp; mv gittemp/.git . &amp;&amp; rm -rf gittemp; then echo &#34;Clone successful&#34; else echo &#34;Clone failed&#34; exit 1 fi fi # Update the git repository if git reset --hard gh-pages &amp;&amp; git pull; then echo &#34;Update successful&#34; else echo &#34;Update failed&#34; exit 1 fi # Change ownership chown -R www:www &#34;$gitPath&#34; echo &#34;Finish&#34; else echo &#34;The project path does not exist&#34; echo &#34;Finish&#34; fi Typora å›¾ç‰‡è®¾ç½® Typora æ”¯æŒä¾¿æ·åœ°åœ¨æœ¬åœ°ä¿å­˜æ–‡ä»¶ã€‚ä½†æ˜¯å¦‚æœè®¾ç½®ä¸å½“ï¼Œå®ƒå¯èƒ½æ— æ³•å…¼å®¹ Hugo çš„å›¾ç‰‡å­˜å‚¨æ–¹å¼ï¼Œè¿™é‡Œå¯¹ Typora çš„é…ç½®åšäº†ä»¥ä¸‹è°ƒæ•´
æ ¼å¼ -&gt; å›¾åƒ -&gt; è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•ï¼Œè®¾ç½®ç›®å½•ä¸º Hugo æºæ–‡ä»¶ä¸‹çš„ static æ–‡ä»¶å¤¹
åå¥½è®¾ç½® -&gt; å›¾åƒ -&gt; æ’å…¥å›¾ç‰‡å¤„è®¾ç½®è·¯å¾„ä¸º Hugo æºæ–‡ä»¶ä¸‹çš„ static\\images\\ æ–‡ä»¶å¤¹
è®¾ç½®å®Œæ¯•åï¼Œåœ¨ Typora ä¸­ Ctrl + V ç²˜è´´å›¾ç‰‡å°±ä¼šè‡ªåŠ¨ä»¥ /images/xxx.png çš„é“¾æ¥å‘ˆç°ï¼Œå¹¶æŠŠå›¾ç‰‡ä¿å­˜åœ¨ static\\images\\ æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªå›¾ç‰‡é“¾æ¥å½¢å¼åœ¨ Typora ä¸­å’Œ Hugo åšå®¢ä¸­éƒ½å¯ä»¥æ­£å¸¸æµè§ˆã€‚
æ€»ç»“ æ­¤æ¬¡è¿ç§»å†æ—¶ä¸‰å¤©ï¼Œè¿‡ç¨‹ä¸­è™½ç„¶é‡åˆ°äº†ä¸å°‘æŒ‘æˆ˜ï¼Œä½†ä¹Ÿæ”¶è·é¢‡ä¸°ã€‚é€šè¿‡æå‡ºé—®é¢˜ã€æ„æ€è§£å†³æ–¹æ¡ˆï¼Œä»¥åŠè¿ç”¨ç¼–ç¨‹æŠ€æœ¯è§£å†³å®é™…é—®é¢˜çš„è¿‡ç¨‹ï¼Œä¸ºæˆ‘å¸¦æ¥äº†æå¤§çš„æ»¡è¶³æ„Ÿã€‚
å››å¹´å‰ï¼Œæˆ‘å»ºç«‹äº†è¿™ä¸ªåšå®¢ï¼Œé‚£æ—¶å¯¹ Linux çš„æ“ä½œæ„Ÿåˆ°æåº¦ç•æƒ§ï¼Œæˆ‘çš„ç†è§£ä¹Ÿä»…é™äºä¹¦æœ¬çŸ¥è¯†ã€‚åœ¨è¿‡å»çš„å››å¹´ä¸­ï¼Œæˆ‘å¯¹ Linuxï¼ˆå°¤å…¶æ˜¯ Ubuntuï¼‰çš„äº†è§£å’Œç†Ÿæ‚‰ç¨‹åº¦æœ‰äº†æ˜¾è‘—æé«˜ï¼Œé€æ¸ä½“ä¼šåˆ°äº†ç±» Unix ç³»ç»Ÿçš„ç‹¬ç‰¹é­…åŠ›ã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘çš„äº‘æœåŠ¡å™¨ä¹Ÿä»æœ€åˆä»¥ Windows ç³»ç»Ÿä¸ºä¸»ã€Linux ç³»ç»Ÿä¸ºè¾…ï¼Œè½¬å˜ä¸ºå…¨é¢é‡‡ç”¨ Linux ç³»ç»Ÿã€‚
ç°åœ¨ï¼Œå›é¡¾èµ·æˆ‘å½“åˆé…ç½®çš„æœåŠ¡å™¨ï¼Œæˆ‘æ„è¯†åˆ°äº†è®¸å¤šå®‰å…¨ä¸Šçš„ç–æ¼ï¼ŒåŒæ ·ï¼Œé‡æ–°å®¡è§†æˆ‘æ—©æœŸçš„æ–‡ç« æ—¶ï¼Œæˆ‘ä¹Ÿæ„è¯†åˆ°äº†å½“æ—¶çš„è§†é‡å±€é™å’Œæ€ç»´çš„ç¨šå«©ã€‚æˆ‘ç›¸ä¿¡ï¼Œå››å¹´åçš„è‡ªå·±å†å›çœ‹ä»Šæ—¥æ‰€åšï¼Œå¯èƒ½ä¼šå¯¹æŸäº›å†³å®šæ„Ÿåˆ°å¯ç¬‘æˆ–æœ‰æ‰€é—æ†¾ã€‚ç„¶è€Œï¼Œæˆ‘è®¤ä¸ºè¿™æ­£ä½“ç°äº†äººç”Ÿçš„ä¸€ç¯â€”â€”æŒç»­å­¦ä¹ ï¼Œå›æœ›è¿‡å¾€ï¼Œå¯¹æ›¾ç»çš„è‡ªå·±ä¼šå¿ƒä¸€ç¬‘ã€‚
`,url:"https://hugo-dead-simple.netlify.com/blog/hugo%E8%87%AA%E5%8A%A8%E5%8F%91%E5%B8%83/"},"https://hugo-dead-simple.netlify.com/posts/my-first-post/":{title:"My First Post",tags:[],content:`hdsdf
`,url:"https://hugo-dead-simple.netlify.com/posts/my-first-post/"},"https://hugo-dead-simple.netlify.com/posts/":{title:"Posts",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/posts/"},"https://hugo-dead-simple.netlify.com/blog/helloworld/":{title:"Helloworld",tags:[],content:`hello world write by Rainboy
`,url:"https://hugo-dead-simple.netlify.com/blog/helloworld/"},"https://hugo-dead-simple.netlify.com/group_theory/1%E7%AD%89%E4%BB%B7%E5%85%B3%E7%B3%BB%E4%B8%8E%E9%9B%86%E5%90%88%E7%9A%84%E5%88%86%E7%B1%BB/":{title:"1ç­‰ä»·å…³ç³»ä¸é›†åˆçš„åˆ†ç±»",tags:[],content:`å¯¹åº”è§†é¢‘çš„p1-p6
å®šä¹‰äºŒå…ƒå…³ç³»RRR ç­‰ä»·å…³ç³» åèº«æ€§ï¼šâˆ€aâ†’aRa\\forall a \\to aRaâˆ€aâ†’aRa å¯¹ç§°æ€§ï¼šaRbâ‡’bRaaRb \\Rightarrow bRaaRbâ‡’bRa ä¼ é€’æ€§ï¼šaRbâˆ§bRcâ‡’aRcaRb \\land bRc \\Rightarrow aRcaRbâˆ§bRcâ‡’aRc ç­‰ä»·ç±» å®šä¹‰ï¼š[a][a][a]è¡¨ç¤ºæ‰€æœ‰ä¸aaaç­‰ä»·çš„å…ƒç´ çš„é›†åˆ ç­‰ä»·ç±»æ˜¯æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„é›†åˆï¼šä»»æ„ä¸¤ä¸ªå…ƒç´ aaaå’Œbbbéƒ½å±äºåŒä¸€ä¸ªç­‰ä»·ç±»å½“ä¸”ä»…å½“aRbaRbaRb å…¬å¼å®šä¹‰: [a]={xâˆˆSâˆ£xRa}[a]= \\{ x \\in S | xRa \\}[a]={xâˆˆSâˆ£xRa} ç±»åœ¨è¿™é‡Œçš„æ„æ€ä¸º:&ldquo;ç‰©ä»¥ç¾¤åˆ†&rdquo;,åˆ†ç±»çš„æ„æ€,ç­‰ä»·ç±»å°±æ˜¯æŠŠæ»¡è¶³ç­‰ä»·å…³ç³»çš„å…ƒç´ å½’ä¸ºä¸€ç±». å•†é›†: SSSçš„å…¨ä½“ç­‰ä»·ç±»æ„æˆçš„é›†åˆ,é›†åˆSSSåœ¨ç­‰ä»·å…³ç³»ä¸‹çš„å•†é›†è®°ä½œS/âˆ½S / \\backsimS/âˆ½ é›†åˆçš„åˆ†ç±» å®šä¹‰ï¼šSSSæ˜¯ä¸€ä¸ªé›†åˆï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªç­‰ä»·å…³ç³»RRRä½¿å¾—SSSçš„æ‰€æœ‰å…ƒç´ éƒ½å¯ä»¥åˆ’åˆ†ä¸ºç­‰ä»·ç±»ï¼Œåˆ™ç§°SSSä¸ºRRRçš„åˆ†ç±» å¦‚æœéç©ºé›†åˆSSSæ˜¯å®ƒçš„æŸäº›ä¸¤ä¸¤ä¸ç›¸äº¤çš„éç©ºå­é›†çš„å¹¶,åˆ™ç§°è¿™äº›å­é›†ä¸ºé›†åˆSSSçš„ä¸€ç§åˆ†ç±»(partition),å…¶ä¸­æ¯ä¸ªå­é›†ç§°ä¸ºé›†åˆSSSçš„ä¸€ä¸ªç±»(class) è‹¥é›†åˆSSSçš„å­é›†æ—{Siâˆ£iâˆˆI}\\{S_i | i \\in I\\}{Siâ€‹âˆ£iâˆˆI}æ„æˆäº†Sçš„ä¸€ç§åˆ†ç±»å½“ä¸”ä»…å½“
S=â‹ƒiâˆˆISiS = \\bigcup_{i \\in I} S_iS=â‹ƒiâˆˆIâ€‹Siâ€‹ Siâˆ©Sj=âˆ…S_i \\cap S_j = \\varnothingSiâ€‹âˆ©Sjâ€‹=âˆ… (i.e., SiS_iSiâ€‹ and SjS_jSjâ€‹ are pairwise disjoint) é›†åˆSSSçš„ä»»ä½•ä¸€ç§ç­‰ä»·å…³ç³»éƒ½ç¡®å®šäº†SSSçš„ä¸€ç§åˆ†ç±»ã€‚
ä¾‹é¢˜ ä¾‹5 aRbâ‡”mâˆ£aâˆ’b,âˆ€a,bâˆˆZ(1) aRb \\Leftrightarrow m \\mid a - b , \\forall a,b \\in \\mathbb{Z} \\tag 1 aRbâ‡”mâˆ£aâˆ’b,âˆ€a,bâˆˆZ(1)è¯æ˜1å¼æ˜¯ç­‰ä»·å…³ç³».ä¹Ÿå°±æ˜¯è¯æ˜mâˆ£aâˆ’bm | a -b mâˆ£aâˆ’bæ˜¯ç­‰ä»·å…³ç³».
å…¬å¼çš„å«ä¹‰è§£é‡Š: mæ˜¯aä¸bå·®çš„å› å­,åˆ™è¯´æ˜a,bå¯¹äºmåŒä½™.è¿™ä¸¤è€…æ˜¯ç­‰ä»·çš„.
ä¸‹é¢è¯æ˜è¿™ä¸¤è€…æ˜¯ç­‰ä»·å…³ç³».
è®¾ A:aâ‰¡b(modâ€‰m)a \\equiv b (\\mod m)aâ‰¡b(modm), B: mâˆ£aâˆ’bm \\mid a-bmâˆ£aâˆ’b.
Aâ†’BA \\to BAâ†’B,æŠŠa,bå†™æˆå¸¦ä½™æ•°é™¤æ³•çš„å½¢å¼.
a=k1Ã—m+rb=k2Ã—m+raâˆ’b=m(k1âˆ’k2)â†’mâˆ£aâˆ’b a = k_1 \\times m + r \\\\ b = k_2 \\times m + r \\\\ a - b = m(k_1 - k_2) \\to m \\mid a - b a=k1â€‹Ã—m+rb=k2â€‹Ã—m+raâˆ’b=m(k1â€‹âˆ’k2â€‹)â†’mâˆ£aâˆ’bå¿…è¦æ€§è¯æ˜å®Œæ¯•,è¯æ˜å……åˆ†æ€§.
mâˆ£aâˆ’bâ†’aâˆ’b=kÃ—mâ†’a=b+kÃ—mâ†’amodâ€‰m=(b+kÃ—m)modâ€‰mâ†’amodâ€‰m=bmodâ€‰m m \\mid a - b \\\\ \\to a -b = k \\times m \\\\ \\to a = b + k \\times m \\\\ \\to a \\mod m = (b+k \\times m) \\mod m \\\\ \\to a \\mod m = b \\mod m mâˆ£aâˆ’bâ†’aâˆ’b=kÃ—mâ†’a=b+kÃ—mâ†’amodm=(b+kÃ—m)modmâ†’amodm=bmodmqed;
è¯æ˜è‡ªåæ€§:
aRaâ‡”mâˆ£aâˆ’a aRa \\Leftrightarrow m \\mid a - a aRaâ‡”mâˆ£aâˆ’aæ˜¾ç„¶æˆç«‹.
è¯æ˜å¯¹ç§°æ€§:
æ ¹æ® mâˆ£xâ†’mâˆ£âˆ’x m \\mid x \\to m \\mid -x mâˆ£xâ†’mâˆ£âˆ’xé‚£ä¹ˆ
mâˆ£aâˆ’bâ†’mâˆ£âˆ’(aâˆ’b)â†’mâˆ£bâˆ’a m \\mid a - b \\to m \\mid -(a - b) \\to m \\mid b - a mâˆ£aâˆ’bâ†’mâˆ£âˆ’(aâˆ’b)â†’mâˆ£bâˆ’aè¯æ˜ä¼ é€’æ€§:
mâˆ£aâˆ’bâˆ§mâˆ£bâˆ’câ†’mâˆ£aâˆ’cm | a - b \\land m| b - c \\to m | a - cmâˆ£aâˆ’bâˆ§mâˆ£bâˆ’câ†’mâˆ£aâˆ’c
a=k1Ã—m+rb=k2Ã—m+rc=k3Ã—m+râ†’aâˆ’c=k1Ã—m+râˆ’k3Ã—mâˆ’râ†’mâˆ£aâˆ’c a = k_1 \\times m + r \\\\ b = k_2 \\times m + r \\\\ c = k_3 \\times m + r \\\\ \\to a - c = k_1 \\times m + r - k_3 \\times m - r\\\\ \\to m \\mid a - c a=k1â€‹Ã—m+rb=k2â€‹Ã—m+rc=k3â€‹Ã—m+râ†’aâˆ’c=k1â€‹Ã—m+râˆ’k3â€‹Ã—mâˆ’râ†’mâˆ£aâˆ’cè¯æ˜å®Œæ¯•
è¯´æ˜åŒä½™æ˜¯ä¸€ç§ç­‰ä»·å…³ç³».
ä¹¦ä¸Šåˆå®šä¹‰äº†ä»€ä¹ˆå«åšåŒä½™å‰©ä½™ç±».
ä¾‹9 è¿™ä¸ªè§ä¹¦.
è¯¾åé¢˜ç›® ä¹ é¢˜1. è¯•åˆ†åˆ«ä¸¾å‡ºæ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„å…³ç³»ï¼š (1)æœ‰å¯¹ç§°æ€§ï¼Œä¼ é€’æ€§ï¼Œä½†æ— åèº«æ€§ï¼› (2)æœ‰åèº«æ€§ï¼Œä¼ é€’æ€§ï¼Œä½†æ— å¯¹ç§°æ€§ï¼› (3)æœ‰åèº«æ€§ï¼Œå¯¹ç§°æ€§ï¼Œä½†æ— ä¼ é€’æ€§. è§£:è®¾é›†åˆS={a,b,c}S = \\{a,b,c\\}S={a,b,c}
(1) ,R={(a,b),(b,a),(a,a),b,b}R = \\{(a,b),(b,a),(a,a),{b,b}\\}R={(a,b),(b,a),(a,a),b,b},å› ä¸ºæ²¡æœ‰(c,c)(c,c)(c,c)æ‰€ä»¥ä¸æ»¡è¶³åèº«æ€§. (2) ,R={(a,a),(b,b),(c,c),(a,b)}R = \\{(a,a),(b,b),(c,c),(a,b)\\}R={(a,a),(b,b),(c,c),(a,b)},å› ä¸ºæ²¡æœ‰(b,a)(b,a)(b,a)æ‰€ä»¥ä¸æ»¡è¶³å¯¹ç§°æ€§. (3) ,R={(a,a),(b,b),(c,c),(a,b),(b,a),(c,a),(c,b)}R = \\{(a,a),(b,b),(c,c),(a,b),(b,a),(c,a),(c,b)\\}R={(a,a),(b,b),(c,c),(a,b),(b,a),(c,a),(c,b)},å› ä¸ºæ²¡æœ‰(a,c)(a,c)(a,c)æ‰€ä»¥ä¸æ»¡è¶³ä¼ é€’æ€§. ä¹ é¢˜2.æ‰¾å‡ºä¸‹é¢è¯æ˜ä¸­çš„é”™è¯¯ï¼š æœ‰äººæ–­è¨€ï¼Œè‹¥Sçš„å…³ç³»Ræœ‰å¯¹ç§°æ€§å’Œä¼ é€’æ€§ï¼Œåˆ™å¿…æœ‰åèº«æ€§.è¿™æ™¨å›  ä¸ºï¼Œå¯¹ä»»æ„çš„aâˆˆS,ç”±å¯¹ç§°æ€§ï¼Œå¦‚æœaRb,åˆ™bRa.å†ç”±ä¼ é€’æ€§ï¼Œå¾—aRa,æ‰€ ä»¥Ræœ‰åèº«æ€§.
å…³é”®åœ¨äºaâˆˆSa \\in SaâˆˆSï¼Œä½†å¦‚æœaaaå°±æ²¡æœ‰è‡ªå·±çš„å…³ç³»å‘¢?ä¾‹å¦‚ä¹ é¢˜1çš„(1),å°±æ²¡æœ‰cçš„å…³ç³»,æ‰€ä»¥ä¸èƒ½è¯´Ræœ‰åèº«æ€§. å› ä¸ºä¸ä¸€å®šæœ‰cRbcRbcRbè¿™ä¸ªå…³ç³».
`,url:"https://hugo-dead-simple.netlify.com/group_theory/1%E7%AD%89%E4%BB%B7%E5%85%B3%E7%B3%BB%E4%B8%8E%E9%9B%86%E5%90%88%E7%9A%84%E5%88%86%E7%B1%BB/"},"https://hugo-dead-simple.netlify.com/group_theory/":{title:"Group_theories",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/group_theory/"},"https://hugo-dead-simple.netlify.com/typescript/preverseconstenums/":{title:"preserveConstEnumsç¼–è¯‘å™¨é€‰é¡¹",tags:["typescript"],content:`preserveConstEnums æ˜¯ TypeScript ç¼–è¯‘å™¨é€‰é¡¹ä¹‹ä¸€ï¼Œä½œç”¨æ˜¯æ§åˆ¶ TypeScript ç¼–è¯‘è¿‡ç¨‹ä¸­æ˜¯å¦ä¿ç•™ const enum çš„å¸¸é‡å€¼ã€‚
è¯¦ç»†ä½œç”¨ï¼š å½“ä½ åœ¨ TypeScript ä¸­ä½¿ç”¨ const enum æ—¶ï¼Œå®ƒä»¬ä¼šåœ¨ç¼–è¯‘æ—¶è¢«å†…è”å±•å¼€ä¸ºå¸¸é‡å€¼ï¼Œè€Œä¸ä¼šç”Ÿæˆå•ç‹¬çš„æšä¸¾ä»£ç ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒTypeScript ä¼šå°† const enum ç¼–è¯‘ä¸ºå¸¸é‡å€¼ï¼Œè€Œä¸ä¼šç”Ÿæˆä»»ä½•æšä¸¾ç›¸å…³çš„ JavaScript ä»£ç ã€‚
å¦‚æœä½ å¯ç”¨ preserveConstEnumsï¼ŒTypeScript ç¼–è¯‘å™¨å°†ä¸ä¼šå†…è” const enumï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æšä¸¾ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„ JavaScript ä»£ç ã€‚è¿™æ ·ï¼Œç¼–è¯‘åçš„ä»£ç å°†åŒ…å«æšä¸¾çš„å®é™…å®šä¹‰ï¼Œè€Œä¸æ˜¯ç›´æ¥æ›¿æ¢ä¸ºå¸¸é‡å€¼ã€‚
ä½¿ç”¨åœºæ™¯ï¼š preserveConstEnums: true: å¦‚æœä½ å¸Œæœ› const enum åœ¨ç¼–è¯‘åä¾ç„¶ä¿ç•™ä¸ºæšä¸¾å®šä¹‰ï¼ˆè€Œä¸æ˜¯è¢«å†…è”å±•å¼€ä¸ºå¸¸é‡å€¼ï¼‰ï¼Œå¯ä»¥å¼€å¯è¿™ä¸ªé€‰é¡¹ã€‚ preserveConstEnums: falseï¼ˆé»˜è®¤å€¼ï¼‰ï¼šä¼šç›´æ¥å†…è” const enum çš„å€¼ï¼Œç”Ÿæˆçš„ JavaScript ä»£ç ä¸­ä¸ä¼šåŒ…å«æšä¸¾ç±»å‹å®šä¹‰ã€‚ ç¤ºä¾‹ï¼š 1. preserveConstEnums: false (é»˜è®¤) TypeScript ç¼–è¯‘å™¨å°†å†…è” const enumï¼š
const enum Color { Red = 1, Green = 2, Blue = 3 } let c = Color.Green; // ç¼–è¯‘åç›´æ¥æ›¿æ¢æˆ 2 ç¼–è¯‘åçš„ JavaScript ä»£ç ï¼š
var c = 2; 2. preserveConstEnums: true å¦‚æœå¯ç”¨ preserveConstEnumsï¼Œç¼–è¯‘åçš„ä»£ç ä¼šä¿ç•™æšä¸¾å®šä¹‰ï¼š
const enum Color { Red = 1, Green = 2, Blue = 3 } let c = Color.Green; ç¼–è¯‘åçš„ JavaScript ä»£ç ï¼š
var Color; (function (Color) { Color[Color[&#34;Red&#34;] = 1] = &#34;Red&#34;; Color[Color[&#34;Green&#34;] = 2] = &#34;Green&#34;; Color[Color[&#34;Blue&#34;] = 3] = &#34;Blue&#34;; })(Color || (Color = {})); var c = Color.Green; æ€»ç»“ï¼š preserveConstEnums: true ä¿ç•™ const enum çš„å®šä¹‰åœ¨è¾“å‡ºçš„ JavaScript ä»£ç ä¸­ï¼Œè€Œä¸æ˜¯å°†å…¶å†…è”æˆå¸¸é‡å€¼ã€‚ preserveConstEnums: falseï¼ˆé»˜è®¤ï¼‰åˆ™ä¼šå°† const enum çš„æˆå‘˜å†…è”ä¸ºå¸¸é‡å€¼ï¼Œç”Ÿæˆçš„ JavaScript ä»£ç ä¼šæ›´ç®€æ´ã€‚ `,url:"https://hugo-dead-simple.netlify.com/typescript/preverseconstenums/"},"https://hugo-dead-simple.netlify.com/typescript/src/readme/":{title:"typescript",tags:["typescript"],content:`å®‰è£… yarn global add typescript ts-node æ•°æ®ç±»å‹ string boolean number void ç”¨åœ¨æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°,å…¶å®ƒå¯ä»¥ç”¨,ä½†ä¸èƒ½èµ‹å€¼ function alerme():void { alert(&#39;my name is tom&#39;); } null,undefined,æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹,å¯ä»¥èµ‹å€¼ç»™å…¶å®ƒç±»å‹,è€Œ void ç±»å‹çš„å˜é‡ä¸èƒ½èµ‹å€¼ç»™ number ç±»å‹çš„å˜é‡ï¼š let num:number = null å¯¹è±¡ç±»å‹ const xiaoJieJie : { name:string, age:number } = { name:&#39;hel&#39;, age:19 } //1 æ™®é€š const xiaoJjiejieS :string [] = [&#39;1&#39;,&#39;dajiao&#39;,&#39;liuyaing&#39;]; // 2 .æ•°ç»„ class Person{} const dajiao: Person = new Person() //3 ç±»ç±»å‹ const jianXiaoJjieJie: () =&gt; string = () =&gt; {return &#34;dajiao&#34;}; //å‡½æ•°å¯¹è±¡ç±»å‹ ç±»å‹æ³¨è§£ ä¸ ç±»å‹æ¨æ–­ type annotation type inference å·¥ä½œä½¿ç”¨çš„åŸåˆ™
å¦‚æœTSèƒ½å¤Ÿè‡ªåŠ¨åˆ†æå˜é‡ç±»å‹,æˆ‘ä»¬å°±ä»€ä¹ˆä¹Ÿä¸éœ€è¦åšäº† å¦‚æœTSæ— æ³•åˆ†æå˜é‡ç±»å‹çš„è¯,æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ç±»å‹æ³¨è§£äº† 05 å‡½æ•°å‚æ•°å’Œè¿”å›ç±»å‹çš„æ³¨è§£ &lt;%- include(&#34;demo/demo5.ts&#34;) %&gt; 06æ•°ç»„ç±»å‹çš„å®šä¹‰ ç±»å‹åˆ«å &lt;%- include(&#34;demo/demo6.ts&#34;) %&gt; 07 å…ƒç»„çš„ä½¿ç”¨ &lt;%- include(&#34;demo/demo7.ts&#34;) %&gt; å…ƒç»„ç°åœ¨ç”¨çš„å°‘äº†,å› ä¸ºå¯ä»¥ç”¨å¯¹è±¡çš„å½¢å¼æ¥ä»£æ›¿
08 09 interface æ¥å£ &lt;%- include(&#34;demo/demo8.ts&#34;) %&gt; &lt;%- include(&#34;demo/demo9.ts&#34;) %&gt; [propname:string] : any; å†…éƒ¨çº¦æŸäº†ä¸€ä¸ªå‡½æ•°say():string; æ¥å£çº¦æŸä¸€ä¸ªç±»class xiaojiejie implements Gril æ¥å£çš„æ‹“å±•interface Teacher extends Girl{} ç›¸å½“äºç»§æ‰¿ ç¬¦åˆå­æ¥å£çš„å¯¹è±¡ä¹Ÿç¬¦åˆçˆ¶æ¥å£ 10 ç±»çš„æ¦‚å¿µå’Œä½¿ç”¨ å®šä¹‰ ç»§æ‰¿ é‡å†™ super è°ƒç”¨çˆ¶ç±»ä¸­çš„æ–¹æ³• &lt;%- include(&#34;demo/demo10.ts&#34;) %&gt; ç±»çš„è®¿é—®ç±»å‹ private å†…éƒ¨ç”¨,å¤–éƒ¨ä¸èƒ½ç”¨ protected å†…éƒ¨ç”¨,å¤–éƒ¨ä¸èƒ½ç”¨,ç»§æ‰¿å¯ä»¥ç”¨ public é»˜è®¤æ˜¯public éƒ½å¯ä»¥ç”¨ ç±»çš„å†…éƒ¨ä¸å¤–éƒ¨
&lt;%- include(&#34;demo/demo11.ts&#34;) %&gt; 12 ç±»çš„æ„é€ å‡½æ•° &lt;%- include(&#34;demo/demo12.ts&#34;) %&gt; 13 ç±»çš„getter setter static åªè¯» &lt;%- include(&#34;demo/demo13.ts&#34;) %&gt; 14 æŠ½è±¡ç±» å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å«åšæŠ½è±¡ç±» ç»§æ‰¿æŠ½è±¡ç±»çš„ç±»å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³• &lt;%- include(&#34;demo/demo14.ts&#34;) %&gt; 15 16 17 tsconfig.json é…ç½®æ–‡ä»¶ tsc -init ç”Ÿæˆ tsc ä¸åŠ åå­—,ä¼šè°ƒç”¨tsconfig.json &ldquo;include&rdquo;:[&ldquo;demo.ts&rdquo;], å¯ä»¥æ˜¯ç›®å½•åŠæ–‡ä»¶,å¯ä»¥æ­£åˆ™,å¯ä»¥glob &ldquo;exclude&rdquo;:[&ldquo;demo.ts&rdquo;], å¯ä»¥æ’é™¤include é‡Œæ–‡ä»¶ &ldquo;files&rdquo;:[&ldquo;demo.ts&rdquo;], å’Œincludeä¸€æ ·,ä½†åªèƒ½æ˜¯æ–‡ä»¶,ä¸ä¼šè¢«excludeæ’é™¤ compileOptions
strict ä¸¥æ ¼ts noImplicitAny å……è®¸ä½ çš„æ³¨è§£ç±»å‹anyä¸ç”¨ç‰¹æ„æ ‡æ˜ strictNullChecks ä¸å……è®¸æœ‰nullå€¼å‡ºç° ts-node ä¹Ÿä¼šç”¨tsconfig.json rootdir æºä»£ç æ ¹ç›®å½• outDir ç¼–è¯‘è¾“å‡ºçš„æ–‡ä»¶ sourceMap ç”Ÿæˆ.mapæ–‡ä»¶ debugç”¨ noUnsedLocal ä¸èƒ½å‡ºç°æ²¡æœ‰ä½¿ç”¨çš„æœ¬åœ°å˜é‡ 18 ç±»å‹ä¿æŠ¤ä¸è”åˆç±»å‹ ä¸å•ä¸€çš„ç±»å‹ number | boolean åªæœ‰åœ¨è”åˆç±»å‹çš„æ—¶å€™éœ€è¦ ç±»å‹ä¿æŠ¤ ç±»å‹æ–­è¨€ person as Waiter skill in person typeof person ==='string' first instanceof NumberOBJ instanceof åªèƒ½ç”¨åœ¨ç±»ä¸Š &lt;%- include(&#34;demo/demo18.cpp&#34;) %&gt; 19 enum ç±»å‹ typescript ç‹¬æœ‰ &lt;%- include(&#34;demo/demo19.cpp&#34;) %&gt; enum å¯ä»¥åæŸ¥ log(Status[1]) 20 æ³›å‹ &lt;%- include(&#34;demo/demo20.cpp&#34;) %&gt; 21 ç±»ä¸­ä½¿ç”¨æ³›å‹ - æ³›å‹åœ¨ç±»ä¸­çš„ä½¿ç”¨ \`class C&lt;T&gt;\` ä¸ºäº†çº¦æŸä¼ å…¥çš„å‚æ•° - æ³›å‹ç»§æ‰¿ - æ³›å‹çº¦æŸ &lt;%- include(&#34;demo/demo21.cpp&#34;) %&gt; ## 22 23 å‘½åç©ºé—´ åœ¨æµè§ˆå™¨ä¸­è¿è¡Œä¸çœ‹æ•ˆæœ - vscode -&gt; file -&gt; openFloder - vscode-&gt;terminal \`npm init\` - \`tsc -init\` - \`mkdir src &amp;&amp; mkdir build &amp;&amp; touch index.html\` - å‘½åç©ºé—´å¯ä»¥åµŒå¥— namespace fater { namespace child { } }
tsconfig.json - outFile -&gt;ç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ - moduble coomjs -&gt;&#39;amd&#39; ## 24 import éœ€è¦å¼•ç”¨ require.js æ¥ä½¿ç”¨ amd çš„æ¨¡å— require([&ldquo;page&rdquo;],function(){ })
## 25 parcel yarn add &ndash;dev parcel
## 26 ts ä½¿ç”¨jquery yarn add @types/jquery
or declare var $:any;
## èµ„æ–™ - [ruanä¸€å³° es6]() - [TypeScript å…¥é—¨æ•™ç¨‹](https://ts.xcatliu.com/) - [TypeScript Handbookï¼ˆä¸­æ–‡ç‰ˆï¼‰](https://zhongsp.gitbooks.io/typescript-handbook/content/) - [æŠ€æœ¯èƒ–-TypeScript ä»å…¥é—¨åˆ°ç²¾é€šå›¾æ–‡è§†é¢‘æ•™ç¨‹-å…è´¹æ•™ç¨‹](http://jspang.com/detailed?id=63) `,url:"https://hugo-dead-simple.netlify.com/typescript/src/readme/"},"https://hugo-dead-simple.netlify.com/tags/typescript/":{title:"Typescript",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/tags/typescript/"},"https://hugo-dead-simple.netlify.com/typescript/object_object/":{title:"TypeScript ä¸­çš„ object å’Œ Object çš„åŒºåˆ«",tags:["typescript"],content:"åœ¨ TypeScript ä¸­ï¼Œobject å’Œ Object è™½ç„¶çœ‹èµ·æ¥ç›¸ä¼¼ï¼Œä½†å®ƒä»¬æœ‰ç€ä¸åŒçš„å«ä¹‰å’Œç”¨é€”ã€‚\n1. objectï¼ˆå°å†™ï¼‰ object æ˜¯ä¸€ä¸ª ç±»å‹ï¼Œè¡¨ç¤ºä»»ä½•éåŸå§‹ç±»å‹çš„å€¼ã€‚åŸå§‹ç±»å‹åŒ…æ‹¬ï¼šnumberã€stringã€booleanã€symbolã€null å’Œ undefinedã€‚æ¢å¥è¯è¯´ï¼Œobject ç±»å‹æ˜¯æŒ‡ é™¤åŸå§‹ç±»å‹ä¹‹å¤–çš„æ‰€æœ‰ç±»å‹ã€‚\nç‰¹ç‚¹ï¼š object ç±»å‹è¡¨ç¤ºçš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆå³éåŸå§‹å€¼ï¼‰ï¼Œä½†ä¸é™å®šå¯¹è±¡çš„ç»“æ„ï¼ˆå±æ€§å’Œæ–¹æ³•ï¼‰ã€‚ å®ƒå¹¶ä¸ç­‰åŒäº Object æ„é€ å‡½æ•°çš„ç±»å‹ã€‚ ä¸èƒ½ç›´æ¥è®¿é—®å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•ï¼Œé™¤éå°†å…¶ç±»å‹è¿›ä¸€æ­¥ç»†åŒ–ã€‚ ç¤ºä¾‹ï¼š let obj: object; obj = { name: &#34;Alice&#34; }; // åˆæ³• obj = [1, 2, 3]; // åˆæ³• obj = () =&gt; {}; // åˆæ³• obj = 42; // é”™è¯¯ï¼šç±»å‹ &#39;number&#39; ä¸èƒ½èµ‹å€¼ç»™ç±»å‹ &#39;object&#39; obj = &#34;hello&#34;; // é”™è¯¯ï¼šç±»å‹ &#39;string&#39; ä¸èƒ½èµ‹å€¼ç»™ç±»å‹ &#39;object&#39; object ç±»å‹é™åˆ¶äº†åªèƒ½æ˜¯â€œéåŸå§‹ç±»å‹â€çš„å€¼ï¼Œä½†æ˜¯å®ƒå¹¶ä¸å…³å¿ƒå…·ä½“æ˜¯ä»€ä¹ˆç±»å‹ï¼ˆä¾‹å¦‚æ˜¯æ•°ç»„ã€å‡½æ•°è¿˜æ˜¯æ™®é€šå¯¹è±¡ï¼‰ã€‚å› æ­¤ï¼Œä½ ä¸èƒ½ç›´æ¥è®¿é—®å¯¹è±¡çš„å±æ€§ï¼Œé™¤éä½ è¿›ä¸€æ­¥æŒ‡å®šå¯¹è±¡çš„ç»“æ„æˆ–ç±»å‹ã€‚\n2. Objectï¼ˆå¤§å†™ï¼‰ Object æ˜¯ JavaScript ä¸­çš„å†…ç½®æ„é€ å‡½æ•°ï¼Œç”¨æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚åœ¨ TypeScript ä¸­ï¼ŒObject è¡¨ç¤ºæ‰€æœ‰é null çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæ˜¯æ‰€æœ‰ç±»å‹çš„è¶…é›†ï¼Œé™¤äº† null å’Œ undefinedã€‚\nç‰¹ç‚¹ï¼š Object ç±»å‹è¡¨ç¤º æ‰€æœ‰å¯¹è±¡ç±»å‹ï¼ŒåŒ…æ‹¬åŸå§‹ç±»å‹ï¼ˆstringã€number ç­‰ï¼‰ä»¥å¤–çš„æ‰€æœ‰ç±»å‹ã€‚ å®ƒæ˜¯ JavaScript ä¸­æ‰€æœ‰å¯¹è±¡çš„çˆ¶ç±»ï¼Œç”šè‡³å¯ä»¥ç”¨äºè¡¨ç¤ºåŸå§‹ç±»å‹ï¼ˆä¸è¿‡é€šå¸¸ä¸è¿™ä¹ˆåšï¼‰ã€‚ ç¤ºä¾‹ï¼š let obj: Object; obj = { name: &#34;Alice&#34; }; // åˆæ³• obj = [1, 2, 3]; // åˆæ³• obj = &#34;hello&#34;; // åˆæ³•ï¼ˆå°½ç®¡é€šå¸¸ä¸è¿™ä¹ˆåšï¼‰ obj = 42; // åˆæ³•ï¼ˆ`number` ä¹Ÿæ˜¯ `Object` ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼‰ obj = null; // é”™è¯¯ï¼š`null` ä¸èƒ½èµ‹å€¼ç»™ `Object` Object ç±»å‹å®é™…ä¸ŠåŒ…å«äº† æ‰€æœ‰ç±»å‹ï¼Œé™¤ null å’Œ undefined ä¹‹å¤–ã€‚\n3. åŒºåˆ«æ€»ç»“ ç‰¹æ€§ object Object è¡¨ç¤ºçš„å†…å®¹ ä»»ä½•éåŸå§‹ç±»å‹ï¼ˆä¸åŒ…æ‹¬ number, string, boolean, symbol, null, undefinedï¼‰ æ‰€æœ‰ç±»å‹ï¼ˆåŒ…æ‹¬ number, string, boolean, symbol, é™¤ null å’Œ undefinedï¼‰ æ˜¯å¦å…è®¸åŸå§‹ç±»å‹ ä¸å…è®¸åŸå§‹ç±»å‹ï¼ˆåªèƒ½æ˜¯å¯¹è±¡ï¼‰ å…è®¸åŸå§‹ç±»å‹ï¼ˆåŒ…æ‹¬ number, string, boolean, symbol ç­‰ï¼‰ è®¿é—®å±æ€§ ä¸èƒ½ç›´æ¥è®¿é—®å±æ€§ï¼Œéœ€è¦è¿›ä¸€æ­¥ç»†åŒ–ç±»å‹ å…è®¸è®¿é—®å±æ€§ï¼Œå®é™…ä¸Šæ˜¯ Object ç±»å‹çš„è¶…é›† å¸¸è§ç”¨é€” ç”¨äºé™å®šæŸä¸ªå€¼æ˜¯å¯¹è±¡ç±»å‹ï¼ˆè€Œä¸æ˜¯åŸå§‹å€¼ï¼‰ è¡¨ç¤ºæ‰€æœ‰ç±»å‹ï¼ˆä½†ä¸åŒ…æ‹¬ null å’Œ undefinedï¼‰ 4. è¿›ä¸€æ­¥çš„ç¤ºä¾‹ï¼š object ç¤ºä¾‹ï¼š let obj: object; obj = { name: &#34;Alice&#34; }; // åˆæ³• obj = [1, 2, 3]; // åˆæ³• obj = () =&gt; {}; // åˆæ³• // ä¸‹é¢çš„ç±»å‹ä¼šæŠ¥é”™ï¼Œå› ä¸º `object` ç±»å‹ä¸å…è®¸åŸå§‹ç±»å‹ obj = 42; // é”™è¯¯ obj = &#34;hello&#34;; // é”™è¯¯ obj = true; // é”™è¯¯ Object ç¤ºä¾‹ï¼š let obj: Object; obj = { name: &#34;Alice&#34; }; // åˆæ³• obj = [1, 2, 3]; // åˆæ³• obj = &#34;hello&#34;; // åˆæ³• obj = 42; // åˆæ³• // `null` ä¸èƒ½èµ‹å€¼ç»™ `Object` ç±»å‹ obj = null; // é”™è¯¯ 5. æ€»ç»“ object æ˜¯ä¸€ä¸ªç±»å‹ï¼Œè¡¨ç¤ºéåŸå§‹ç±»å‹ï¼ˆå³æ’é™¤ number, string, boolean, symbol, null å’Œ undefinedï¼‰ã€‚å®ƒä¸èƒ½ç›´æ¥ç”¨äºè®¿é—®å¯¹è±¡çš„å±æ€§ã€‚ Object æ˜¯ JavaScript ä¸­çš„æ„é€ å‡½æ•°ï¼Œå®ƒæ˜¯æ‰€æœ‰ç±»å‹çš„è¶…é›†ï¼Œé™¤äº† null å’Œ undefinedï¼Œå®ƒå…è®¸è¡¨ç¤ºä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬åŸå§‹ç±»å‹ï¼ˆå¦‚ stringã€number ç­‰ï¼‰ã€‚ åœ¨ TypeScript ä¸­ï¼Œå»ºè®®å°½é‡ä½¿ç”¨ object æ¥è¡¨ç¤ºå¯¹è±¡ç±»å‹ï¼Œé¿å…ä½¿ç”¨ Objectï¼Œé™¤éä½ ç¡®å®éœ€è¦ä¸€ä¸ªæ›´å®½æ³›çš„ç±»å‹ï¼ˆè¡¨ç¤ºæ‰€æœ‰é null/undefined çš„å€¼ï¼‰ã€‚\n",url:"https://hugo-dead-simple.netlify.com/typescript/object_object/"},"https://hugo-dead-simple.netlify.com/typescript/":{title:"typescript å­¦ä¹ ç¬”è®°",tags:["typescript"],content:" é¦–é¡µ å¦‚ä½•è°ƒè¯• ç¬”è®°:tsç¼–ç¨‹ å¯¹è±¡å­—é¢é‡çš„ä½¿ç”¨ TypeScript ä¸­çš„ object å’Œ Object çš„åŒºåˆ« preserveConstEnumsç¼–è¯‘å™¨é€‰é¡¹ è£…é¥°å™¨ ",url:"https://hugo-dead-simple.netlify.com/typescript/"},"https://hugo-dead-simple.netlify.com/typescript/readme/":{title:"typescript å­¦ä¹ ç¬”è®°",tags:["typescript"],content:`èµ„æ–™ TypeScript Tutorial é˜®ä¸€å³° es6 é˜®ä¸€å³° TypeScript æ•™ç¨‹ TypeScript Handbook - The TypeScript Handbook TypeScript å…¥é—¨æ•™ç¨‹ TypeScript Handbookï¼ˆä¸­æ–‡ç‰ˆï¼‰ ç°ä»£TypeScripté«˜çº§æ•™ç¨‹- - linwu-hi - åšå®¢å›­ å®‰è£… yarn global add typescript ts-node æ•°æ®ç±»å‹ string boolean number void ç”¨åœ¨æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°,å…¶å®ƒå¯ä»¥ç”¨,ä½†ä¸èƒ½èµ‹å€¼ function alerme():void { alert(&#39;my name is tom&#39;); } null,undefined,æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹,å¯ä»¥èµ‹å€¼ç»™å…¶å®ƒç±»å‹,è€Œ void ç±»å‹çš„å˜é‡ä¸èƒ½èµ‹å€¼ç»™ number ç±»å‹çš„å˜é‡ï¼š let num:number = null å¯¹è±¡ç±»å‹ const xiaoJieJie : { name:string, age:number } = { name:&#39;hel&#39;, age:19 } //1 æ™®é€š const xiaoJjiejieS :string [] = [&#39;1&#39;,&#39;dajiao&#39;,&#39;liuyaing&#39;]; // 2 .æ•°ç»„ class Person{} const dajiao: Person = new Person() //3 ç±»ç±»å‹ const jianXiaoJjieJie: () =&gt; string = () =&gt; {return &#34;dajiao&#34;}; //å‡½æ•°å¯¹è±¡ç±»å‹ è„šæ‰‹æ¶ æ¢äº†ä¸€ä¸ªè„šæ‰‹æ¶ GitHub - xddqnodejs-typescript-modern-starter Minimal and modern starter template to develop a Node.js project leveraging Typescript
ç±»å‹æ³¨è§£ ä¸ ç±»å‹æ¨æ–­ type annotation type inference å·¥ä½œä½¿ç”¨çš„åŸåˆ™
å¦‚æœTSèƒ½å¤Ÿè‡ªåŠ¨åˆ†æå˜é‡ç±»å‹,æˆ‘ä»¬å°±ä»€ä¹ˆä¹Ÿä¸éœ€è¦åšäº† å¦‚æœTSæ— æ³•åˆ†æå˜é‡ç±»å‹çš„è¯,æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨ç±»å‹æ³¨è§£äº† 05 å‡½æ•°å‚æ•°å’Œè¿”å›ç±»å‹çš„æ³¨è§£ demo5
06æ•°ç»„ç±»å‹çš„å®šä¹‰ ç±»å‹åˆ«å demo/demo6.ts
07 å…ƒç»„çš„ä½¿ç”¨ demo/demo7.ts
å…ƒç»„ç°åœ¨ç”¨çš„å°‘äº†,å› ä¸ºå¯ä»¥ç”¨å¯¹è±¡çš„å½¢å¼æ¥ä»£æ›¿
08 09 interface æ¥å£ demo/demo8.ts
demo/demo9.ts
[propname:string] : any; å†…éƒ¨çº¦æŸäº†ä¸€ä¸ªå‡½æ•°say():string; æ¥å£çº¦æŸä¸€ä¸ªç±»class xiaojiejie implements Gril æ¥å£çš„æ‹“å±•interface Teacher extends Girl{} ç›¸å½“äºç»§æ‰¿ ç¬¦åˆå­æ¥å£çš„å¯¹è±¡ä¹Ÿç¬¦åˆçˆ¶æ¥å£ 10 ç±»çš„æ¦‚å¿µå’Œä½¿ç”¨ å®šä¹‰ ç»§æ‰¿ é‡å†™ super è°ƒç”¨çˆ¶ç±»ä¸­çš„æ–¹æ³• demo/demo10.ts
ç±»çš„è®¿é—®ç±»å‹ private å†…éƒ¨ç”¨,å¤–éƒ¨ä¸èƒ½ç”¨ protected å†…éƒ¨ç”¨,å¤–éƒ¨ä¸èƒ½ç”¨,ç»§æ‰¿å¯ä»¥ç”¨ public é»˜è®¤æ˜¯public éƒ½å¯ä»¥ç”¨ ç±»çš„å†…éƒ¨ä¸å¤–éƒ¨
demo/demo11.ts
12 ç±»çš„æ„é€ å‡½æ•° demo/demo12.ts
13 ç±»çš„getter setter static åªè¯» demo/demo13.ts
14 æŠ½è±¡ç±» å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å«åšæŠ½è±¡ç±» ç»§æ‰¿æŠ½è±¡ç±»çš„ç±»å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³• demo/demo14.ts
15 16 17 tsconfig.json é…ç½®æ–‡ä»¶ tsc -init ç”Ÿæˆ tsc ä¸åŠ åå­—,ä¼šè°ƒç”¨tsconfig.json &ldquo;include&rdquo;:[&ldquo;demo.ts&rdquo;], å¯ä»¥æ˜¯ç›®å½•åŠæ–‡ä»¶,å¯ä»¥æ­£åˆ™,å¯ä»¥glob &ldquo;exclude&rdquo;:[&ldquo;demo.ts&rdquo;], å¯ä»¥æ’é™¤include é‡Œæ–‡ä»¶ &ldquo;files&rdquo;:[&ldquo;demo.ts&rdquo;], å’Œincludeä¸€æ ·,ä½†åªèƒ½æ˜¯æ–‡ä»¶,ä¸ä¼šè¢«excludeæ’é™¤ compileOptions
strict ä¸¥æ ¼ts noImplicitAny å……è®¸ä½ çš„æ³¨è§£ç±»å‹anyä¸ç”¨ç‰¹æ„æ ‡æ˜ strictNullChecks ä¸å……è®¸æœ‰nullå€¼å‡ºç° ts-node ä¹Ÿä¼šç”¨tsconfig.json rootdir æºä»£ç æ ¹ç›®å½• outDir ç¼–è¯‘è¾“å‡ºçš„æ–‡ä»¶ sourceMap ç”Ÿæˆ.mapæ–‡ä»¶ debugç”¨ noUnsedLocal ä¸èƒ½å‡ºç°æ²¡æœ‰ä½¿ç”¨çš„æœ¬åœ°å˜é‡ 18 ç±»å‹ä¿æŠ¤ä¸è”åˆç±»å‹ ä¸å•ä¸€çš„ç±»å‹ number | boolean åªæœ‰åœ¨è”åˆç±»å‹çš„æ—¶å€™éœ€è¦ ç±»å‹ä¿æŠ¤ ç±»å‹æ–­è¨€ person as Waiter skill in person typeof person ==='string' first instanceof NumberOBJ instanceof åªèƒ½ç”¨åœ¨ç±»ä¸Š demo/demo18.ts
19 enum ç±»å‹ typescript ç‹¬æœ‰ demo/demo19.ts
enum å¯ä»¥åæŸ¥ log(Status[1]) 20 æ³›å‹ demo/demo20.ts
21 ç±»ä¸­ä½¿ç”¨æ³›å‹ æ³›å‹åœ¨ç±»ä¸­çš„ä½¿ç”¨ class C&lt;T&gt; ä¸ºäº†çº¦æŸä¼ å…¥çš„å‚æ•°
æ³›å‹ç»§æ‰¿ æ³›å‹çº¦æŸ demo/demo21.ts
22 23 å‘½åç©ºé—´ åœ¨æµè§ˆå™¨ä¸­è¿è¡Œä¸çœ‹æ•ˆæœ
vscode -&gt; file -&gt; openFloder
vscode-&gt;terminal npm init
tsc -init
mkdir src &amp;&amp; mkdir build &amp;&amp; touch index.html
å‘½åç©ºé—´å¯ä»¥åµŒå¥—
namespace fater { namespace child { } } tsconfig.json
outFile -&gt;ç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ moduble coomjs -&gt;&lsquo;amd&rsquo; 24 import éœ€è¦å¼•ç”¨ require.js æ¥ä½¿ç”¨ amd çš„æ¨¡å—
require([&#34;page&#34;],function(){ }) 25 parcel yarn add --dev parcel 26 ts ä½¿ç”¨jquery yarn add @types/jquery or
declare var $:any; `,url:"https://hugo-dead-simple.netlify.com/typescript/readme/"},"https://hugo-dead-simple.netlify.com/mongodb/readme/":{title:"",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/mongodb/readme/"},"https://hugo-dead-simple.netlify.com/categories/":{title:"Categories",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/categories/"},"https://hugo-dead-simple.netlify.com/search/":{title:"Search Results",tags:[],content:"",url:"https://hugo-dead-simple.netlify.com/search/"}}</script><script defer src=/js/lunr.js></script><script defer src=/js/search.js></script><br><footer><script defer>document.addEventListener("keydown",function(e){if(document.activeElement.isContentEditable)return!1;if(document.activeElement.tagName=="INPUT")return!1;if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=e.key;if(t==="h")e.preventDefault(),e.stopPropagation(),window.location.href="/";else if(t==="t")e.preventDefault(),e.stopPropagation(),window.location.href=`https://${location.hostname}/tags`;else if(t==="i"){e.preventDefault(),e.stopPropagation();const t=document.querySelectorAll("input");for(let e=0;e<t.length;e++)if(t[e].offsetParent!==null){t[e].selectionStart=t[e].selectionEnd=t[e].value.length,t[e].focus();break}}return!1})</script><script defer>function throttle(e,t){var n=Date.now();return function(){var s=Date.now();n+t-s<0&&(e(),n=s)}}function scrollHandler(){const e=Array.from(document.querySelectorAll("body h2, body h3"));function t(){for(var n,s,o,i=window.pageYOffset||document.documentElement.scrollTop,t=0;t<e.length;t++)s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n&&n.classList.remove("active-toc");for(t=e.length-1;t>=0;t--)if(o=e[t].offsetTop,i>o-75&&(s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n)){n.classList.add("active-toc");break}}window.addEventListener("scroll",throttle(t,200))}setTimeout(scrollHandler,100)</script><script defer>function addCopyButtonToCodeBlocks(){const e=document.querySelectorAll('code[class^="language-"]:not(.output):not([class*="language-console"])');e.forEach(e=>{const t=document.createElement("button");t.classList.add("copy-code-button"),t.innerHTML="copy",t.addEventListener("click",()=>{const s=e.querySelectorAll(".cl");let n="";s.forEach(e=>{n+=e.innerText}),navigator.clipboard.writeText(n),t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},1500)}),e.parentNode.before(t)})}setTimeout(function(){addCopyButtonToCodeBlocks()},100)</script></footer></body></html>