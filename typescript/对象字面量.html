<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=cache-control content="max-age=0"><meta http-equiv=cache-control content="no-cache"><meta http-equiv=expires content="0"><meta http-equiv=expires content="Tue, 01 Jan 1980 1:00:00 GMT"><meta http-equiv=pragma content="no-cache"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png }><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#1b1b1b"><meta name=description content="对象字面量"><script>(function(){const e=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.setAttribute("data-theme",e)})()</script><title>对象字面量 | Rainboy's Blog</title><style>:root{--background:#ffffff}@media(prefers-color-scheme:dark){:root{--background:#1b1b1b}}html{background-color:var(--background)}body{background-color:var(--background)}</style><link rel=stylesheet type=text/css href=/style.min.9e52618e081d7542403ff6356f894d993b93e26eb37d3f072c70cd92f0c439ab.css media=all><link rel=stylesheet href=/grid.css><link href="https://fonts.font.im/css?family=Roboto+Mono" rel=stylesheet><style>body,.heti,.heti--sans{font-family:roboto mono,monospace,times new roman,times,heti song,serif,apple color emoji,segoe ui emoji,segoe ui symbol}</style></head><body><nav><ul class=menu><li><a tabindex=-1 class=menu-link href=/><u>H</u>ome</a></li><li><a tabindex=-1 class=menu-link href=/tags><u>T</u>ags</a></li><li><span style=cursor:pointer id=theme-switcher class=menu-link type=button><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon h-4 w-4"><path d="M12 3a6 6 0 009 9 9 9 0 11-9-9z"/></svg></span></li></ul></nav><div id=single-header><h1>对象字面量</h1><div id=single-meta><span class=datesub>2025-09-09</span></div></div><main class="heti heti--classic"><p>在 TypeScript 中，<strong>对象字面量</strong>（Object Literal）是通过花括号 <code>{}</code> 来创建一个对象，并可以直接为其添加属性和值。这与 JavaScript 中的对象字面量使用方式类似，但 TypeScript 为对象字面量提供了类型系统，可以通过类型注解来限制对象的结构。</p><h3 id=1-基本的对象字面量>1. 基本的对象字面量</h3><p>对象字面量用于创建一个新的对象，可以直接指定其属性和值：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=ln>1</span><span class=cl><span class=kr>const</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>  <span class=nx>age</span>: <span class=kt>30</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=p>};</span>
</span></span></code></pre></div><p>这里 <code>person</code> 是一个对象字面量，包含了两个属性：<code>name</code> 和 <code>age</code>。</p><h3 id=2-使用类型注解指定对象字面量的类型>2. 使用类型注解指定对象字面量的类型</h3><p>TypeScript 允许你为对象字面量指定类型，从而限制对象的属性和类型。这使得代码更加安全，能够防止错误的属性赋值。</p><h4 id=示例使用-type-或-interface-定义对象类型>示例：使用 <code>type</code> 或 <code>interface</code> 定义对象类型</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=ln>1</span><span class=cl><span class=kr>interface</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>  <span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=kr>const</span> <span class=nx>person</span>: <span class=kt>Person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>7</span><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>8</span><span class=cl>  <span class=nx>age</span>: <span class=kt>30</span>
</span></span><span class=line><span class=ln>9</span><span class=cl><span class=p>};</span>
</span></span></code></pre></div><p>在这个例子中，<code>Person</code> 是一个接口（<code>interface</code>），它定义了 <code>name</code> 和 <code>age</code> 属性的类型。然后我们通过类型注解 <code>const person: Person</code> 来确保 <code>person</code> 对象符合这个类型。</p><p>你也可以使用 <code>type</code> 来定义类型：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=ln>1</span><span class=cl><span class=kr>type</span> <span class=nx>Person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>  <span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=kr>const</span> <span class=nx>person</span>: <span class=kt>Person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>7</span><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>8</span><span class=cl>  <span class=nx>age</span>: <span class=kt>30</span>
</span></span><span class=line><span class=ln>9</span><span class=cl><span class=p>};</span>
</span></span></code></pre></div><h3 id=3-在对象字面量中使用可选属性>3. 在对象字面量中使用可选属性</h3><p>在对象字面量中，你可以定义可选属性，通过在属性名后添加 <code>?</code> 来实现。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=ln> 1</span><span class=cl><span class=kr>interface</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>  <span class=nx>address?</span>: <span class=kt>string</span><span class=p>;</span> <span class=c1>// 可选属性
</span></span></span><span class=line><span class=ln> 5</span><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=kr>const</span> <span class=nx>person</span>: <span class=kt>Person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=nx>age</span>: <span class=kt>30</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>  <span class=c1>// address 是可选的，可以不提供
</span></span></span><span class=line><span class=ln>11</span><span class=cl><span class=c1></span><span class=p>};</span>
</span></span></code></pre></div><p>在这个例子中，<code>address</code> 属性是可选的，因此你可以在创建 <code>person</code> 对象时不提供该属性。</p><h3 id=4-只读属性>4. 只读属性</h3><p>TypeScript 还允许你为对象字面量定义只读属性，这意味着这些属性的值在初始化后不能被修改。可以使用 <code>readonly</code> 修饰符来实现。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=ln> 1</span><span class=cl><span class=kr>interface</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=kr>readonly</span> <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=kr>readonly</span> <span class=nx>age</span>: <span class=kt>number</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=kr>const</span> <span class=nx>person</span>: <span class=kt>Person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=nx>age</span>: <span class=kt>30</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=c1>// person.name = &#34;Bob&#34;; // 这是不允许的，会报错
</span></span></span></code></pre></div><p>在这个例子中，<code>name</code> 和 <code>age</code> 是只读的，因此你不能修改它们的值。</p><h3 id=5-对象字面量与函数类型>5. 对象字面量与函数类型</h3><p>你还可以将方法作为对象字面量的一部分来使用。函数类型可以在对象字面量中直接定义。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=ln> 1</span><span class=cl><span class=kr>interface</span> <span class=nx>Person</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=nx>name</span>: <span class=kt>string</span><span class=p>;</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=nx>greet</span><span class=o>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=k>void</span><span class=p>;</span> <span class=c1>// greet 是一个函数
</span></span></span><span class=line><span class=ln> 4</span><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=kr>const</span> <span class=nx>person</span>: <span class=kt>Person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=nx>greet</span><span class=o>:</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`Hello, my name is </span><span class=si>${</span><span class=nx>person</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=nx>person</span><span class=p>.</span><span class=nx>greet</span><span class=p>();</span> <span class=c1>// 输出：Hello, my name is Alice
</span></span></span></code></pre></div><h3 id=6-使用索引签名>6. 使用索引签名</h3><p>索引签名允许对象字面量具有任意数量的属性，并且这些属性的类型是预定义的。通过 <code>index signature</code>，你可以指定对象可以有任意数量的键，并限制键值的类型。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=ln> 1</span><span class=cl><span class=kr>interface</span> <span class=nx>Dictionary</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=p>[</span><span class=nx>key</span>: <span class=kt>string</span><span class=p>]</span><span class=o>:</span> <span class=kt>number</span><span class=p>;</span> <span class=c1>// 键是 string 类型，值是 number 类型
</span></span></span><span class=line><span class=ln> 3</span><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=kr>const</span> <span class=nx>myDictionary</span>: <span class=kt>Dictionary</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>  <span class=nx>apple</span>: <span class=kt>10</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=nx>banana</span>: <span class=kt>20</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>myDictionary</span><span class=p>.</span><span class=nx>apple</span><span class=p>);</span>  <span class=c1>// 输出：10
</span></span></span></code></pre></div><p>在这个例子中，<code>Dictionary</code> 接口定义了一个索引签名，允许任何字符串键，且这些键对应的值都必须是 <code>number</code> 类型。</p><h3 id=7-使用类型推断>7. 使用类型推断</h3><p>TypeScript 会自动推断字面量对象的类型。如果你没有显式地为对象指定类型，TypeScript 会根据对象的结构自动推断类型。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=ln>1</span><span class=cl><span class=kr>const</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>  <span class=nx>age</span>: <span class=kt>30</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=p>};</span>  <span class=c1>// TypeScript 推断 person 的类型为 { name: string; age: number; }
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=c1></span>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=nx>person</span><span class=p>.</span><span class=nx>name</span> <span class=o>=</span> <span class=s2>&#34;Bob&#34;</span><span class=p>;</span>  <span class=c1>// 允许修改
</span></span></span><span class=line><span class=ln>7</span><span class=cl><span class=c1>// person.name = 100;  // 错误，因为 name 应该是 string 类型
</span></span></span></code></pre></div><h3 id=8-禁止额外的属性>8. 禁止额外的属性</h3><p>有时，你希望对象字面量只能包含某些特定的属性，禁止添加任何额外的属性。可以使用 <code>exact</code> 类型来实现这一点（通过 <code>as const</code> 来确保字面量类型的精确性）。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-typescript data-lang=typescript><span class=line><span class=ln>1</span><span class=cl><span class=kr>const</span> <span class=nx>person</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Alice&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>  <span class=nx>age</span>: <span class=kt>30</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=p>}</span> <span class=kr>as</span> <span class=kr>const</span><span class=p>;</span>  <span class=c1>// 使用 &#39;as const&#39; 来确保属性是只读的并且精确匹配
</span></span></span><span class=line><span class=ln>5</span><span class=cl><span class=c1></span>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=c1>// person.name = &#34;Bob&#34;;  // 错误，因为 &#39;name&#39; 是只读的，不能修改
</span></span></span><span class=line><span class=ln>7</span><span class=cl><span class=c1>// person.address = &#34;NY&#34;;  // 错误，因为 `address` 属性并不在对象字面量中
</span></span></span></code></pre></div><h3 id=总结>总结</h3><ul><li><strong>对象字面量</strong> 是通过 <code>{}</code> 创建的普通 JavaScript 对象，在 TypeScript 中可以通过类型注解来指定其结构。</li><li>你可以使用 <code>interface</code> 或 <code>type</code> 来定义对象的结构，确保对象符合某种预期的形状。</li><li>TypeScript 还支持可选属性、只读属性、索引签名、方法等功能。</li><li>TypeScript 会自动推断对象字面量的类型，如果你不提供类型注解。</li></ul><p>通过这些方式，你可以在 TypeScript 中创建灵活、类型安全的对象字面量。</p></main><br><footer><div class=footer-info><p>Copyright &copy; 2025 Rainboy. All rights reserved.
<span>| Last build: 2025-09-24 23:05:13</span></p></div><script defer>document.addEventListener("keydown",function(e){if(document.activeElement.isContentEditable)return!1;if(document.activeElement.tagName=="INPUT")return!1;if(e.altKey||e.ctrlKey||e.shiftKey)return!1;var t=e.key;if(t==="h")e.preventDefault(),e.stopPropagation(),window.location.href="/";else if(t==="t")e.preventDefault(),e.stopPropagation(),window.location.href=`https://${location.hostname}/tags`;else if(t==="i"){e.preventDefault(),e.stopPropagation();const t=document.querySelectorAll("input");for(let e=0;e<t.length;e++)if(t[e].offsetParent!==null){t[e].selectionStart=t[e].selectionEnd=t[e].value.length,t[e].focus();break}}return!1})</script><script defer>function throttle(e,t){var n=Date.now();return function(){var s=Date.now();n+t-s<0&&(e(),n=s)}}function scrollHandler(){const e=Array.from(document.querySelectorAll("body h2, body h3"));function t(){for(var n,s,o,i=window.pageYOffset||document.documentElement.scrollTop,t=0;t<e.length;t++)s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n&&n.classList.remove("active-toc");for(t=e.length-1;t>=0;t--)if(o=e[t].offsetTop,i>o-75&&(s=e[t].getAttribute("id"),n=document.querySelector('nav ul li a[href="#'+s+'"]'),n)){n.classList.add("active-toc");break}}window.addEventListener("scroll",throttle(t,200))}setTimeout(scrollHandler,100)</script><script defer>function addCopyButtonToCodeBlocks(){const e=document.querySelectorAll('code[class^="language-"]:not(.output):not([class*="language-console"])');e.forEach(e=>{const t=document.createElement("button");t.classList.add("copy-code-button"),t.innerHTML="copy",t.addEventListener("click",()=>{const s=e.querySelectorAll(".cl");let n="";s.forEach(e=>{n+=e.innerText}),navigator.clipboard.writeText(n),t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},1500)}),e.parentNode.before(t)})}setTimeout(function(){addCopyButtonToCodeBlocks()},100)</script><script defer src=/js/theme-switcher.js></script></footer></body></html>